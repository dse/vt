Unix/Linux Terminal News
 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

Using a character-cell video terminal with Unix is somewhat different from 
pointing-and-clicking on a Windows PC; also it differs from using a Unix-
based workstation from its graphical display.  (Of course, with most Unix
systems, you can use an "X terminal" for a GUI interface that is remote
from the system box.  But here we are concerned with simple ASCII devices.)

The results you get are affected by lots of factors, some of which are the
same for all operating systems... and some of which are peculiar to Unix
(and/or Linux).

This document contains some of the "peculiar stuff."
Look in other files at this site for the general stuff.

A special category of peculiar stuff is the "terminfo" and/or "termcap"
database.  A good source of information is the book described at:

    http://www.ora.com/www/item/term.html

and there is also the master termcap/terminfo database:

    http://tuxedo.org/~esr/terminfo/

There is also the built-in Unix manpage documentation.  Type these commands:

    man terminfo          (System V Unix: e.g., Solaris)
    man termcap           (BSD Unix: e.g., FreeBSD)
    man -s 7i termio      (System V)
    man    4  termio      (BSD)
    man stty
    man tset

The "term" and/or "TERM" environment variables are typically used
to tell the system which records to look up in terminfo or termcap.
The manpage for your user shell should describe how these may be set.
You should be able to do at least

    echo $TERM

to see the current setting.

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

As of A.D. 2002, one type of complaint frequently seen asked in many Unix
(and/or Linux) discussion forums goes something like this:

  "I think Unix is broken.  When I use the [whatever] Unix program, my
   function keys don't work right and my screen display looks all weird.
   Oh, by the way, I'm connecting to Unix from Windows, using the "telnet"
   or "Hyperterminal" program that came with Windows.

...and, upon investigation, the *real* problem turns out to be one of
two things:

 (1) the TERM variable was set to some inappropriate value, such as 'tty'.

 (2) the [whatever] Unix program was trying to do some operation which
     would work fine on a real video terminal, but which does not work
     in a Hyperterminal or Windows Telnet session.

When you are about to use one of these programs supplied "for free" by
Microsoft, keep the following thought in mind:  almost always, you will be
using it to communicate with a non-Windows operating system.  It is *not*
in the economic interest of Microsoft Corporation that doing so should be
easy for you.  Microsoft *wants* you think that Unix is broken.

So, before you give up trying to use Unix, try a different terminal-
emulation program, and use the TERM and "stty" settings appropriate to it.

(Elsewhere on this website there is a discussion of the peculiarities
of the Hyperterminal program that Microsoft supplies.)

Another thing to consider is that some properties of the interactive
environment are determined by the shell (sh, csh, ksh, tcsh, etc.).

 ..............................................................................

Indeed, the means of telling Unix what kind of terminal you are using,
and how to control it, are complex, and the settings interact in
non-intuitive ways.

I've compiled a few rules of thumb, most of which work fairly well
in Sun's Solaris when the user shell is "csh" or "tcsh".  With
other Unix variants and shells, YMMV.

To find out the serial-port/pseudo-terminal parameters, the "stty -a"
command can be used, e.g.,

    % stty -a
    speed 38400 baud; 
    rows = 25; columns = 80; ypixels = 0; xpixels = 0;
    eucw 1:0:0:0, scrw 1:0:0:0
    intr = ^c; quit = ^|; erase = ^?; kill = ^u;
    eof = ^d; eol = <undef>; eol2 = <undef>; swtch = <undef>;
    start = ^q; stop = ^s; susp = ^z; dsusp = ^y;
    rprnt = ^r; flush = ^o; werase = ^w; lnext = ^v;
    -parenb -parodd cs8 -cstopb -hupcl cread -clocal -loblk
    -crtscts -crtsxoff -parext 
    -ignbrk brkint ignpar -parmrk -inpck -istrip -inlcr -igncr icrnl -iuclc 
    ixon -ixany -ixoff imaxbel 
    isig icanon -xcase echo echoe echok -echonl -noflsh 
    -tostop echoctl -echoprt echoke -defecho -flusho -pendin iexten 
    opost -olcuc onlcr -ocrnl -onocr -onlret -ofill -ofdel tab3 

To find out what some of the above "ioctl" settings are, you have to do

    % man -s 7i termio

Often the best way to set the number of rows and columns displayed
is by using the "stty" command:

    % stty rows 24 cols 80

A "termcap" entry for a given terminal can be transformed into the
(mostly) equivalent "terminfo" entry by using the "captoinfo" program.

    % man -s 1m captoinfo

(The "tic" program is used for setting up a terminfo entry.)

Depending on which program you are running, it may take its cues about
the terminal's control codes from either terminfo or termcap.  In
Solaris 2.x, at least, most of the OFFICIAL tools do use terminfo, but
informally acquired programs are unpredictable.  So you may need accurate
descriptions of your terminal type in BOTH databases on your Solaris
machine.  The environment and/or shell variables "TERM" and "term" 
influence which terminfo/termcap entry is used.

    % echo $TERM
    unknown

    % setenv TERM vt100

    % echo $TERM
    vt100

One handy alias I keep in my .cshrc:

    alias vt100    'set term = vt100 ; tset -I -Q'

Some versions of Unix (not Sun's Solaris but many BSD flavors) support
a shorthand way of setting the line discipline to the way DEC VTxxx
terminals like it:

    % stty dec
               set all modes suitable for Digital Equipment Corp.
               operating systems users; (erase, kill, and interrupt
               characters to ^?, ^U, and ^C, decctlq and ``newcrt''.) 

               The "decctlq" setting means that when output has been halted
               by Control-S (XOFF), only a Control-Q (XON) will restart it.

The environment variable "LANG" influences the character set used for display.

In international-character environments (e.g., RHEL), the contents of the file

    /etc/sysconfig/i18n

also have an effect on the character sets used.

Information on other UNIX variants will be added as it becomes available
and as time permits.

 ...RSS

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

Most Unix systems use full-duplex communication.  This means that
when you type a key on the terminal's keyboard, nothing appears on
the terminal's screen until the ASCII code has arrived at the Unix
host and has been echoed back down the wire to the terminal.

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

Judging from Usenet postings, many nascent programmers are not aware that
the Unix programming model for character-cell terminals is discussed in a
well known book.  See chapter 11 in:

    "Advanced Programming in the UNIX Environment"
    by W. Richard Stevens. 
    Reading, Massachusetts: Addison-Wesley, 1992.
    ISBN: 0-201-56317-7

(Furthermore, chapter 18 of this book discusses dialing an async modem.)

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

Another reference book on the Internet is

    "UNIX Hints and Hacks"
     by Kirk Waingrow.
     Copyright 1999 MacMillan/Que.
     ISBN 0-7897-1927-4.

Here is the URL of the chapter describing character-cell terminal
displays and emulations.

http://infobase.informit.com/infobase/content/0743100026/shelf/books/0789719274/19270099.htm


 //////////////////////////////////////////////////////////////////////////////
 \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\


One important fact: when you press a function or command key on a
character-cell video terminal, you are sending an Escape sequence of
some type.  This Escape sequence encodes the meaning of the keystroke.
This differs from a PC, where the meaning of the keystroke is carried
in a Scan code.

(Oops....pedantic note: some terminal types may use control sequences
that do not start with an ASCII Escape character, but the principle is
the same, whether the Down-arrow key sends Escape O B or Control-N.
The ANSI X3.64-compatible terminal types do use Escape sequences;
such types include VT100, VT220, VT320, xterm, and dtterm.)

Thus, a large part of satisfactory terminal emulation is getting the
host operating system (Unix in this case) and the terminal-emulator
software on the PC to agree on a logical and useful vocabulary of
Escape sequences generated by typing keys on the PC's keyboard.  You
want them both to speak the same language.

Unfortunately, there is no authoritative dictionary for function-key
meanings, so disagreements do arise.

Both "termcap" and "terminfo" contain some features for allowing
programs to know what Escape sequences to expect from a terminal
type, although not every Unix program uses these features.  And most
terminal-emulation programs contain some way to adjust what the
individual keys transmit.

(Note that there are major differences in how Windows and Unix regard
"scan codes" generated by a PC keyboard.  Several messages below 
discuss this.)

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

Some documentation for standardized "curses" is available on the Web:

    http://www.rdg.opengroup.org/onlinepubs/7908799/cursesix.html

1998-04-04

  ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

From the VT525 FAQ:  [http://ftp.digital.com/pub/Digital/termcaps/faqvt525.txt]
                     [originally
                      ftp://gatekeeper.dec.com/pub/DEC/termcaps/faqvt525.txt]

        6.  Why don't the arrow keys work with the 'vi' editor in VTx00 modes?

            ANSI arrow keys transmit key sequences which have the form

                   up arrow =      Esc [ A

            'vi' has two modes of operation:  Command mode and Insert mode.

            'vi' interprets the ASCII Escape code as a command to exit
            Insert Mode and return to Command mode.  If an Escape is
            received while in Command mode, it is an error and the user is
            notified by beeping the terminal.

            When 'vi' receives an Escape code it starts a Timer.  If the
            timer times out before receiving the "[" code, 'vi' interprets
            the Escape as an Escape and the following "[ A" codes are
            interpreted as commands.  These "bad commands" cause 'vi' to
            beep the terminal.

            The symptom is intermittent as it is TIMING DEPENDENT and is
            affected by communications-channel delays and processor speeds.

            Workaround:  Enter the 'vi' command, "set notimeout".


 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:


The idiosyncrasies of Unix terminal handling are thoroughly derogated
in Chapter 6 "Terminal Insanity" of

    "The Unix-Haters Handbook"
    by Simson Garfinkel, Daniel Weise, and Steven Strassmann.
    San Mateo, CA:  IDG Books/Programmers Press, 1994.
    ISBN 1-56884-203-1

(At the time, Weise worked for Microsoft; Strassmann worked for Apple.
Garfinkel was a writer for "Wired" magazine.  Unix had been a serious
operating system for a decade; Windows was up to version 3.1, but had
not yet been improved to its current advanced design in which you
activate the "Shutdown" function via the "Startup" button.)

For an alternate viewpoint, with less ranting, there is good information 
in the book

    "Unix Power Tools, 3rd Edition"
    by Shelley Powers, Jerry Peek, Tim O'Reilly, and Mike Loukides
    Sebastopol, California: O'Reilly and Associates, October 2002.
    ISBN: 0-596-00330-7, Order Number: 3307
    1156 pages, $69.95 US, $108.95 CA, £49.95 UK 
    http://www.oreilly.com/catalog/upt3/
 
According to current policy of O'Reilly and Associates, the text of
"Unix Power Tools, 3rd Edition" is readable online, as part of the
"Safari" documents, for which there is a free 2-week demo period.

    http://safari.oreilly.com/0596003307

The older 2nd edition had terminal information in Part VII:

    "Unix Power Tools, 2nd Edition"
    by Jerry Peek, Tim O'Reilly, and Mike Loukides
    ISBN 1-56592-260-3
    August 1997, 1120 pages, with CD-ROM.
    http://www.oreilly.com/catalog/upt2/


 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.unix.programmer
Date: Tue, 19 Jun 2001 08:53:50 -0500
From: Chuck Dillon <dillon@accelrys.com>
Subject: Re: stty command -  what it does

caroline wrote:
> 
> hi,
>   can you please explain what stty does.
>   thanks,
> caroline.c

Terminal devices are highly configurable and their interfaces are
standardized, so that they all look pretty much the same.

In C code you use the ioctl() system call to read/change terminal
settings.  It is often necessary to be able to read/change terminal
settings from a script.  The stty program is a commandline interface
that sits on top of ioctl() which allows you to script reading and/or
changing of terminal settings.

The man page for stty describes the capabilities, in stty terms,
and it refers to other manpages (e.g. ioctl, termio ...) which
describe the lower level stuff.

HTH,

-- ced
-- 
Chuck Dillon
Senior Software Engineer
Accelrys Inc., a subsidiary of Pharmacopeia, Inc.

 //////////////////////////////////////////////////////////////////////////////

Resources for Linux users

    Two very helpful hyperdocuments by David S. Lawyer from
    The Linux Documentation Project:

    "Text-Terminal-HOWTO"
    http://www.tldp.org/HOWTO/Text-Terminal-HOWTO.html
    ftp://sunsite.unc.edu:/pub/Linux/docs/HOWTO/Text-Terminal-HOWTO

    "Serial-HOWTO" 
    http://www.tldp.org/HOWTO/Serial-HOWTO.html
....

    Useful to Macintosh/iMac/iBook owners:
    "MacTerminal Mini-HOWTO"
    http://www.tldp.org/HOWTO/mini/Mac-Terminal.html
....

    Of less direct but possible peripheral interest:
    "Keyboard and Console HOWTO"
    http://www.tldp.org/HOWTO/Keyboard-and-Console-HOWTO.html
....

    Linux "How To" Index
    http://www.tldp.org/

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:


Other resources (some specialized to SCO Unix):

    http://unixware.sco.com/

     ftp://ftp.uu.net/vendor/sco/Term/
    http://develope.plantrol.com/support
    http://www.erols.com/rbetter/sco.txt


    http://www.stokely.com/stokely/index.html

	[The Stokely resources are now archived here:
	 http://www.sunhelp.org/unix-serial-port-resources
	]

 ...RSS]


 //////////////////////////////////////////////////////////////////////////////


Sometimes being able to read a single keystroke or control-keystroke sequence
is useful.  Editor programs, for instance, often need to do this.  For an
example of how the well-known open-source editor program "vim" implements this,
you can look to a repository of source code, such as...

    http://www.opensource.apple.com/darwinsource/10.4.3/vim-13/vim/src/getchar.c


Or, more generally,

    http://www.vim.org/download.php



 //////////////////////////////////////////////////////////////////////////////

OK.  Time has permitted an entry about Hewlett-Packard's Unix flavor...


Configuring HP-UX 10.20 for a terminal....

Using SAM to configure the port /dev/tty3p1: the user wanted the setting
to be 9600, 8 no parity, so I used the following entry in the
/etc/gettydefs file:

m9600   # B9600  HUPCL IGNPAR ICRNL IXON OPOST ONLCR CS8 CREAD
                 ISIG ICANON ECHO ECHOE ECHOK ISTRIP IXANY TAB3
        # B9600  SANE IGNPAR CS8 ISTRIP IXANY HUPCL TAB3
        #login 9600: #m9600

As of 1999-12-20, the following Web location gives advice on
setting up charcter-cell terminals under HPUX 10.20.

    http://www.hp.com/visualize/programs/y2k/y2k_menu/y2k_help/os_transition/docs/periph/terms3.htm

 //////////////////////////////////////////////////////////////////////////////

Information on the UNIX "screen" ASCII window manager may be seen at

    http://www.math.fu-berlin.de/~guckes/screen/screen.intro.html


The commercial "Mascot" Alphawindows screen manager may be seen at

    http://www.jsb.com/products/mvwmas/mascot.html


 ///\\\///\\\///\\\///\\\///\\\///\\\///\\\///\\\///\\\///\\\///\\\///\\\///
 \\\///\\\///\\\///\\\///\\\///\\\///\\\///\\\///\\\///\\\///\\\///\\\///\\\

ARCHIVER'S NOTE:

Below this point, the information in this document is mostly scavenged from
several different Usenet newsgroups.  It varies in accuracy.  In several
places, you can observe the common Usenet syndrome of a participant not 
bothering to actually understand the question being asked before posting
an answer!

 ...RSS

 ///\\\///\\\///\\\///\\\///\\\///\\\///\\\///\\\///\\\///\\\///\\\///\\\///
 \\\///\\\///\\\///\\\///\\\///\\\///\\\///\\\///\\\///\\\///\\\///\\\///\\\


Newsgroups: comp.terminals
References: <9kdi7s$c6p$04$1@news.t-online.com>
X-Original-NNTP-Posting-Host: 216.220.165.51
Message-ID: <3b6e048c_2@news3.paonline.com>
Date: Sun, 5 Aug 2001 22:46:56 -0400
From: "paonline" <root@localhost.com>
Subject: Re: TeleVideo 925 and SUSE Linux ????

Martin Altmeyer wrote in message <9kdi7s$c6p$04$1@news.t-online.com>...
>
> Hi !
> 
> I got an Televideo 925 Terminal, and I want to use it on my linux
> machine....
> What must I do ??


Martin,

 i guessing the Televideo 925 is a serial terminal ?
 if so you just need a "null modem" cable, a working serial port,
 serial port support compiled into the kernal, most likely already done,
 then use your favorite editor and open the file file /etc/inittab

for a "com1" or "/dev/ttyS0" port, add a line :

S1:12345:respawn:/sbin/agetty <baud> ttyS0 tvi925

save the file, then run

"telinit q" to reread the inittab

there might be other issues that allow logins from the serial port,

the file /etc/securetty should contain a line with "ttyS0"
and the file /etc/termcap should have a terminal definition the the 925,
you can copy and paste this from the master termcap file "termcap-BSD".

Anyone else ?
Well, good luck; they are lots of fun, once running.

Andy

 ............................................................................

Newsgroups: comp.unix.shell
Date: 20 Feb 1997 02:20:40 GMT
From: Brian S Hiles <bsh20858@news.fhda.edu>
Subject: Re: Getting Backspace_key to actually backspace

Lifeform (timewarp@sirius.com) wrote:
:
: Is there an easy way to configure my shell to allow me the pleasure of
: using the [backspace] key like a normal human being?

Try

% stty erase \^H         ( # or ^?, whatever your backspace key generates)

-- 
-Brian

 ............................................................................

Newsgroups: comp.unix.shell
Date: Thu, 20 Feb 1997 06:27:12 GMT
From: David Boyce <dsb@world.std.com>
Subject: Re: Getting Backspace_key to actually backspace

It's a minor point, but you can generally get away without having to know
control sequences such as the above: just type "stty erase " and then hit
the backspace key and carriage return. Since we already know that the
character it generates is not being treated as a backspace, it will be
taken literally and will have the desired effect. This assumes, of
course, that you don't already have backspace mapped to some other
action, which should be a pretty safe bet.

-- 
David

 ............................................................................

or 

$ stty erase Ctrl-V<Hit the Delete Key>

where the Control-V forces literal interpretation....

 ............................................................................

From: Joseph Gil <yogi@cs.ubc.ca>
Organization: Computer Science, University of B.C., Vancouver, B.C., Canada

Q: How can an application set the Backarrow (the key at the north east
side of the keyboard which is supposed to erase the previous char.
The icon on it is something like <=] partkey of VT320 to send backspace? DEL?

A: Send ESC[?67l to make <=] send DEL
   Send ESC[?67h to make it send BackSpace.

The following CSH script in unix may turn useful for switching
between the two modes.

	if ($?DEL) then
		stty erase "^?"	
		echo "[?67l"
	else
		stty erase ""
		echo "[?67h"
	endif

 ............................................................................

Newsgroups: comp.unix.shell
Date: 21 Feb 1997 17:07:13 GMT
From: Dan Mercer <damercer@mmm.com>
Subject: Re: Getting Delete key to actually delete

Da Borg <vladimip@uniserve.com> wrote:
:
: What about "Delete" key? It does generate "^?" on my system.
: How do I remap it to actually delete next char instead of
: backspacing of printing "^?" ? The systems are SunOS and Linux.

: stty <what?> ^?

stty controls your terminal settings.  UNIX terminal line protocol
does not have a "delete next char" function.  You can,  however,
map the delete key to a delete next char in your favorite editor.

In vi,  place the following in your .exrc file (replace <DEL> with
your delete key and <esc> with <ctrl-V><ctrl-Esc>).

map! ^? ^[lxi
map ^? x

-- 
Dan Mercer
Reply To:  damercer@mmm.com


 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

Newsgroups: comp.os.linux.misc,comp.unix.sco.misc
Organization: Columbia University  
Message-ID: <8ef47s$qta$1@newsmaster.cc.columbia.edu>
References: <Pine.LNX.4.21.0004270901200.840-100000@telemachus> <8ecroc$26o$1@p
enguin.transmeta.com> <390ADD9F.7067D850@pcunix.com> <Fts9Hz.4s1@wjv.com.remove
me>
Date: 29 Apr 2000 16:56:28 GMT
From: fdc@watsun.cc.columbia.edu (Frank da Cruz) 
Subject: Re: Linux and SCO 

In article <Fts9Hz.4s1@wjv.com.removeme>,
Bill Vermillion <bill@wjv.com.REMOVEME> wrote:
:
: In article <390ADD9F.7067D850@pcunix.com>,
: Tony Lawrence  <tony@pcunix.com> wrote:
: >
: > Linus Torvalds wrote: 
: >>
: >> T.E.Dickey <dickey@shell.clark.net> wrote:
: ...
: I think it would be better to leave the VT100 emulation alone and
: build an alternate emulator than to muck with the VT100 'standard'.


And your wish came true.  PC-based Unixes like Linux and SCO each
have their own unique console terminal definition that is definitely
not VT100, although it shares the VT100's ANSI X3.64 basis.  SCO has 
SCOANSI and Linux has Linux Console.  Also there is AT386 used by
Interactive Unix and later (I think) Unixware.  The problem with
these "emulations" is that they aren't emulations at all, since they
aren't emulating anything and there is no physical terminal (like
the VT100) to check them against.  Their specifications can be hard
to come by, and even when found, incomplete and/or inaccurate.

To this day, we discover undocumented sequences used by applications
that were designed for SCOANSI, AT386, etc.

As for the Backspace/Delete controversy...  This is decades old.

The best policy (by the Principle of Least Astonishment) is to treat
them the same by default, as many Unix variations now do, and use
them to erase the character left of the cursor.  People who truly
need to distinguish between Rubout (127) and Backspace (8) will have
enough of a clue to be able to do so.

Those of us who still use command shells are left with the remnants
of two ancient cultures: the original Unix culture and the
once-mighty DEC culture.  Remember that Unix was first developed in
the late 1960s*, and predates the DEC heyday.  The Unix guys picked
certain keys to do certain things.  DEC picked other keys to do the
same things:
                      Unix   DEC
  Erase Character      ^H     ^?
  Erase Line            @     ^U
  Interrupt Process    ^?     ^C

The differences might largely have been because Unix was originally
accessed from Teletypes, which (if memory serves) did not have a 
proper Ctrl key, whereas DEC systems (PDP-11, PDP-10, etc) were
mainly accessed from terminals that did have a Ctrl key (LA34,
LA36, VT05, VT50, VT52, VT100, ...) (although it is also true that
early DEC systems were delivered with Teletype consoles.)

After the fall of DEC culture, most of its people were absorbed into
and influenced by Unix culture, and we began to see DEC usage
predominate.  Still, many Unixes are delivered with some or all of
the default original Unix setups.  The result being that when you
Telnet to different Unix systems, you never know what Ctrl-H or
Del/Rubout will do.

For that reason, terminal emulators always give you a choice for the
mapping the Backpace (<-) key.

Of course matters are even more cofusing when we throw in EMACS/Vi
conventions, Function keys, the arrow keypad, and so forth, not to  
mention keys with promising labels like "Insert", "Page Up", "Find",
"Select" and "Help", but that's a different story!  Wouldn't it be
great if, after all these years, keys actually did what their
keytops say they do?


termcap
~~~~~~~~

   Termcap is /etc/termcap (unless you've defined the shell variable
   TERMCAP to point somewhere else). This is the original Unix method of
   storing terminal information. While termcap isn't as powerful as
   terminfo, it is simpler to use, and if the programmer doesn't need a
   lot of fancy features, this is often the choice made. The file
   consists of entries that describe terminals, both in terms of
   capabilities (screen dimensions, etc), what special keys send when
   pressed, and what sequences need to be sent to do things like erase a
   line or move the cursor. All these are described in man F termcap. It
   is important to understand the difference between a capability (what
   the program must do in order to make the terminal act a certain way)
   and a definition (the F1 key will send a certain sequence). If you
   changed the termcap file for the scoansi terminal so that the "k1" (F1
   key) entry was defined as "ESC-J@", pressing your F1 key is NOT going
   to produce "ESC-J@". All that entry does is tell a program that if it
   sees "ESC-J@" coming from a scoansi terminal, it should interpret that
   as being the F1 key.

   A program can use the termcap programming routines but read its
   information from a different termcap file. A programmer can also add
   new capabilites to that file (or even to /etc/termcap). The ubiquitous
   Filepro database uses both of those techniques to achieve its goals.
   You can add and change entries for your own purposes, too. For
   example, a certain program may work fine with your vt100 terminal
   except that it needs the F1 key but does not recognize it, because it
   is a "broken" program, badly written, and isn't using termcap or 
   terminfo. Using the setup program within the terminal itself, you can
   reprogram the F1 key to send what the program expects to see (assuming
   you can determine this), but now other programs won't work because
   they are expecting the sequence that termcap (or terminfo) says the
   terminal will send. By changing the entry in /etc/termcap (or in
   terminfo- see below), you can make both programs happy. Usually the
   best way to do this is to copy the "mostly working" entry to a new
   terminal name ("myvt100") and modify that, so that you aren't
   affecting anythingbut the terminal(s) you really need to.
   
   As mentioned above, a program can have its own TERMCAP file, located
   somewhere other than /etc. If that's the case, you'd obviously need to
   look there for any modifications. Sometimes the file provides the 
   functions of TERMCAP but not its syntax: RealWorld has sometimes used
   files like ANSI.config, etc. for this. 

   
Terminfo
~~~~~~~~   

   Conceptually, terminfo is similar to termcap- it is a data base of 
   terminal information. However, it is set up completely differently,  
   and using it in a program is a little more difficult (though the
   difficulty is offset by increased capability). Terminfo keeps its data
   in a compiled form in subdirectories of /usr/lib/terminfo. You'll find
   Wyse terminals under /usr/lib/terminfo/w, vt100 models unter
   /usr/lib/terminfo/v, ansi variations under /usr/lib/terminfo/a, etc.
   The source for all these terminals is usually found in
   /usr/lib/terminfo/terminfo.src (see man M terminfo for a description  
   of the entries in terminfo source files).
   
   Most modern Unix programs use terminfo. You can see that by copying
   the entry for your terminal in /etc/termcap to a new entry, and
   changing it only by modifying its name. For example, you might copy
   the "vt100" section to "myvt100". You could then set TERM=myvt100,
   export TERM (if it isn't already), and programs that use termcap would
   continue to work happily. Attempt to use vi, however, and you'd get a
   strange message:
   
myvt100: Unknown terminal type
I don't know what kind of terminal you are on - all I have is 'myvt100'
[Using open mode]
   
   That's because vi uses terminfo, not termcap. You could copy
   /usr/lib/terminfo/v/vt100 to /usr/lib/terminfo/m/myvt100 and then vi
   would be happy. 
   
   You could also add a new entry to terminfo.src and use "tic" to
   compile it (which would create the compiled entry in the proper
   subdirectory). Some programs use terminfo files but put them in their
   own directory and use their own versions of "tic" (Pick based programs
   often do this, and so did the old Unix Lotus version, some versions of
   Synchronics, etc.).
   
Solving Emulation Related Problems
   
   If the terminal is connected by a serial line, be sure that the
   /etc/ttytype file has the proper entry and that the "tset" line in
   .profile knows how to handle that entry (note that the devices in
   /etc/ttytype are ALWAYS the lower case versions, so even if you are
   coming in on /dev/tty2A, you want to have tty2a in /etc/ttytype). You 
   can cause tset to change the meaning of /etc/ttytype:
   
eval `tset -m wy50:wy60-25 -m ansi:${TERM:-ansi} -m :\?${TERM:-ansi} -e -r -s -Q`

   That line will set TERM to wy60-25 even when /etc/ttytype says it is a
   wy50.
   
   If the terminal doesn't work properly, you can sometimes fix it by
   checking to see what it actually sends. Using "hd", you can type the
   keys you are having trouble with, and see if they match the proper
   entries in /etc/termcap or /usr/lib/terminfo.src. For example, if I 
   run "hd" and press the F1 key on my console, followed by ENTER and 2
   CTRL_D's, I'll get back
   
0000    1b 5b 4d 0a                             .[M.
   
   That shows me that the F1 key generated Escape (that's hex 1b or
   decimal 27), then a bracket (hex 5b, decimal 91), then an "M" (hex 4d,
   decimal 77). The 0a is the Enter I typed after the F1.
   
   Checking the ansi entry in /etc/termcap. I see that k1 is defined as  
   "\E[M". As"\E" is termcap's notation for Escape, this is correct.
   Looking in /usr/lib/terminfo/terminfo.src reveals that the ansi entry
   defines kf1 (that's terminfo's notation for F1) identically. If these
   things were not true, I wouldn't expect my terminal to work correctly.


 ......

    [* ARCHIVER'S NOTE:  Above, Frank asserts that
     "Unix was first developed in the late 1960s, and predates the DEC heyday."
     It was the summer of 1969 when Ken Thompson at Bell Labs obtained a
     disused PDP-7 computer and began to design an operating system for it,
     drawing on his experience in the Multics project.  The exact timing
     of the "DEC heyday" is less precise.  My own subjective judgment is
     that Digital Equipment Corporation, under Ken Olsen, reached its peak
     of confidence, influence, and perceived technological leadership in the
     spring of 1987, but I suspect Frank has a different estimate. ...RSS ]

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.protocols.kermit.misc
Path: cs.utk.edu!gatech!newsfeed.internetmci.com!news.exodus.net!aimnet.com
      !ns2.mainstreet.net!bug.rahul.net!a2i!rahul.net!a2i!dold.a2i!dold
Organization: a2i network
Message-ID: <4er911$ml3@hustle.rahul.net>
References: <DM1zzD.2rp@CSUFresno.EDU>
NNTP-Posting-Host: foxtrot.rahul.net
Date: 1 Feb 1996 20:49:37 GMT
From: Clarence Dold <dold@rahul.net>
Subject: Re: Kermit for Win3x--K95?

Steve Cosner (stevec@zimmer.CSUFresno.EDU) wrote:

: My home setup requires me to connect to a Sun Unix server.  K3.1 works
: pretty well except backspace won't delete backwards.  I know I can
: redefine the backspace key, but is there a standard setup somewhere
: for this type of connection?

I connect to a SunOS 4.1.3 system with Kermit of various flavors.
MSKermit 3.14, Unix C-Kermit 190, Kermit-95 1.2

My choice is to map the backspace key, although I could have done an stty on
the UNIX side to accomplish the same task.  I also map the function keys
that exist on my PC keyboard, although they don't exist on a real vt100, and
therefore don't exist in the default Kermit-vt100.

From my mskermit.ini (for MSKermit 3.14, if that matters (?))

define UKEY1 set key clear,set key \270 \008,set key \782 \008; BackSpace
do UKEY1

; to match (ESIX 4.0.4) vt100 extended function keys to PC keyboard.
;			f5		f6		f7			f8			f9		f10
define UKEY2 set key \319 \27Ot, set key \320 \27Ou, set key \321 \027Ov, set key \322 \027Ol, set key \323 \027Ow, set key \324 \027Ox
do UKEY2
;

-- 
---
Clarence A Dold - dold@rahul.net
                - Pope Valley & Napa CA.

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.os.vms
Path: cs.utk.edu!cssun.mathcs.emory.edu!gatech!news.mathworks.com!news.kei.com
      !nntp.coast.net!harbinger.cc.monash.edu.au!news.uwa.edu.au
      !info.curtin.edu.au!newsmaster
Organization: Curtin University
Lines: 69
Message-ID: <4egfro$bak@info.curtin.edu.au>
References: <4dm1bu$gdg@griffin.ccc.nottingham.ac.uk>
Date: Mon, 29 Jan 96 02:38:44 +800
From: zrepachol@cuppa.curtin.edu.au
Subject: RE: The DEL/Backspace chestnut.

In Article <4dm1bu$gdg@griffin.ccc.nottingham.ac.uk>
cczanj@axp0.ccc.nottingham.ac.uk (Andy Jack) writes:
>
> I have recently been talking with my colleagues about the hoary old question
> of the "Rubout" key. On VMS the character used to delete the last character
> is ASCII Delete (octal 177) and that is the default for VT terminals,
> DECterm etc.

And, oddly enough, what it is in the ASCII standard. It dates from the
dim, distant past, pre-Baudot even, and the practical realization that
it is LOTS easier to re-punch a lot out, that to try to un-punch a few
small bits back in.   All code sets that lasted more than 5 min had the
common feature that the value 2^n - 1 was a delete code, what ever
wonderous other schemes they embraced.

>On Unix systems, it varies. Some come out of the box expecting the rubout
>character to be Delete, some expect Backspace (Control-H, octal 008). One can
>change the latter behaviour by putting a stty command in the login sequence.

You are in a twisty little maze of...

You can change most anything on UNIX with enough effort, and finding
what variation of incantation is needed in this case. Anything is possible,
'normal' is just as possible, but often seems harder :/, and subject
to random change without warning.

..

> In order to get consistency, we are faced with the problem of either making
> all Unix systems and terminal emulators send and interpret Delete (and
> leaving VMS untouched) or standardizing the Unix systems on Backspace,
> leaving the terminal emulators with their default and trying to get some
> special profile invoked for all calls to VMS.

No, your real problem is getting the Lusers to understand why and
when to use the 'right' majik. If you can do that, you may as well
re-bind 'right' to be a remote equivelent to a local binding. Declare
it as a user problem, and thus, it is, by definition not a global,
and ipsp facto, not your problem. This has the minor nit of being
slightly more sucsessful if you lusers have a strickly positive IQ.
This can be problamatic in many places, and is often made worse
by managment.

The man can be infuriating at times, but RMS's 'buggy back-space
on CRTs' is the best I can think of as an explanation. That is the
real problem, people who have never used, and can't imagine using a
hardcopy terminal. Or that there is a real legitimate, non 'rubout'
use for backspace. And a use that is clearly stated in the ASCII standard.
Yes, back to the glass-eyed luser problem again.

>We cannot be alone in struggling with this mess. What do other people do?

You're not. Promise, you really are not alone.

Telling the vendor that their software is non-conforming to your
specs, and that they won't be paid until it does often gets their
attention. Or their bosses. You do SPECIFY what you ask for, don't
you? Or use kermit, and have the vendor problem go away. In fact,
given the terminal brain-death of so many emulation packages, and
the pain in using them, even with a vendor attached, Kermit would
still, IMHO, be the clear winner.

There IS a standard. If only people would insist on it, and punish
those who don't, we would not have to keep fighting these stupid,
petty, bushfire fights.

Oh, and your Emacs users will thank you as well...

~Paul
(whose sig is a little puzzle for lovers of ASCII,
history, and UPPERCASE ONLY )

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

    [ARCHIVER'S NOTE:
    One historical quirk of most Unix implementations is, if you
    type your login name in all uppercase, Unix decides that
    your terminal can produce and view only uppercase, so it
    forces all output to be UPPERCASE!

    My educated guess is that the ~ (tilde) is prefixed to characters
    that started out uppercase before Unix forces them up.

     ...RSS]

 //////////////////////////////////////////////////////////////////////////////


Newsgroups: comp.terminals,comp.os.linux.networking
Path: cs.utk.edu!shuford
Message-ID: <4kc3c4INNft5@duncan.cs.utk.edu>
References: <4jq536$egp@stratus.skypoint.net>
Organization: University of Tennessee, Knoxville--Dept. of Computer Science
Expires: 30 May 1996 22:11:33 GMT
Summary: clues about connecting terminals to Linux PCs
Keywords: Linux, terminal server, serial communication
Date: 8 Apr 1996 18:18:44 -0400
From: shuford(at)cs.utk.edu (Richard Shuford)
Subject: Re: How do you hook a dumb terminal to a PC?

In article <4jq536$egp@stratus.skypoint.net>,
 jhoglund@skypoint.com (Jamie Hoglund) writes:
|
| I'm very clueless about this, but I'd like to hook some terminals
| on my linux machine. I really don't know where to look for information
| on how to do this. Could someone give me a general overview of what is 
| involved?

I'm assuming that you mean an ASCII character-cell terminal (not an
"X terminal" which speaks the X graphics protocol and does X Windows....)

As odd as it may seem to newcomers, people were doing work on
computers for many years before point-and-click was developed, and
video terminals were the most common end-user equipment.


|What do I need on the computer? 
|   Presumably some 'Black Box' that the terminals hook into, and tells the
|   system what terminal is where. What is this called? (I'm not talking about
|   serial ports, I don't think. The terminals have to be some distance from 
|   the machine)

Your "black box" is called a Terminal Server.  There are many vendors
for these, including Cisco, Xyplex, Livingston, Xylogics, Lantronix, Digi,
Black Box, and even DEC.

  [As of 1998, probably the DEC terminal servers belong
   to Cabletron, not to Compaq...and as of 2002, not to HP.]

Almost all ASCII character-cell terminals expect to communicate using
an asynchronous RS-232-C serial link.  The terminal doesn't particularly
care what the cable connects to, as long as it can recognize the data
that comes back down the wire.

The job of a terminal server is to take characters arriving from the
terminal on the RS-232 cable, pack them into some network-protocol
(e.g., Telnet over TCP/IP) packet and send the packet over a
high-speed network (e.g., Ethernet) connection to the computer.  The
distance limitations in such an arrangement are usually those of your
network technology.  (Oh, yes, the terminal server does the reverse
process for data from the host computer to the terminal.)

It is also possible, with many versions of Unix and/or Linux, to use a
serial port on the host computer, omitting the terminal server.  
Although the official distance limitation of RS-232-C is 50 feet, in
practice you may be able to go several hundred feet at 9600 bps.  Use
good low-capacitance wiring.  (Metric equivalents are an exercise for
the reader.)

|   I'd like the terminals to be VT100'ish, not a PC [running] 
|   terminal emulator software. 

Well, you can probably still obtain used DEC VT100s if you like.  Or
look for another vendor's product with a VT100 mode.  Or a mode that
emulates the later VT220, VT320, or VT420 models.

Beware that NOT every video terminal ever invented has a VT100 mode.
For example, a Televideo 955 cannot emulate a VT100.  Nor can a Lear-
Siegler ADM-3.  However, many people have successfully used both of
these terminal types with Unix, given that correct termcap and/or
terminfo entries have been installed on the Unix host computer. 

Even if the display of a random VT100-emulating terminal can properly
interpret the VT100 Escape sequences, the keyboard may have a layout
that differs from a DEC terminal's keyboard so as to make things
confusing for the user.  This is the case, for instance, with the
Link MC-5 terminal.

(Here's a really shocking thought:  not all video terminals even
use the ASCII code.  All those IBM 3270 and 5250-style terminals
speak EBCDIC as their native tongue....)

| Do terminals hook into network cards? 
|    If so, what determines how many terminals one can have? 
| What do the terminals need? 
| What do these things usually cost?

Some institutions may be throwing 1978-vintage VT100s out in the
trash.  Many U.S. federal government sites periodically auction off
pallets of old terminals by the pound.  More recent used terminals are
available from vendors for from under $100 to $300, depending on
condition and features.  You may get a better deal in a private sale.
YMMV.

You can even buy a shining new late-model VT510 from DEC: have a look at

    http://www.digital.com/info/Customer-Update/930913008.txt.html

and then call 1-800-DIGITAL.

    [1998 update: instead of the above, you need http://www.boundless.com/ ]

I've seen a low-end terminal server for about $750, but you can
pay over $2000 for a full-featured model.

    [that was in 1996]

|  Is it even possible? 
|  Is there an "overview" FAQ somewhere?

One good source of general clues is on the World-Wide Web:
the Stokely Consulting Unix Serial-Port Resources Page:

    http://www.stokely.com/stokely/unix.serial.port.resources/index.html

An entire tutorial on the subject is beyond the scope of this posting.
The Stokely Web site is very helpful.  Also, you may wish to peruse my
Video Terminal Information page:

    http://www.cs.utk.edu/~shuford/terminal_index.html   [you found it!]

If you need termcap or terminfo entries, point your Web browser at

    http://www.ccil.org/~esr/ncurses.html

   [1999: Eric moved it to this new URL:
    http://www.tuxedo.org/~esr/terminfo/]

   [2002: Eric moved it again:
     http://catb.org/%7Eesr/terminfo/index.html
   ]

-- 
 ...Richard S. Shuford  | "It is not good to have zeal without knowledge,
 ...shuford%cs.utk.edu  |  nor to be hasty and miss the way."
 ...                    |  Proverbs 19:2


 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:
 ///////////////////////////////////////////////////////////////////////////

Newsgroups: comp.terminals,comp.sys.ibm.as400.misc,comp.unix.programmer
Subject: Re: IBM RS/6000 F1-F24 & universal terminal type recomendations?
Summary: handling terminal function keys in diverse environments is a problem
Expires: 30 Jun 1996 22:11:33 GMT
References: <4ncfet$mbk@news.inc.net>
Sender: shuford%cs.utk.edu
Date: 1996-05-17 18:22:00 EDT
Followup-To: comp.terminals,comp.unix.programmer
Distribution: world
Organization: University of Tennessee, Knoxville--Dept. of Computer Science
Keywords: termcap, terminfo, IBM AS/400, function, keyboard, Unix

In article <4ncfet$mbk@news.inc.net>,
 tehrenre@dataplusnet.com (Tom Ehrenreich) writes:
>
> We are trying to be an open software developer.
> We require [function keys] F1 - F24 for our product because it runs on
> the MainFrame, AS/400, and the RS/6000.
>
> Our goal is that the RS/6000 Unix product be portable to HP Unix systems
> as well as the rest, such as DEC etc...
>
> I need a terminal emulation from a PC to a common terminal type on the
> Unix systems that will support F1-F24.

and later said:

> ...recommendation to develop for the VT100...


I'm afraid that, once you step out of IBM's controlled domain, you
find a very messy world.

The VT100 was the original DEC ANSI-conforming terminal, and it is
the most well known, but I don't think you would consider it usable in
your application:  the VT100 is defined to have only 4 function keys
(PF1-PF4), which reside on the numeric keypad.

In the VT220 and later models, DEC defined a separate top-row series
F1-F20 in addition to retaining keypad PF1-PF4.  However, if you want
key-for-key identical function in your product when it is running both
off an IBM-terminal-type keyboard and a DEC-terminal-type keyboard,
you immediately run into the problem that DEC terminals earlier than
the VT420 used top-row F1-F4 only for local functions, and these keys do
NOT send any data to the host at all.  (In the VT420 and VT5x0, these
can be set up in "code mode" to send distinctive Escape sequences to the
host.) And so far as I am aware, you can't modify these keys with
Shift or Control.

    [Oops... when I wrote this, I forgot that you can use the VT420's
    DECUDK device-control sequence to program the Shifted function keys
    to send arbitrary character sequences, which would be very useful
    in Mr. Ehrenreich's application.  See the "vt_keyset.sh" shell
    script for an example of how to do this. ...RSS]


You may decide to try either the Televideo- or Wyse-style terminals,
because of their somewhat more orthogonal function-key structure,
however, each of these product lines introduces its own set of
peculiarities, especially in the display rendering.

I suppose you could consider Hewlett-Packard-style terminals, but I
don't know much about them, and emulators for them are few and far between.

You also may have to supply your customers with the termcap and/or
terminfo-database entries appropriate to whatever terminal you end up
using, because Unix vendors often don't do very well at supplying
accurate termcaps (or terminfo....).

You really must read the O'Reilly book on this subject, the
description of which follows:

 ___ ._. . .. ._.. ._.. _.__   ___ ._. . .. ._.. ._.. _.__   ___ ._. . .. ._..


    "termcap & terminfo"
    by John Strang, Linda Mui & Tim O'Reilly
    3rd Edition April 1988
    270 pages, ISBN: 0-937175-22-6, $29.95 U.S.
    http://www.oreilly.com/catalog/term/
    http://www.amazon.com/exec/obidos/ISBN=0937175226

    [ORA catalog description follows]

    While termcap and terminfo are no longer as important as they once were,
    due to the growth of the X terminal market and increased standardization
    among ASCII terminals, handling different terminal types can still be a
    headache for system administrators. The termcap and terminfo databases
    are UNIX's solution to the difficulty of supporting many terminals
    without writing special drivers for each terminal. Termcap (BSD) and
    terminfo (System V) describe the features of hundreds of terminals,
    together with a library of routines that allow programs to use those
    capabilities. This book documents hundreds of capabilities and syntax
    for termcap and terminfo, writing and debugging terminal descriptions,
    and terminal initialization.


If your bookstore does not have it,  the book may be ordered from

    O'Reilly & Associates, Inc.
    103-Aa Morris Street
    Sebastopol, CA 95472
         email:  <order@ora.com>
    WATS voice:  1-800-998-9938
    POTS voice: +1 707/829-0515
    POTS   fax: +1 707/829-0104
  

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

Newsgroups: comp.terminals
Organization: GTE Government Systems
Message-ID: <36804FE6.473E5E9F@GSC.GTE.Com>
References: <m3Of2.2772$n4.23685352@WReNphoon2>
To: Alain Migeon <agm@cocom.dk>
Date: Wed, 23 Dec 1998 02:05:26 GMT
From: "Scott G. Hall" <Scott.Hall@GSC.GTE.Com>
Subject: Re: VT100

Alain Migeon wrote:
> I need a implement an interface working a VT100 compatible terminal.
>
> I have the following questions :
> - how to control the terminal
> - not to echo anything when something is typped on the keyboard
> - how to use the arrow keys
> - is this to be performed using escape sequencies, or is it with the
>   use of the ioctl function?


I would not concern yourself with any low-level details.  I would get a
terminal-independant library for your operating system and compiler that
has library calls to do eactly what you are asking.

Myself, I have always used a library calls "curses".  It ships with most
UNIX compilers.  Years ago I bought a "PC-Curses" from Mortice-Kern
Systems (MKS); but in recent years the compiler vendors for MS-DOS/MS-Win
have been shipping curses libraries (yes - even for dealing with a
terminal on a serial port in MS-DOS!)

If you want to muck in the low-level details, download a copy of C-Kermit,
and digest the source code and see how it is done.

-- 
Scott G. Hall
GTE Government Systems
North Carolina Systems Center
email: Scott.Hall@GSC.GTE.Com


 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.unix.solaris
Path: cs.utk.edu!stc06.ctd.ornl.gov!news.er.usgs.gov!darwin.sura.net
      !news.fsu.edu!nntp.cntfl.com!imci4!newsfeed.internetmci.com
      !newsxfer2.itd.umich.edu!news.eecs.umich.edu!gmi.edu!ellis
Organization: GMI Engineering&Management Institute, Flint, MI
Message-ID: <ellis.831817488@gmi.edu>
References: <4m2mk2$rmn@rcsuna.gmr.com>
Date: 11 May 1996 12:24:48 GMT
From: ellis@nova.gmi.edu (R. Stewart Ellis)
Subject: Re: Terminal emulation on Solaris 2.4.

Brian Beagan, Electronic Data Systems, <bbeagan@rcsuna.gmr.com> writes:
> 
> Does anyone know how I can get a SparcServer running Solaris 2.4 to act as a
> terminal emulator?  Ideally, I would like a program similar to Windows 3.1
> 'Terminal'.  I need to hook up a controller to the Sun's serial port and have
> a terminal emulator communicate with the controller.


The terminal emulators on Solaris are cmdtool/shelltool, xterm, and CDE dtterm,
which emulate a Sun console, a DEC VT102, and ANSI X3.64/vt220 (sort of),
respectively.

You simply run tip in the window and connect to the port.

-- 
  R.Stewart(Stew) Ellis, Assoc.Prof., (Off)810-762-9765   ___________________
  Humanities & Social Science,  GMI Eng.& Mgmt.Inst.     /   _____  ______
  Flint, MI 48504                                       /        / /  /  / /
  Web admin:  http://www.gmi.edu/      ellis@gmi.edu   /________/ /  /  / /


 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

Variations on the above:  
(1) get T.E. Dickey's color "xterm" from 

    [STALE URL]
    http://www.clark.net/pub/dickey/xterm/xterm.html
 or

    [URL functional in 2009]
    http://invisible-island.net/xterm/
    http://dickey.his.com/xterm/xterm.html
   
(2) run C-Kermit in the window, instead of "tip", with
    > set line /dev/term/a
    > set speed 38400
    > connect

    http://www.columbia.edu/kermit/newsn6.html
    ftp://kermit.columbia.edu/kermit/f/

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

Path: utkcs2!stc06.ctd.ornl.gov!cs.utk.edu!gatech!newsfeed.internetmci.com
      !news.exodus.net!aimnet.com!news2.aimnet.com!usenet
Newsgroups: comp.unix.solaris,comp.unix.sys5.r4,comp.editors,comp.terminals
Organization: Common Ground Software, Inc.
Distribution: inet
Message-ID: <311723BD.1985@commonground.com>
References: <310A3956.23B0@commonground.com> <4ei1uh$re4@flonk.uk.sun.com>
            <4elov0$2q5@kodak.rdcs.Kodak.COM>
Date: Tue, 06 Feb 1996 01:47:41 -0800
From: Michael Bennett <mbennett@commonground.com>
Subject: Re: vi doesn't restore the terminal (text) in Solaris 2.4


Kevin C Scott wrote:
>                                         I'd like to ask a
> related question about terminal configuration on Sun systems
> (both SunOS and Solaris).  It seems that whenever the scrollbar
> is active, programs are unable to send out escape sequences to
> modify the contents of the screen.  For example, when using
> tcsh with scrolling enabled, it is seemingly impossible to
> use the up/down arrow keys to recall previous commands.  Also,
> when the scrollbar is active, and I use less to view a file
> that happens to be smaller than a screenful, the whole file
> flips by instantly and then is immediately erased.  Is there
> some configuration trick that will allow simultaneously having
> the scrollbar active and allowing programs to send out escape
> codes to edit the text on the screen?  Having such a capability
> would make the scrollbar much more useful than it currently is.


As another reply pointed out, cmdtool has some nice features
that break a lot of other things.  If you use xterm (with
or without a scroll bar) all these features work fine.  Note
that you can also use ^P/^N in place of up/down arrows in tcsh,
as well as whatever up/down line commands supported by the
editor your emulating (emacs or vi).  This feature, as well
as file completion works better in xterm as well.

You can still get programs confused about the size of your terminal
with xterm, particularly after a telnet.  eval `resize` works
on a lot of systems to correct this.  I don't know about 'less' -
I've hardly used it.  I almost never use 'more' any more either -
my xterm scroll bar works! (more or less :)

-- 
Michael Bennett
<mbennett@commonground.com>

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

Date: 30 Sep 1996 15:26:46 GMT
From: Mark McCullough <mccullom@sicdhu.sicd.etn.com>
Newsgroups: comp.unix.admin, comp.unix.solaris
Subject: Re: Arrow keys in tcsh

In article <324BD5EC.333C@nexos.com>, Stephen W. Barnett <swb@nexos.com> wrote:
>
> I can use the arrow keys for command recall with tcsh in Openwindows
> but the same thing does not work in the CDE.  [Common Desktop Environment]
>
> How can I make the arrow keys work in the CDE with tcsh?

Switch to xterm from dtterm.  Something seems to be wrong with the dtterm
emulator of the arrow keys, but on all systems I've used, xterm works fine.
(Oh, it might be cmdterm instead of dtterm for the Suns, sorry.)

--
Mark McCullough

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

  (this archive stores a small amount of "xterm" information elsewhere)
 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

Newsgroups: comp.unix.aix
Message-ID: <6fh2a5$ore$1@mdnews.btv.ibm.com>
References: <6fgnfk$b8c1@news.midusa.net> <351bed6b.0@news1.mid-ga.com>
            <351C09E2.7EA1@musicland.com>
Date: 27 Mar 1998 20:31:01 GMT
From: Christian Bauernfeind <v2bauern@fishkill.ibm.com>
Subject: Re: Useing the up arrow on command line prompt.

H. Blakely Williford wrote in message <6fgnfk$b8c1@news.midusa.net>...
>I did not find this in the faq or on a usernet search; but I've seen this
>some where before.
>
>How do you get AIX to display the previous command/s by pressing the up arrow?

In article <351C09E2.7EA1@musicland.com>,
        John Jaszczak <jazz@musicland.com> writes:
> Bill Dyer wrote:
> Just a little clarification of this message. 
>   1) You must be using ksh
>   2) export EDITOR=vi  (set this in your .profile
>   3) <esc+k> is back one  <esc+j> is forward one 
> 

Wrong on 2). It's set -o vi.

My .profile has
set -o emacs

# Map cursor keys
alias __A='^P'
alias __B='^N'
alias __C='^F'
alias __D='^B'
alias __H='^A'
alias __P='^D'

which doctors cursor keys, home and del.

YMMV

Christian
-- 
Christian Bauernfeind
Not speaking for Siemens

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

Newsgroups: comp.protocols.kermit.misc
Path: cs.utk.edu!gatech2!udel!gatech!psuvax1!news.math.psu.edu!news.cac.psu.edu
      !newsserver.jvnc.net!newsserver2.jvnc.net!howland.reston.ans.net
      !newsfeed.internetmci.com!chi-news.cic.net!news.wctc.net!spcuna
      !news.columbia.edu!watsun.cc.columbia.edu!fdc
From: fdc@watsun.cc.columbia.edu (Frank da Cruz)
Subject: Re: Backspace don't work?
Date: 14 Dec 1995 16:00:21 GMT
Organization: Columbia University
Lines: 143
Message-ID: <4aphml$j73@apakabar.cc.columbia.edu>
References: <4aeic5$pf1@mercury.IntNet.net>
NNTP-Posting-Host: watsun.cc.columbia.edu

In article <4aeic5$pf1@mercury.IntNet.net>,
Jeff Tomich <jtomich@news.IntNet.net> wrote:
>
> When I'm at my unix shell prompt the backspace doesn't work, although it 
> works fine when I'm in my mail reader, etc...

From the Kermit FAQ:

  http://www.columbia.edu/kermit/faq.html
  ftp://kermit.columbia.edu/kermit/faq.txt

5. MY BACKSPACE KEY DOESN'T WORK!

. Newsgroups: comp.protocols.kermit.misc
. Date: 7 Jan 1995 21:26:44 GMT
. Organization: Columbia University
. From: fdc@columbia.edu (Frank da Cruz)
. Subject: Re: [?] Backspace key says, "^?"

In article <D201pG.DMB@indirect.com>,
Jim Monty <monty@indirect.com> wrote:
>
> DISCLAIMER: I've looked for the answer to the following question in
> _Using MS-DOS Kermit_ and in the documentation included with MS-DOS
> Kermit 3.13.  I either couldn't find the answer or didn't understand
> it if I did.
>

Thank you for consulting the documentation.

> I'm using MS-DOS Kermit 3.13 on an i80386SX machine running MS-DOS
> 6.0, using a 14,400 bps Zoom VFP V.32bis modem.  Kermit is set for
> VT220 terminal emulation and is using the Latin1 character set and
> code page CP437.  I've not mucked with much in the initialization
> files, so you may assume that any other parameters are still set to
> the "factory" defaults.
>
> Alas, the question: In some online environments, my backspace key
> behaves as one would expect it to.  In others, hitting the backspace
> key results in either (1) nothing happening, or (2) the characters
> "^?"  appearing on the screen.  I can, however, use Ctrl-H in these
> situations.  In these exact same online environments (e.g., vi
> insert mode when connected to my dial-up UNIX shell account) under
> analagous circumstances, the other terminal emulator that I use,
> Telemate Version 3.12, does not behave this way.  The backspace key
> functions as a destructive backspace.
>
> I presume that the change I need to make to my MS-DOS Kermit
> configuration is a simple one, but I can't figure it out.  And I've
> never really wanted to bother to spend a lot of time trying to
> figure it out myself.  (I want the magic straight from the wizards'
> minds.)  Thanks, in advance, for taking the time to help me.
>
> Jim Monty, Kermit Cheerleader at Arthur Andersen LLP
>

Well, Jim, I think it's finally time to classify this as a Frequently Asked
Question and add it to the FAQ (kermit.columbia.edu:kermit/FAQ.TXT).

As you have discovered, different hosts and applications use different
characters (or sequences) for destructive backspace.  The terminal emulator,
Kermit or otherwise (including Telemate--if its backspace key works for you
in all circumstances, I think that's just a stroke of luck), has no way of
knowing what host or application you are using, and therefore no way of knowing
what to send when you press the Backspace key.

Of course, Kermit's Backspace key must send *something* "out of the box", so it
uses one of the several most likely destructive backspace values, and in fact
the one that is *defined* in ASCII to be destructive backspace, namely Rubout,
also known as Delete or DEL, character number 127, which sometimes is displayed
as "^?".  Lest anyone believe this is a frivolous choice, I quote from American
National Standard X3.4-1977, Section 5.1, Control Characters:

    0/8 BS (Backspace).  A one-active-position format effector that moves
    the position backward on the same line.

    7/15 (DEL). A character used primarily to erase or obliterate an
    erroneous or unwanted character...

In cases where the default does not work, Kermit lets you redefine the
Backspace key (or any other key) to send whatever you want it to send (or to
take any other actions) with the SET KEY command.

The SET KEY command has two operands: a unique identifier for a key or key
combination, called a scan code, and the value or action to be assigned to the
key.  Scan codes are written with a preceding backslash (\).  The scan code for
the Backspace key is \270.  The default definition for this key is \127,
meaning the character whose numeric value is 127, i.e. DEL.

You can find out a key's scan code by consulting Table I-9 in the manual (pages
285-288), or by giving the SHOW KEY command to Kermit and then pressing the
desired key or key combination.

Now, as you have discovered, some applications use Ctrl-H -- ASCII BS
(Backspace) -- for destructive backspace.  Consulting the ASCII table on page
275, you see that the ASCII code for BS is 8.  So to make PC's Backspace key
send BS instead of DEL, give this command:

  SET KEY \270 \8

If you use Kermit only to connect to hosts and services that use BS for
destructive backspace, then you can put this command in your MSCUSTOM.INI file,
and it will take effect automatically every time you start Kermit.

But some people (like yourself) switch between different hosts and/or services
that expect different characters or sequences for destructive backspace.  You
can, of course, give Kermit the appropriate command every time you switch from
one to another:

  SET KEY \270 \8    ; Backspace sends BS

or:

  SET KEY \270 \127  ; Backspace sends DEL

or you can use the macros that are already defined in MSKERMIT.INI for this.
In version 3.14, for example, we have macros with names like VAX and IBM.  The
VAX macro sets things up (including the Backspace key) for communicating with
VAXes and VAX-like systems, and that means, among other things, setting the
Backspace key to send DEL.  The IBM macro, on the other hand, is used for
communicating with IBM mainframes in linemode, where BS is used.

You can use these macros as they are, or you can write your own macros based
upon them and add them to your MSCUSTOM.INI file.  To use a macro, just type
its name at the MS-Kermit> prompt.

Suppose, for example, you normally access two different systems: a BBS (which
uses 8-bit characters, ANSI terminal emulation, and BS) and a UNIX system
(which uses 7-bit characters, VT220 emulation, and DEL), and these items need
to be changed when you switch between the two.  You could write two macros such
as these:

  define bbs set term byte 8, set term type ANSI, set key \270 \8
  define unix set term byte 7, set term type vt220, set key \270 \127

And then each time you want to use the BBS, you just type "bbs" at the
MS-Kermit> prompt, and each time you want to access the UNIX system, you type
"unix".

Of course, you could take this process even further, and turn the BBS and UNIX
macros into complete connection-establishment and login scripts, following the
directions in Chapter 14 of the manual, on script programming.

- Frank

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

If you want to know exactly what ASCII codes the computer is seeing when
you type a given key, try using the "od" utility, available in many variants
of Unix, including Solaris.  Here the "od" command is given with
arguments that tell it to use hexadecimal radix and notice usual codes, then
the VT220 "PF1" key is struck, followed by carriage return and Control-D.

  % od -x -c

    ^[OP
    0000000    1b4f    500a
             033   O   P  \n
    0000004

  %

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.unix.solaris
Message-ID: <m972rv4b5aae8uui213fijbv3bgk59fftn@4ax.com>
Date: Tue, 11 Nov 2003 17:45:41 +0000
From: piano.tuner@virgin.net
Subject: Backspace At Login Puzzle

Hi all,

From Telnet or a terminal emulator, our Solaris boxes want *? (DEL)
for backspace when logging in (e.g. password/username typo).  After
login, they're happy with ^H (which I prefer to be the standard across
our systems).

Obviously once logged in, I can use stty erase to affect behaviour, or
add to .profile or .login, but how do I configure this 'pre-login'
behaviour without having to change emulators, Telnet config etc?

Our old Unixware boxes didn't display this characteristic using same
emulator or Telnet.

I thought gettytab sounded promising, but that's not recognised by
these boxes - any equivilant?

Many thanks!

Shaun. 

 ..............................................................................

Newsgroups: comp.unix.solaris
Message-ID: <opryh4y8rrrjjoaq@newsgroups.bellsouth.net>
References: <m972rv4b5aae8uui213fijbv3bgk59fftn@4ax.com>
	    <opryh5x4bbrjjoaq@newsgroups.bellsouth.net>
Date: Tue, 11 Nov 2003 19:55:46 -0600
From: Barton Fisk <bafisk@bellsouth.NOSPAM>
Subject: Re: Backspace At Login Puzzle

On Tue, 11 Nov 2003 17:45:41 +0000, <piano.tuner@virgin.net> wrote:
>
> I thought gettytab sounded promising, but that's not recognised by
> these boxes - any equivilant?

---------disclaimer: do this at your own risk-----------

You may modify the /kernel/drv/options.conf file and replace "7f" with"8".

For example, modify -
       
ttymodes="2502:1805:bd:8a3b:3:1c:7f:15:4:0:0:0:11:13:1a:19:12:f:17:16";

to
       
ttymodes="2502:1805:bd:8a3b:3:1c:8:15:4:0:0:0:11:13:1a:19:12:f:17:16";

Reboot.

------------a Better way----------------------

Install an ssh server (openssh) and download a free client like PuTTY or
better yet, buy Secure CRT from VanDyke and distribute to your users.
Configure public key authentication or use passwords.

Say goodbye, to username/password typing manually, and sending passwords
in the CLEAR.

OMT, there is an SSH server bundled with Solaris 9.

-- 
Barton Fisk, SCNA SCSA

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.protocols.kermit.misc,comp.unix.osf.osf1
Path: cs.utk.edu!gatech!newsfeed.internetmci.com!in2.uu.net!news.new-york.net
      !news.columbia.edu!watsun.cc.columbia.edu!fdc
Date: 1 Feb 1996 15:42:49 GMT
From: fdc@watsun.cc.columbia.edu (Frank da Cruz)
Organization: Columbia University
Subject: Re: MS Kermit 3.14 and Digital Unix 3.2 coexistence
Message-ID: <4eqn1p$gv0@apakabar.cc.columbia.edu>
References: <1996Jan31.120633.134971@forest>


In article <1996Jan31.120633.134971@forest>,
Mike Richichi, Systems Manager <mrichich@forest.drew.edu> wrote:
:
: We're getting a weird interaction between Kermit 3.13 and 3.14 and our
: newly installed Digital Unix 3.2C system.
: 
: First, if you telnet to the system, it spews out "Bad termcap entry"
: twice on the screen before giving you the "login:" prompt.  This happens
: no matter what kind of host or PC you're telnetting from.  When you log
: in, the "Bad termcap entry" message is repeated on login (I assume in
: the tset -I -Q) and the TERM variable is blank.

When you TELNET from Kermit, Kermit negotiates the ability to send its
terminal type to the Telnet server, and then if the Telnet server asks
for the terminal type, Kermit sends it.  Kermit's default terminal type is
VT320.  Some systems don't have a termcap entry for VT320.  So either
change Kermit's terminal type or add a VT320 termcap entry.

You can also instruct Kermit to "lie" about its terminal type by using the
"set telnet term-type" command.

: Secondly, no matter how you connect to the machine, doing a more or a
: man causes the status line to be overwritten with more's prompt (usually
: an inverse video "stdin") each page.  I did a "set term debug", and
: Dig. Unix is addressing the 25th line, sure enough.  A "stty rows 24"
: doesn't fix the problem either, but a "stty rows 23" does.

This is a new feature of Digital UNIX, and it is a strange one considering
Digital is also the original designer and maker of the VT terminal series.
Of course all that is long forgotten.  They think you are using a xterm
or something.

: The "bad termcap entry" message really annoys me, the more thing at
: least has a workaround, but I still think that if Unix thinks your
: display is 24 lines it shouldn't be writing to the 25th.

Exactly.

- Frank

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

Q. The host reports "Unknown terminal type DEC-VT100"

A. UNIX machines cannot use the RFC-standard terminal name of a DEC-VT100.
   Rename the reported emulation name in the emulation settings to "vt100"
   or type:

       setenv TERM vt100

   in the remote shell--if you use csh or tcsh. For sh, ksh, zsh, and maybe
   also bash and zsh type:

       TERM="vt100"; export TERM
   or
       TERM="vt100"

   if the shell is set to auto-export.

   (Info from Peter Zander and Michael Thornberry.)

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

Newsgroups: comp.unix.admin
Path: utkcs2!stc06.ctd.ornl.gov!novia!newsfeed.nacamar.de!howland.erols.net
      !infeed2.internetmci.com!newsfeed.internetmci.com!news.telstra.net
      !act.news.telstra.net!loomi.telstra.net!not-for-mail
Message-ID: <01bc9714$f92ac0c0$0211010a@pc30346.alintagas.com.au>
References: <33D54705.79E6@mktdev.com>
NNTP-Posting-Host: alinta-102.alintagas.com.au
Organization: AlintaGas
Date: 23 Jul 1997 03:04:37 GMT
From: "Gunter Muller" <Gunter.Muller@AlintaGas.com.au>
Subject: Re: C shell #@!$%@$^@&@
X-Archive-Subject: [setting terminal type for C shell users]

Chris Donnelly <cdonnelly@mktdev.com> wrote in article
<33D54705.79E6@mktdev.com>...
> Can anyone tell me how to read input
> from the keyboard in the c shell?
>
> like in sh you
>
> echo   1. vt100
> echo   2. wy60
> read answer

The following c-shell code will do the job:

  set answer = $<

"man csh" reads:

  $<      Substitutes a line from the standard input, with no further
          interpretation thereafter.  It can be used to read from the
          keyboard in a C shell script.

See 'man csh' for further explaination of c-shell scripting command etc.

Alternatively, you could also use the 'line' command:

  set answer = `line`             # see 'man line'

> Yes I have RTFM.
> It looks like the c shell has no provision for this.
> And why do I want to use the  c shell?
> Because I just started here and that is the default shell for all the users.
> And I need to set their terrminal type in .login on SunOS 4.1.4

If in /etc/ttytab the terminal type is set correctly for each serial port,
the user should not need to select a terminal type.  If the serial
terminals are connected to a network terminal server, when set the default
terminal type for each port in the terminal server.

Having done this, you could also use the 'tset' command in .login.  Thus:

  set noglob
  set nterm = (`tset -m dialup:\?vt100 -m unknown:\?vt100 -r -Q -`)
  if ($status == 0) set term = $nterm
  unset nterm noglob

This will only prompt the user if the default terminal type is 'dialup' or
'unknown'.  See
'man tset' for further options.

>
> I tried doing #! /bin/sh at the top of the
> login script but it is ignored


Hope this helps ...

Gunter.


    [While you are at it, ask your sysadmin to provide a more friendly
     shell for your users, such as ksh or tcsh.  But trying to write
     scripts for the C shell has been deprecated elsewhere.  ...RSS]

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

Date: Sat, 01 Apr 1995 00:49:22 +0000
From: Michael Dillon <mpdillon@halcyon.com>
Subject: Re: Printing to "Attached-to-Ansi"
Message-ID: <ICAVlapDlbj9079yn@halcyon.com>
In-Reply-To: <eVh8+bVKSja@RDC.NOAA.GOV>
X-Mailing-List: bsdi-users

> I also would be interested to know of any native command that sends output
> to  a "terminal's" attached printer port. Years ago, when I was working with 
> DIGIBOARD hardware and SCO UNIX, each /dev/tty?? had an associated /dev/pty??
> (I believe it was pty??. Can't remember for sure.) that was the attached 
> printer. Simply writing to the pty device sent data to the printer. It was 
> nice. One could even continue working on the tty device while printing 
> progressed -- the board or the OS switched back and forth automatically so 
> that you didn't notice. As a simple work around, and only for ANSI/VT100 
> emulations, use the following /bin/csh code snip:

The way this device driver worked is:  it would send a printer ON command, 
then about 32 bytes of data, then a printer OFF command, and then it would
pause a bit--before doing the same thing again. On a dot-matrix printer with 
real-world speed between 2400 bps and 4800 bps, this would only slow
down printing a bit, but would give almost normal response on the terminal.
I believe this could ONLY be implemented in a device driver, since any
terminal output would have to be held back while the printer was turned on.

> --------------------cut here
> printf "\033[5i"
> cat $1
> printf "\033[4i"
> --------------------cut here

This is just about all that the "lpansi" program from the Lynx 
distribution does. [Using the DEC VT102 printer-on/off codes...]

Michael Dillon <mpdillon@halcyon.com>
C-4 Powerhouse, RR #2 <michael@junction.net>
Armstrong, BC V0E 1B0 Canada  Fido: 1:353/350

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

Newsgroups: comp.terminals
Path: utkcs2!stc06.ctd.ornl.gov!fnnews.fnal.gov!uwm.edu!news-res.gsl.net
      !news.gsl.net!news.mathworks.com!newsfeed.internetmci.com
      !usenet.eel.ufl.edu!news.ultranet.com!xylogics.com!xylo!not-for-mail
Date: 16 Jul 1996 07:02:25 -0400
From: carlson@xylogics.com (James Carlson)
Subject: Re: VT100
Organization: Xylogics Incorporated
Message-ID: <4sfss1$aea@newhub.xylogics.com>

In article <4se653$rqj@netnews.upenn.edu>, cchong@red.seas.upenn.edu
(Christopher C. Hong) writes:
|> 
|> I have a question about VT100.  I thought that it was a fixed size (80x24)
|> and  that it was not possbile to resize your window.  However, I am using
|> EWAN right now, a winsock telnet client.  When I resize the window to any
|> size and then refresh the screen, the display readjusts to fit the window.
|> So I can get sizes that I thought were only possible in Xterm. 
|> Does anyone know how this is possible?

Telnet and rlogin have special protocol messages that allow them to
inform the host that the screen size has changed (RFC 1073 for TELNET
NAWS, and RFC 1282 for rlogin).  Real DEC VT100s are 80x24, of course,
but the ANSI-based protocol they use allows any number of rows or
columns.

-- 
James Carlson <carlson@xylogics.com>            Tel:  +1 617 272 8140
Annex Interface Development / Xylogics, Inc.          +1 800 225 3317
53 Third Avenue / Burlington MA  01803-4491     Fax:  +1 617 272 2618

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

Newsgroups: comp.terminals
Path: cs.utk.edu!gatech!ncar!noao!ennfs.eas.asu.edu!cs.utexas.edu!uwm.edu
      !news-res.gsl.net!news.gsl.net!news.mathworks.com
      !newsfeed.internetmci.com!vixen.cso.uiuc.edu!usenet
Date: 21 Jul 1996 22:03:29 GMT
From: "Paul A. Kennedy" <pakenned@uiuc.edu>
Organization: University of Illinois at Urbana
Message-ID: <4su9fh$gfk@vixen.cso.uiuc.edu>
References: <JCRESAWN.96Jul17152355@resolute.pcs.cnu.edu>
Subject: Re: wyse 50 and linux pc


jcresawn@pcs.cnu.edu (J. Ryan Cresawn) wrote:
>I have recently acquired a Wyse 50 terminal and have connected it to
>my Linux box via a serial cable.  Everything works great except directory
>listings.  When I type "ls" all the file names run together.  The getty
>settings look like this.
>
>/sbin/getty ttyS1 DT19200 wy50
>
>I would really appreciate any assistance anyone may offer.  Thanks a lot.

You might try taking a look at the alias for ls.  On a couple of installations
that I have seen (Slackware, I think), ls is aliased to something like:

  /bin/ls $LS_OPTIONS

I would wager that the colour ls stuff is messing you up.  Try to unalias ls
first, or just try /bin/ls and see what happens.

Hope this helps.

Paul

-- 
Paul A Kennedy                             pakenned@uiuc.edu
Finger at pandora for PGP 2.6 public key.  pkennedy@pandora.physics.calpoly.edu

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

Newsgroups: comp.unix.admin
Path: utkcs2!stc06.ctd.ornl.gov!fnnews.fnal.gov!cbgw1.att.com!cbgw3.att.com
     !news.PBI.net!decwrl!enews.sgi.com!news.sgi.com!csulb.edu!news.uoregon.edu
     !news.rediris.es!news.unizar.es!root
From: "J.A. Gutierrez" <spd@daphne.cps.unizar.es>
Date: Mon, 12 Aug 1996 17:56:38 +0200
Message-ID: <320F5436.41C6@daphne.cps.unizar.es>
References: <320BC9A4.61D9@us.checkpoint.com>
Subject: Re: Solaris 2.5: ex Unknown terminal type ?

Rohit Aggarwal wrote:
> 
> I am using Solaris 2.5 and when I use EX
> I get "Unknow terminal type".
> Any clues as to what is the problem/fix for this.
> 

I guess you are using Solaris 2.5 with CDE and dtterm, right?

I had the same problem and I fixed it by adding the dtterm entry
to /etc/termcap
(you can get it from `infocmp -C dtterm`)

-- 
 J.A. Gutierrez E.   /    http://www.cps.unizar.es/~spd


 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

Newsgroups: comp.unix.solaris
Path: utkcs2!stc06.ctd.ornl.gov!cs.utk.edu!news.msfc.nasa.gov!news.sgi.com
      !spool.mu.edu!howland.erols.net!EU.net!sun4nl!ahx!paul
From: paul@wau.mis.ah.nl (Paul Slootman)
Message-ID: <Dxy0I0.3MG@wau.mis.ah.nl>
Date: Wed, 18 Sep 1996 19:22:48 GMT
References: <51lrbp$l3u@news.cict.fr>
Organization: Albert Heijn Winkelautomatisering, Zaandam the Netherlands
Lines: 23
Subject: Re: vi & xterm novice user

J-Luc BOICHARD <boichard@xdata.cnrm.meteo.fr> wrote:

>new user of SUNOS I search to obtain the ouput of iso-latin character
>in vi in a xterm emulator not in octal value.
>
>    ex: when I stroke the eacute key I obtain \151 in VI but
>        the eacute output is correct in emulator shell command line

Try doing this first:

    LC_CTYPE=iso_8859_1; export LC_CTYPE

This tells the system you are capable of displaying all the characters
in that ISO font.  This works fine on Solaris 2.4...


Posted and mailed.

Paul Slootman
--
Murphy Software, Enschede, The Netherlands        | ... It beeped and said
work: paul@wau.mis.ah.nl   / paul@murphy.nl       | "Countdown initiated."
home: paul@wurtel.demon.nl                        | Is that bad?

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

Newsgroups: comp.terminals
Path: utkcs2!cs.utk.edu!not-for-mail
From: shuford%cs.utk.edu (Richard Shuford)
Date: 14 Aug 1996 13:11:51 -0400
Organization: University of Tennessee, Knoxville--Dept. of Computer Science
Expires: 30 Sep 1996 22:11:33 GMT
Message-ID: <4ut1cnINN8ou@duncan.cs.utk.edu>
References: <320AA011.10A7@otech.otech.co.kr>
Summary: SOCK_KEEPALIVE or timeout
Keywords: TCP/IP, Telnet
Subject: Re: [Q] How to terminate telnet when an user power down his PC.

In article <320AA011.10A7@otech.otech.co.kr>,
 Yong Tae Kim <ytkim@otech.otech.co.kr> writes:
>
>
>Help me please.
>My problem is that telnet session is not terminate automatically
>when an user who connected to UNIX merchine via telnet program
>powers down his/her PC without logging out.
>How can I terminate the telnet session having no owner ?
>Please help me.
>
>E-Mail : ytkim@otech.otech.co.kr

As somebody else noted, you can handle a single case of this via

    % kill -9 <process-number>

The fundamental problem is to get some type of status information back
to the Unix machine.  Since telnet connections don't have a DTR wire
(RS-232 signal) accompanying them, there can be difficulty.  And, in
TCP/IP, it is considered a desirable feature that the physical link
can be temporarily lost without the session being terminated.

Some (but not all) implementations of TCP/IP allow a connection option
"SOCK_KEEPALIVE".  This periodically polls the other end of the
connection to see if it is still alive.  You might try to find out if
you can use this.

Otherwise, you'll have to arrange for the login session to be timed
out after some period of inactivity.  (Without knowing which Unix
version you have, one cannot say exactly how to achieve this.)

--
 ...Richard S. Shuford



   [Update: one resource that may help, for several Unix flavors, is "idled".
   http://www.dimensionx.com/people/crider/idled/
    ...RSS]


   [2002 update:  Alas, the author of "idled" has been absorbed!
    However, the last known version is yet available on the Internet:

    http://www.darkwing.com/idled/
    or
    ftp://ftp.cs.hope.edu/pub/idled/

    ...RSS]

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

Date: Sun, 16 Feb 1997 16:04:45 -0500
From: "Richard L. Hamilton" <rlhamil@mindwarp.smart.net>
Newsgroups: comp.sys.ibm.pc.hardware.misc, comp.sys.ibm.pc.hardware.systems,
    comp.sys.ibm.pc.misc, comp.os.linux.hardware, comp.unix.solaris
Subject: Re: Sun-style UNIX keyboard for the PC (?)

Mark Aitchison wrote:
[...]
> Keytronics used to make zillions of different types, DEC made VT200
> style alternative keyboards, and Wyse (I think) made PCs with as many
> different keyboards as their terminals had.  It is a great pity there
> doesn't seem to be as much variety in keyboard layouts now (I guess
> because mass production means special keyboards push the total system
> price up those extra few dollars that makes the whole thing
> uncompetitive for low-margin distributors).  It is a pity that keyboard
> technology has gone backwards.
[...]

The one good thing about less variety (or more accurately, a
*single* keyboard layout available for various systems) is that
what many people seem to hate worst about switching systems is
learning a different keyboard.  If there were a small number of
keyboard layouts (probably max 3 to 5), that were uniform (and uniformly
reprogrammable) across manufacturers, that might not be exactly to
anyone's liking as much, but at least they'd only have to learn one
keyboard layout rather than whining and moaning about learning new ones.

With suitable software (CDE, for example), the keyboards are the main
thing that from the user's perspective keep a heterogenous mix of
systems from being reasonably decent to work with.  (From an
administrator's point of view, too heterogenous a mix of systems is,
and will probably remain for some time, a heck of a lot more work, but
nobody ever listens to SA's anyway.)

-- 
mailto:rlhamil@mindwarp.smart.net  http://www.smart.net/~rlhamil


 //////////////////////////////////////////////////////////////////////////////
 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:...

CDE FAQ:
    http://www.laxmi.net/cde.htm

Solaris CDE User's Guide
    http://docs.sun.com:80/ab2/coll.8.41/CDEUG/@Ab2TocView?Ab2Lang=C&Ab2Enc=iso-8859-1

Solaris CDE Advanced User's and SysAdmin's Guide
    http://docs.sun.com:80/ab2/coll.8.41/CDEADMIN/@Ab2TocView?Ab2Lang=C&Ab2Enc=iso-8859-1

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:...
 //////////////////////////////////////////////////////////////////////////////

Path: utkcs2!stc06.ctd.ornl.gov!cs.utk.edu!news.msfc.nasa.gov!news.sgi.com
      !news.mathworks.com!news.PBI.net!samba.rahul.net!rahul.net!a2i
      !news.vbc.net!news.mira.net.au!news.mel.connect.com.au
      !news.ade.connect.com.au!news.adelaide.on.net!highlander.senet.com.au
Date: Sun, 29 Sep 1996 19:07:49 +0930
From: Chris Foote <chris@salug.org.au>
Newsgroups: comp.os.linux.setup,comp.unix.admin
Organization: South Australian Linux Users Group
Message-ID: <324E436D.76F9D13D@salug.org.au>
Subject: Re: Serial line dial-in problem

In message <324B8B49.1924@bisnews.co.th>, kulawat@bisnews.co.th wrote:

> I use Linux 1.2.8 with my server and I have some problem
> with serial line dial-in.
> 
>         Sometimes when I dial to the serial line.
>         It already connected but no login prompt anymore!
>         (It sometimes works)
> 
> Serial configuration of my /etc/initab is
> 
> # Serial lines
> s1:12345:respawn:/sbin/agetty -h 38400 ttyS0 vt100
> s2:12345:respawn:/sbin/agetty -h 38400 ttyS1 vt100


I don't know the answer to you problem, but I would suggest moving 
over to mgetty+sendfax instead of using 'agetty'.  It works much 
better for answering calls from a modem.

You can get it from:

    ftp://sunsite.anu.edu.au/pub/linux/system/Serial/

Latest stable version: mgetty+sendfax-0.98.tar.gz

-- 
Chris Foote                               SALUG
South Australian Linux Users Group        http://www.salug.org.au
e-mail chris@salug.org.au                 Support Free Software!

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

Newsgroups: comp.unix.aix
Path: utkcs2!stc06.ctd.ornl.gov!fnnews.fnal.gov!uwm.edu!cs.utexas.edu
      !howland.erols.net!EU.net!sun4nl!news.eur.encompass.com!Leiden.NL.net
      !chagall.cti-software.nl!news
From: pim@chagall.cti-software.nl (Pim Zandbergen)
Subject: Re: Curses and Wyse terminals
Date: 4 Nov 1996 15:39:29 +0100
Organization: CTI Software BV, The Hague, the Netherlands
Message-ID: <55kv71$2tv@chagall.cti-software.nl>
References: <55d04j$8p8@news3.realtime.net>

grjohn@bga.com (Glen Johnson) writes:
>
>Wyse terminals seem to return a 0x0a both for the enter key and for the
>down-arrow key.  How do I distinguish which was pressed using curses?

No, the Enter key returns 0x0D (carriage return), but the tty driver
translates it to 0x0A.

Use nonl() in curses to turn off the translation.

--
E-mail : Pim Zandbergen <pim@cti-software.nl>
S-mail : Laan Copes van Cattenburch 70, 2585 GD The Hague, The Netherlands
Phone  : +31 70 3542302
Fax    : +31 70 3512837

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:
    http://www-archive.stanford.edu/lists/sun-managers/hyper95/2931.html
 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:


Date: 07 Nov 1996 12:49:18 +0000
From: Jon Care <Jon.Care@uk.sun.com>
Newsgroups: comp.sys.sun.admin
Subject: Re: Using a VT terminal as a console...

>>>>> "R" == R A Milowski <milor001@gold.tc.umn.edu> writes:
In article <54toh8$9rm@gold.tc.umn.edu> milor001@gold.tc.umn.edu (R A Milowski)
writes:


    R> This should have been simple but...  I am trying to use a VT220
    R> terminal as a console for a sparc 10.  I set the eeprom
    R> parameters as such:

    R> setenv output-device ttya setenv input-device ttya

    R> The machine boots fine, but nothing shows on the console and I
    R> get no console login.
    R> Any ideas?

    R> Is there some way I can test that these terminals work and are
    R> configured correctly?  I suppose I could setup a login monitor
    R> (like getty) on the ttya port, but I don't want to interfere
    R> with the console--or whatever is happening now with the
    R> console.

Have you checked that you have the terminal working at the right
speed? 9600 8N1 is usually what is set in the eeprom.

Also, have you checked that pin's 2 & 3 don't require swapping over?
Try popping a reverser in the serial link.


    [ARCHIVER'S NOTE: This "reverser" item may also be called a "null modem".
     It compensates for the fact that RS-232-C devices come in two flavors,
     DTE and DCE; each wants to talk to the other kind, not to its own kind.]

--
Jon Care, Sun Microsystems European Networking group. ++44 1276 20444
  If you aren't part of the solution, you're part of the precipitate.

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:...


See the illustrated Sun Serial Control How-To instruction:

    http://www.obsolyte.com/sunFAQ/serial/


 //////////////////////////////////////////////////////////////////////////////
 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:...


Path: utkcs2!stc06.ctd.ornl.gov!fnnews.fnal.gov!uwm.edu!cs.utexas.edu
    !howland.erols.net!newspump.sol.net!www.nntp.primenet.com!nntp.primenet.com
    !news.texas.net!news.sprintlink.net!news-fw-6.sprintlink.net
    !newton.hlthsrc.com!matusij@hlthsrc.com
Newsgroups: comp.databases.pick
Date: Wed, 11 Dec 1996 10:33:06 -0800
Organization: Healthsource, Inc.
Message-ID: <32AEFE62.1B6B@hlthsrc.com>
References: <19961211005000.TAA04602@ladder01.news.aol.com>
From: Mark Greene <greenemj@hlthsrc.com>
Subject: Re: Universe (Term Types)

dmbearden@aol.com wrote:
>
> Help!
> I am trying to configure a PC running W95 using WRQ Reflections2 talking to
> Universe 8.3.3.1 (Whew, that's a mouthful).  My problem is in the
> emulation mode.  I can't seem to get the reflections system to act like my
> dumb terminals (which are Wyse 50's).  Here's the specs:
>
> PC:
> emulating a vt220.  Term type is vt220 in HPUX as well as Universe.
>
> Wyse50 - HPUX and Universe are both wy50
>
> What happens is that when I print @(31) in basic, I am getting a line feed
> as well as a carriage return.  This also happens if I print anything in
> column 80 on the terminal.
>
> The Wyse 50 is handling all of this properly.
> Anybody have any idea how to configure Reflections to emulate a Wyse 50?


It just so happens that we went through the same process recently!  Keep
in mind that you have to sync all the pieces: Reflection, Unix, and
Universe. Here's a list of what we did:

Reflection setup:
  Terminal: newline off
  Display : Jump=2; AutoWrap on
  Keyboard: Backspace sends a backspace (not delete)

Unix setup:
  term=vt220
  stty chagnes:  -ixany altwerase -iexten

Universe setup:
  PTERM changes: CASE NOINVERT WERASE ON REPRINT ON SWITCH OFF QUIT OFF
  EOF OFF CRMODE NOICRNL BREAK OFF
  (This is done in the UV.LOGIN paragraph
   in the VOC in the UV account).

We also loaded a keyboard map in Reflection to remap the arrow keys and
some of the F-keys to mirror the Wyse keys (things like the arrows were,
unfortunately, hardcoded into our application). Hope this helps.

MJG

 //////////////////////////////////////////////////////////////////////////////

As of fall 2001, WRQ has technical notes on mapping the Backspace
key in the Reflection X product (X server/display):

The general Unix case:

    http://support.wrq.com/techdocs/3001.html

RedHat Linux:

    http://support.wrq.com/techdocs/1516.html

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

Date: 11 Jan 1997 17:00:45 GMT
From: "T.E.Dickey" <dickey@clark.net>
Newsgroups: comp.unix.solaris
Subject: Re: ! NEED HELP FOR CURSES !

tony lu <tony@aglance.com> wrote:
:
: I am porting a curses program to SUNOS5.4, problem is when I link aginst
: /usr/ucblib/libcurses.a there are some functions not defined in

that's the "wrong" library.  Solaris puts its ".a" libraries in /usr/ccs/lib.
But normally you'll use the shared libraries, and not have to worry about
what directory they're in.

: libcurses.a, and I can not find them in local directory or /usr/lib . (i.e
: beep , echo ..etc.).

: Is there any other lib should I link when you link aginst libcurses ?

-- 
Thomas E. Dickey
dickey@clark.net
http://www.clark.net/pub/dickey (old)
http://dickey.his.com/          (new)

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

Mr. Dickey makes a "curses development kit" available on the Internet:

    http://dickey.his.com/cdk/cdk.html

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

Newsgroups: comp.sys.hp.hpux
References: <351244A1.1BCE@nspuh.cz>
Message-ID: <01bd554a$f63d5f40$ed3a868b@seymours>
Date: 22 Mar 98 04:30:44 GMT
From: Shane Seymour <seymours@bigpond.com>
Subject: Re: curses in HP/UX 10.20
 
Michal Hajek <hajek@nspuh.cz> wrote in article <351244A1.1BCE@nspuh.cz>...
> Hi,
> 
> I wrote program under HP/UX 9.04, which uses curses and term. 
> When compiled under 9.04, it works correctly under both
> 9.04 and 10.20.

The first thing to note is that libcurses is X/Open curses at 10.x not
(what I prefer to call) classic curses. To make a program successfully work
with X/Open curses you need to define _XOPEN_SOURCE_EXTENDED when
compiling. If you need to use classic curses you need to link with
libHcurses at 10.x.
 
Note that 11.00 X/Open curses is the only 64bit curses library. In 32- or
64-bit mode it is the default definition that is included when you #include
<curses.h>. There's an #ifdef to allow classic curses (forgotten what you
have to #define) to be included.
 
Shane

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

Newsgroups: comp.sys.hp.hpux
Message-ID: <6rgr5f$a8o$2@callisto.clark.net>
References: <903585650.405273@optional.cts.com>
Date: 20 Aug 1998 09:44:15 GMT
From: "T.E.Dickey" <dickey@shell.clark.net>
Subject: Re: curses on HPUX 10.10

Lee Slaughter <lees@cts.com> wrote:
>
> I posted earlier about the curses initscr() call.
> The curses.c from o'reilly runs on Linux and
> unixware but hangs on HPUX. I haven't  a clue.
> As I said before cscope, a curses program,
> ran fine on 9.x

Are you linking with the default curses, or with the color-curses?
The former library, I'm told, is distributed in an unusable form
(though patches may be available).

-- 
Thomas E. Dickey

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

Newsgroups: comp.terminals
Followup-To: comp.terminals,comp.unix.admin,comp.unix.programmer,
             comp.unix.questions,comp.unix.sco,comp.unix.sco.misc,
             comp.unix.xenix.misc,comp.unix.xenix.sco
Path: utkcs2!stc06.ctd.ornl.gov!news.he.net!uwm.edu!news-peer.gsl.net
      !howland.erols.net!europa.clark.net!news.clark.net!explorer2.clark.net
Message-ID: <5jkm44$t6t@clarknet.clark.net>
References: <33563A9E.641D@hp9k.lag.itesm.mx>
            <Pine.SOL.3.93.970417154957.23958q-100000@infernal>
            <casper.861295815@uk-usenet.uk.sun.com>
            <5jj2ip$e91@chleuasme.francenet.fr>
Date: 23 Apr 1997 09:52:04 GMT
From: T.E.Dickey <dickey@clark.net>
Subject: Re: Termcap VS Terminfo


In comp.terminals Frederic MARAND <fgm@soon.com> wrote:
: >
: > Applications typically only support either terminfo or termcap, never both.
:
: Some versions of VI do support both ! I found that out when I remove a
: terminfo definition to work on it and VI still worked: it only ceased
: working when I also removed the termcap. I'm not sure of the OS, but I
: think it must have been on AIX 3.1.3.

Also, applications built with ncurses DO support termcap (but I don't
recommend relying on it, since when it falls back to termcap, it still
creates a shadow terminfo directory)

-- 
Thomas E. Dickey
dickey@clark.net



 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

Newsgroups: comp.terminals
Path: cs.utk.edu!news.msfc.nasa.gov!sgigate.sgi.com!swrinde!ihnp4.ucsd.edu
      !newshub.nosc.mil!news!owen
From: owen@nosc.mil (Wallace E. Owen)
Subject: Re: How do you hook a dumb terminal to a PC?
Message-ID: <1996May15.170413.20709@nosc.mil>
Keywords: Linux, terminal server, serial communication
Organization: NCCOSC RDT&E Division, San Diego, CA
References: <4jq536$egp@stratus.skypoint.net> <4kc3c4INNft5@duncan.cs.utk.edu>
Date: Wed, 15 May 1996 17:04:13 GMT

In article <4kc3c4INNft5@duncan.cs.utk.edu>,
Richard Shuford <shuford%cs.utk.edu> wrote:
>
>In article <4jq536$egp@stratus.skypoint.net>,
> jhoglund@skypoint.com (Jamie Hoglund) writes:
>>
>> I'm very clueless about this, but I'd like to hook some terminals
>> on my linux machine. I really don't know where to look for information
>> on how to do this. Could someone give me a general overview of what is 
>> involved?
>
>>What do I need on the computer? 
>>   Presumably some 'Black Box' that the terminals hook into, and tells the
>>   system what terminal is where. What is this called? (I'm not talking about
>>   serial ports, I don't think. The terminals have to be some distance from 
>>   the machine)
>
>Your "black box" is called a Terminal Server.  There are many vendors
>for these, including Cisco, Xyplex, Livingston, Xylogics, Lantronix, and
>even DEC.

 ... much deleted ...

Just plug it into the back of your PC on a spare serial port, using a
null-modem cable (2-3, 3-2, 5+6-20, 20-5+6, 4-5, 5-4, 7-7 on 25-pin
rs232).  Forget all that terminal server stuff 'till you need more than
a couple of terminals.


+-------------------------------------------------------+---------------------+
| "I can see nobody, sire.", the bowman said.           | Wally Owen          |
| "I only wish I had such eyes," the King remarked in a | VisiCom Laboratories|
| fretful tone. "To be able to see nobody? And at that  | (619) 457-2111      |
| distance, too! Why, it's as much as I can do to see   |       457-0888 Fax  |
| real people by this light!"                           | owen@cod.nosc.mil   |
+-------------------------------------------------------+---------------------+

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

Date: 3 Feb 1997 10:12:47 GMT
From: "Brian S. Craigie - Unix SA - NEC - Scotland" <brian@necs.demon.co.uk>
To: Tim Keanini <blast@worldbit.com>
Newsgroups: comp.unix.solaris
Subject: Re: Cant 'stty rows 24' on console

In article <32F2AFA6.794BDF32@worldbit.com>,
        Tim Keanini <blast@worldbit.com> writes:
> For some reason beyond me, I cannot set the Sun console to 80x24.
>
> I have a Sparc (running SunOS 5.5) with /dev/ttya as the output
> device and my Type5 keyboard as input.
>
> Needless to say, ttya is set to vt100 in inittab and for some
> reason or another, there is NO WAY for me to get 24 rows.
>
> I stty -a and see that it is 34x80 so I stty rows 24.
> I stty -a again and nothing has changed.  I can stty me in a
> new erase char and stty -a shows it no problem.
>
> Is there no way to set the console to 24x80?  $TERM is
> vt100 also.
>
> For the life of me, I can't see where else I can tell this darn
> thing that I want 'rows 24' and 'cols 80'


Have you tried changing in the shell instead?

    export COLUMNS=24
    export ROWS=80

Works for us (that's the ksh syntax above)

-- 
Best Regards,
Brian S. Craigie
Unix Sysadmin
NEC Semiconductors (UK) Ltd

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

Question from the "slrn FAQ" posted by <davis@space.mit.edu>.

    Message-ID: <slrn6k2kdm.aq.davis@space.mit.edu>
 
Subject: 1. Instead of drawing lines for the thread tree, I see `mq'.  Why?
 
    There are a couple of reasons for this.  The simplest may be that the
    font that you are using does not support line-drawing characters.
    Simply switching fonts to a dec-vt220 compatible font may solve the
    problem.  This is usually the case with Windows telnet applications.
 
    Another reason for this is that your terminfo file may not be set up
    properly. The obvious solution is fix the terminfo file.  However, this
    may not be possible without the correct tools (untic and tic) and many
    systems do not have those tools installed.
 
    Although slang is a terminfo-based system, there is another solution
    based on termcap if you are using version 0.99.18 of slang or later.
    First of all, get a termcap entry that contains the appropriate
    capabilities for an alternate character set, that is, the termcap `ac',
    `ae', `as', and possibly `eA' capabilities.  Let's call this file
    `my_termcap'.  Then do:
 
      setenv TERMCAP `pwd`/my_termcap
      eval `tset -s terminal-name`
 
    (Replace `terminal-name' by your terminal name).  `tset' will then read
    and parse the my_termcap file and set the TERMCAP variable
    appropriately. You will want to put this in your .login file.
 

(for information about "slrn", see http://space.mit.edu/%7Edavis/slrn.html)

 / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / /

Discussion of line-drawing characters and UTF-8 in Ubuntu:

    http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=307583

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

Newsgroups: comp.terminals,comp.unix.internals
Path: cs.utk.edu!news.msfc.nasa.gov!newsfeed.internetmci.com
      !howland.reston.ans.net!blackbush.xlink.net!news.asys-h.de
      !baghira.han.de!anubis.han.de!user
X-Newsreader: Yet Another NewsWatcher 2.1.2
Sender: news@baghira.han.de (news at baghira.han.de)
Message-ID: <jum-1712951647110001@anubis.han.de>
References: <RSM.95Dec16103445@platinum.math.arizona.edu>
Date: Sun, 17 Dec 1995 15:47:11 GMT
From: jum@anubis.han.de (Jens-Uwe Mager)
Subject: Re: /dev/vt0 in early Unices: what was it?


In article <RSM.95Dec16103445@platinum.math.arizona.edu>,
rsm@math.arizona.edu (Robert S. Maier) wrote:

> I recently looked at the SunOS source for plot(3) (the old package of Unix
> graphics routines, which I'm writing a modern version of).  It includes
> libraries of routines for plotting graphics on various graphics terminals.
> One of them (libvt0.a) clearly wasn't intended to drive a specific terminal
> at all.  It simply sends command to /dev/vt0, in a special format.
> 
> I'd hazard a guess that `vt' means `virtual terminal'.  Can anyone fill
> me in on this?  Was there at one time (in very early Unices) a virtual
> terminal driver in the kernel?  If so, why was it there?  And why was
> it removed?

If I remember right this was an interface for a Versatec plotter device. I
believe it used an Unibus expansion card for PDP-11 computers to talk to
the plotter, therefore the special kernel level driver.

> To this day, the entries in many termcap files include a `vt' attribute
> for older terminals.  Is there any connection?  Thanks in advance.

This has nothing to do with the /dev/vt0 device; this was a number
identifying a kernel-based terminal emulator. One could set parameters
using a struct termcb and the LDSETT and LDGETT ioctl() calls. It
basically translated from a virtual terminal model (described in
sys/crtctl.h) to a real terminal like VT100. Most System V.4 based systems
still have the header files, although I doubt that anyone used this stuff
for years.
______________________________________________________________________________
Jens-Uwe Mager                  jum@anubis.han.de
30177 Hannover                  jum@helios.de
Brahmsstr. 3                    Tel.: +49 511 660238


 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.terminals
NNTP-Posting-Host: cleo.labri.fr
References: <45937df1$0$26438$426a74cc@news.free.fr>
            <861wmknn9a.fsf@gmail.com> <459517ad$0$319$426a74cc@news.free.fr>
Message-ID: <20070103153606.GA8011@bouh.residence.ens-lyon.fr>
Organization: Debian GNU/Linux site
Date: Wed, 3 Jan 2007 16:36:06 +0100
From: Samuel Thibault <samuel.thibault@ens-lyon.org>
Subject: Re: How a virtual terminal is connected ?

yvespiel, le Fri 29 Dec 2006 13:27:09 +0000, a écrit :
>
> Le Thu, 28 Dec 2006 21:49:53 +0800, yong a écrit:
> >
> > No.
> >
> > It is a virtual console from /dev/pts/*.
>
> is there a link which explain console/teminals/etc...


Since you seem to be french, maybe you can have a look at one of my TDs:

    http://dept-info.labri.fr/~thibault/SecuSE/td3bis.ps

Samuel


 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.unix.solaris
Path: utkcs2!stc06.ctd.ornl.gov!news.he.net!www.nntp.primenet.com
     !nntp.primenet.com!cs.utexas.edu!geraldo.cc.utexas.edu!arlut.utexas.edu
     !news.eden.com!uunet!in1.uu.net!207.67.253.7!atmnet.net!news.lightside.com
Organization: Jet Propulsion Laboratory
Message-ID: <32FE6259.3147@lightside.com>
References: <5dkrlb$q61$1@news.cs.tu-berlin.de>
Date: Sun, 09 Feb 1997 15:48:41 -0800
From: Jake Hamby <jehamby@lightside.com>
Subject: Re: x86: Compose-key?

Christian Krauss wrote:
>
> Does anybody know how to set up the compose key
> on PC-Keyboards.  [under Solaris 2.5 x86--Intel processor version of Solaris]
> Is there any shortcut for it ?


The xmodmap program is what you want.  Find the keycode of the key you
want to map to Compose (a useful tool for this is /usr/openwin/demo/xev,
if you have it installed, run it and type keys into the window).  On my
keyboard, the right Control key is keycode 71.

Create a file called .Xmodmap in your home directory containing this line:

    keycode 71 = SunCompose

Now type at a shell prompt:

    % xmodmap .Xmodmap

The right control key is now Compose, and works just like a Sun.  If you
want to use the Right Alt key instead, substitute keycode 69 (to find
other keycodes, use /usr/openwin/demo/xev).  To make this permanent, put the
xmodmap command somewhere where it will be executed after OpenWindows starts
(depending on your configuration, this could be .xinitrc or
.openwin-init). Enjoy!

By the way, I had a very difficult time with this same problem in
FreeBSD (XFree86).  I could never get Netscape (an X11R5 binary) to
recognize the accented characters.  I guess that's one advantage of
Solaris...

-- Jake Hamby

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:


If you want to automate the interaction of a telnet or rlogin session,
consider using the "expect" tool, perhaps in conjunction with TCL or Tk.

    http://expect.nist.gov/

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:


Newsgroups: comp.sys.dec
Path: utkcs2!stc06.ctd.ornl.gov!news.he.net!news.maxwell.syr.edu
      !cam-news-hub1.bbnplanet.com!cam-news-feed2.bbnplanet.com!shore!news
Message-ID: <33B7A10C.59E2@iisc.com>
References: <33B55637.2DB7@home.com>
Organization: Integrated International Systems Corp.
NNTP-Posting-Host: koibito.iisc.com
Date: Mon, 30 Jun 1997 08:05:32 -0400
To: acrobytes1@home.com
From: Charles M Richmond <cmr@iisc.com>
Subject: Re: Telnet to DEC "Alpha"

Skillman Hunter wrote:
>
> A router has been installed in our company that provides access to a
> remote "DEC Alpha" - I dont know any more about what that machine is,
> could be unix, could be VMS. With the IP address of the Alpha, we can
> log in via Telnet and get a response. However, from both a Win95 and Mac
> PCs the cursor positioning is wrong - goes to wrong place on screen, and
> same wrong palce on both PCs. I set Telnet to VT100 terminal emulation
> or "DECVT100" with same result.
>
> The operator of the Alpha says "They have had problems with terminal
> emulators."
>
> What questions do I need to ask of the DEC guy before I can begin to fix
> this problem?


First off, if you are able to telnet in, then you *do* know whether
you are logging into VMS or Unix.  You might as well say that you can't
tell the difference between Beethoven and country music.

Solution for Digital UNIX:

After logging in, type:

    eval `/usr/bin/X11/resize`

Please note that the "`" are backquotes, not single quotes.

If that doesn't work then try the following:

    TERM=ansi; eval `/usr/bin/X11/resize`

or

    TERM=xterm; eval `/usr/bin/X11/resize`


Which ever of these work, you should add to the .profile or .login
files. Ask your sysadmin, which one it should be.

-- 
***********************************************************************
*  Charles Richmond    Integrated International Systems Corporation   *
*  <cmr@iisc.com>     <cmr@koibito.iisc.com>  <cmr@shore.net>         *
*  UNIX Internals, I18N, L10N, X, Realtime Imaging, and  Custom S/W   *
*  One Longfellow Place Suite 3309 , Boston , Ma. USA 02114-2431      *
*  (617) 723 7695    (617) 367 3151        FAX (617) 723 6861         *
***********************************************************************


 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

Newsgroups: comp.os.linux.setup,comp.terminals,comp.os.linux.misc
Path: utkcs2!stc06.ctd.ornl.gov!fnnews.fnal.gov!uwm.edu!vixen.cso.uiuc.edu
      !howland.erols.net!news.maxwell.syr.edu!News1.Ottawa.iSTAR.net
      !news.istar.net!nr1.ottawa.istar.net!not-for-mail
Organization: Global Proximity Corporation
X-Mailer: Mozilla 3.0 (X11; I; Linux 1.2.13 i586)
NNTP-Posting-Host: nnt-100.oxford.net
Message-ID: <33D3B16C.4EDD0CD@Global.Proximity.ON.CA>
References: <5qu8sb$nds$1@nntp.Stanford.EDU>
Date: Mon, 21 Jul 1997 14:58:52 -0400
From: Chris Tyler <Chris@Global.Proximity.ON.CA>
Subject: Re: Linux + IBM 3101 Terminal


Chris Peiffer <fancylad@zonker.stanford.edu> wrote:
>
>         I have an old IBM 3101 terminal that I am trying to hook up to COM2
> on a Linux box (Slackware, kernel version 2.0.27, 486). I have set up a line
> in inittab:
>
>         s2:12345:respawn:/sbin/agetty -L 300 ttyS1 ibm3101
>
>         I have a null modem adapter hooked on the end of the cable. However,
> I get no response from the terminal. This happens with both full handshake
> and no handshake null modems. It always says "line check 2", meaning that it
> can't communicate with the host.


Check out your connections:

(1) Loopback pin 2 to 3 on the terminal's serial port. Can you see what
    you type? (If not, what if you loop back 4 to 5 and 8 to 20?).
    If not, the terminal is toast.

(2) Loopback pin 2 to 3 on the Linux PC's serial port. Disable the getty
    and connect to the port (cu -l /dev/ttyS1). Can you see what you type?
    If not, the serial port is toast.

(3) While still running the "cu" command (above), plug the terminal into
    the linux PC. Can you type from one machine to the other? In both
    directions? If not, the cable is toast or the comm options are
    mismatched (speed, parity, etc).


-- 
Chris Tyler                       <Chris@Global.Proximity.ON.CA>
Global Proximity Corporation      http://Global.Proximity.ON.CA/
Internet and Computer Consulting  (519) 421-3541 / fax (519) 421-2107
*** Organizers of the Woodstock Business Internet Conference ***

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

Newsgroups: comp.terminals,comp.unix.solaris
Path: utk.edu!cpk-news-feed4.bbnplanet.com!cpk-news-feed1.bbnplanet.com
      !cpk-news-hub1.bbnplanet.com!su-news-hub1.bbnplanet.com
      !news.bbnplanet.com!theplanet.net!not-for-mail
Message-ID: <34110E59.167E@cscragroup.slv.co.uk>
References: <01bcb95e$e5acc220$986cf2c6@rport.portable.com>
NNTP-Posting-Host: n02i107.c2r5.pol.co.uk
Organization: CSC Ra Group
Date: Sat, 06 Sep 1997 09:03:37 +0100
From: Allan Wilkins <allanw@cscragroup.slv.co.uk>
Subject: Re: Wyse 150 and solaris curses

Robert J. Harrington wrote:
> 
> Hello,
> 
> I am working on a project using solaris curses on a PC running Solaris 2.5.1
> with a Wyse 150 terminal.  I got the termcap and terminfo source from 
>
>  (deleted text)
> 
> Any ideas?
> 
> Thanks,
> Rob Harrington
> rjh@instanton.com


I don't know of what help this will be, but I have often found that
attribute handling is controlled with "sgr" (set graphics rendition)
rather than the individual variables (rmso, rev etc). It may well be
worth checking the value of sgr to see if it is correct. The unfortunate
thing is that the syntax for sgr is very complicated (reverse polish or
some such) and does not seem to lend itself to the way a Wyse terminal
controls attributes. You could also try removing the sgr entry
altogether to see if this forces curses to use the individual
attributes.

If you need any additional help feel free to e-mail me or re-post.

Good luck, you'll need it

Al
-- 
Allan Wilkins (awilkins@csc.ragroup.co.uk)
CSC Ra Group Ltd.
In this posting/mail I am speaking for me, not my employer

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

Date: Wed, 04 Feb 1998 09:57:42 +0100
From: Jostein Leira <Jostein.Leira@WinLink.no>
Newsgroups: comp.os.linux.hardware, comp.os.linux.questions, comp.terminals,
    comp.os.linux.networking
Subject: Re: Dumb Terminal/Linux cabling question

Jeff Jolley wrote:
>
> Is my cable screwed up.  Are my permissions screwed up (then why does the
> modem work?)  Am I using the wrong getty process?  I have all the
> permissions, inittab entries, and anything else that may help, but I don't
> want to post them and make this file any longer.
>
> If you've had any success connecting linux to a dumb terminal, please email
> me with some help.

I had a similar problem, but this solved it for me:

In your /etc/inittabs where you have listed your getty, note that you need the
-h option so your host does not to force a hangup on the terminal line before
initializing it. When using mgetty use the -D option (no fax).

t1:234:respawn:/sbin/getty -h ttyS1 19200 vt100
or
t1:234:respawn:/sbin/mgetty -D -s 19200 ttyS1

(I found this in the book \Essential System Administration/ by Fleen Frisch,
O'Reilly & Associates, Inc, 1995. Good book for UNIX novices like me.)

Regards
-- 
Jostein Leira
http://www.winlink.no/~jost

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

Newsgroups: comp.unix.aix
Message-ID: <34fc9bc2.4431391@nntp.ix.netcom.com>
References: <uy6wWnqR9GA.281@upnetnews03>
Date: Wed, 04 Mar 1998 01:27:25 GMT
From: Joe Vigil <avimis@ix.netcom.com>
Subject: Re: Wyse Terminal Lockup

On Tue, 3 Mar 1998 07:44:56 -0600, "Mark Martin"
<mark_martin@email.msn.com> wrote:
>
>I have a 570 Server with Version 3.2 O/S.  We have had it since 94 and have
>had no upgrades to the OS.  All our terminals including the console are
>Wyse 60 terminals.
>
>Yesterday I installed a Tripplite UPS with their auotmated software for
>monitoring and shutdown of the system.  The install seemed to go OK until I
>logged off and tried to get back in.  The software seems to have changed all
>the tty devices to expect an Xterm device.  Now when a user logs in, their
>terminal is locked by the codes the OS is sending to set the terminal.  The
>only way out for them is to turn off the terminal and turn back on to reset
>it.  But as soon as they log out, the cycle happens again.
>
>I have spoken with the people at Tripplite and they have been of no help
>yet.  This site has over 100 terminals and this is causing problems and
>prompting phone calls.
>
>Does anyone have a clue as to where I can stop the system from thinking
>these terminals are other than wyse 60?
>
>Mark Martin
>Triad Services LLC

You can edit the /etc/profile  and include a line like 

TERM=wyse60;export TERM

Also, within "smit", you can assign a terminal type to a particular tty.

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

Newsgroups: comp.sys.dec
Organization: Engineering Computer Services
Message-ID: <5s7rp3$6q7$1@risky.ecs.umass.edu>
References: <870734443.44@dejanews.com>
Date: Tue,  5 Aug 1997 09:33:41 GMT
From: Joe Heimann <heimann@ecs.umass.edu>
Subject: RE: Non-DEC uses for VT320 terminals?

 gbarrett@jerrynet.com writes:
>
> Does anyone know of any non-DEC uses for VT320 terminals? I have a
> storage room littered with model VT320-C2 terminals that I can't quite
> let go of because they still power up. Can they be hooked up to Unix boxes?

Yes, termcap and terminfo entries are available in many Unix operating
systems, or can be found.  The VT320s can also be set to VT100 or VT200 mode.

> Is there some way to use them for terminal access to network
> equipment? Maybe I can patch together some sort of RS-232 cable?

DEC shipped VT320s with a standard MMJ to RS232 adapter.  If I am looking
at the right one, the part number is H8571-K.

There are also other MMJ adapters for other uses, such as MMJ to DB9.
They should be fairly easy to find from DEC or other suppliers, or
someone at your organization may have kept some around in a drawer
or storage closet.

Joe Heimann

<heimann@ecs.umass.edu>
Engineering Computer Services
College of Engineering
University of Massachusetts /Amherst


 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

Archiver's Note:

At the question above...
>
> Does anyone know of any non-DEC uses for VT320 terminals? ...
> Can they be hooked up to Unix boxes?

...old-timers will either wince or chuckle, because Unix was INVENTED
on DEC computers.

Now that Compaq has absorbed DEC, I guess wincing is more likely.

 ...RSS

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

Newsgroups: comp.sys.hp.hpux
Organization: NR
Message-ID: <6dj687$oc6@news.neth.hp.com>
References: <6cugoc$b2m$1@nnrp1.dejanews.com>
NNTP-Posting-Host: news.neth.hp.com
Date: 4 Mar 1998 09:17:59 GMT
From: franks@neth.hp.com (Frank Slootweg)
Subject: Re: Log a running terminal

On February 24, coquito@bigfoot.com wrote:
> There is a way to log (like the "script" command) everithing in an already
> running terminal session ?
> 
> Can I run the "script" command in background ?

  I am mainly responding, because, as far as I can tell, you did not get
any other responses.

  I do not know a way to do this, but you can run script(1) from
/etc/profile or ~user/.profile. That way you have the needed information
when you need it. You probably also will need to write some daemon
script to monitor the size of the script(1) typescript files, and
perhaps trim them or abort script(1) when they become too big.

  Note that script(1) can only be used if you have the cooperation of
the user, because it is trivial for the user to terminate it.

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

Newsgroups: comp.sys.hp.hpux
Path: transfer.stratus.com!cam-news-feed2.bbnplanet.com
      !cam-news-hub1.bbnplanet.com!news.bbnplanet.com!newsfeed.xcom.net
      !news.maxwell.syr.edu!news.mel.connect.com.au!not-for-mail
Organization: Customer of Connect.com.au P/L, Melbourne, Australia
Message-ID: <35308d67.28812580@news.mel.connect.com.au>
References: <6gk3k9$47m$1@news6.ispnews.com>
Date: Sun, 12 Apr 1998 09:50:23 GMT
From: rjc@trump.net.au (Robert Colquhoun)
Subject: Re: Terminfo for Microsoft bundled TELNET.EXE


On Thu, 9 Apr 1998 22:24:42 -0500, "Jerrel C. Baxter"
<jcbaxter@panther.bsc.edu> wrote:

>I am looking for a suitable terminfo configuration for use with Microsoft's
>bundled TELNET.EXE application which comes with Windows for Workgroups 3.11,
>Windows 95, and Windows NT 3.X&4.0.  Preferably something that will not
>require that I and students constantly have to force a redraw of the screen
>when running elm and/or pine not to mention vanilla vi.  We're currently
>running HP-UX 9.04 and testing HP-UX 11.0 on an alternate host machine.
>
>I know that TELNET.EXE can be pretty miserable and normally we do use WRQ
>Reflection but I would prefer to offer students in particular the option of
>having a reasonably reliable session via TELNET.EXE if possible.
>
>Thank you,
>
>Jerrel Baxter
>jcbaxter@panther.bsc.edu


Hi Jerrell,

I have found it works a whole lot better if you set the
Terminal->Preferences Buffer Size to 24 lines, also if you enable
VT100 arrows work nicely in vi (this is with the ANSI term emulation).

You still need to Control-L occasionally but it's not too bad.

-- 
- Robert



   [ARCHIVER'S NOTE: Microsoft's Telnet client that comes with Windows 95
    is a poor VT100 emulator.  It scores only 28 on "vttest".

    The "emulating a terminal on a PC" web page at this site contains
    pointers to lots of better alternatives. ]

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

Newsgroups: comp.sys.hp.hpux
Message-ID: <352EA9FD.3962BB2C@redlinesw.com>
References: <352E670A.650ABEEE@nortel.com>
From: joel sherriff <joel@redlinesw.com>
Subject: Re: How to stop emitting '^[OA' from up-cursor?
Date: Fri, 10 Apr 1998 16:23:42 -0700


Peterson, Jeff (EXCHANGE:RICH2:2O41) wrote:

> I am using HPUX 10.20. When I start a new xterm, the up cursor key emits
> "<esc>[A" which is correct. When I run /bin/vi, the up-cursor key emits
> "<esc>[A" within the editor, but after exiting, it then emits "<esc>OA"!
> I have found a work arround that I use for the zsh which I will include.
> What I want to know is, what do I do to remove the source of the
> problem. I suspect the curses library. Here are some interesting facts:
>
>   1. I don't use /bin/vi, my vi is aliased to vim.
>   2. My cursor keys get messed up, so other programs have the problem.
>   3. /bin/vi always messes up the settings.
>   4. All of the cursor keys are messed up, the '[' has been replaced
>      with 'O'.
>   5. This problem is independent of the shell used.
>   6. The problem showed up with HPUX 10.20.
>   7. Although the up-cursor is screwed up outside of /bin/vi, it emits
>      <esc>[A while using /bin/vi.
>   8. There is nothing covering this problem in the HPUX faq.
>
>     Jeff Peterson
>     jeffreyp@nortel.com


Jeff,

    Your suspicion is close, but the problem is in the terminfo entry for
xterm on your machine.

vi on HP-UX 10.20 puts the keyboard in application keypad mode on exit.
I'm not sure why, but you can make it stop by modifying the terminfo entry
and either remove the name=value pair for "rmkx" or set the value to be the
same as for "smkx".

On my IRIX machine, the values for rmkx and smkx are switched and the
entries for keypad up (kcuu1), down (kcud1),
back (kcub1) and forward (kcuf1) are in cursor keypad mode (^[OA, ^[OB,
^[OD, ^[OC), opposite from HP-UX's.  My guess
is that it used to be that way on the older HP-UX.  You might try that, or
just take the terminfo entry for xterm from
an older HP-UX.  See man "terminfo", "tic", and "infocmp" for more info.

Joel Sherriff
RedLine Software
http://www.redlinesw.com/


 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:


Newsgroups: comp.sys.hp.hpux
Organization: University of Jyvaskyla, Finland
Message-ID: <n6ogy9mjdt.fsf@jane.math.jyu.fi>
References: <892115859.3440.0.nnrp-07.c246a7b2@news.demon.co.uk>
Date: 11 Apr 1998 00:55:42 +0300
From: Tapani Tarvainen <tt@jane.math.jyu.fi>
Subject: Re: vi, ksh's set -o emacs and HP-UX


"Eric Le Donné" <eledonne@metrica.co.uk> writes:

> I use ksh as shell, vi as editor, and set -o emacs.
> I've defined some aliases:
> 
> __A=^P
> __B=^N
> __C=^F
> __D=^B
> 
> so I can use the arrow keys to edit the command line. It works fine, but
> once I've finish to use vi, the aliases don't work anymore, pressing the
> upper key returns 'A' on the command line....
> 
> I've tried stty sane, set -o vi, alias __A=^P, set -o emacs again... nothing
> work... I try to log on again, to telnet, still nothing... I have to close
> my xterm and launch a new one to get the aliases back again....


One feature that xterm has inherited from VT100 is that arrow
(and keypad) keys can emit two different escape sequences
depending on the mode the terminal is in: there's "normal" mode
and there's "application" mode (separately for arrows and keypad).
The above aliases rely on arrow keys being in normal mode, but
a number of programs, including vi, set them to application mode
and leave them so upon exit. 

This plagues not only xterm but a number of other terminals and
emulators as well (including ssh-for-Windows I'm using right now--
it's not specific to HP either). Some of them have their own means 
of changing the key modes; e.g., in xterm there's usually a menu
accessible by holding ctrl and clicking one of the mouse buttons 
(I don't remember which one, and it's customizable anyway).

In all vt100-compatibles, however, you can reset the arrow keys
to normal mode by the escape sequence <esc>[?1l: try

print "\0033[?1l"

after running vi.

As a permanent solution you can insert that sequence in PS1. In order
to keep it from messing ksh's notion of line length a carriage return
can be used as a separator. Here's a sample way of doing it in your
.kshrc:

PS1="$(print '\0033[?1l\0015')${PS1##*$(print '\0015')}"

That will first strip away any <cr>-terminated sequence from the
beginning of PS1 so they won't accumulate, then insert the desired
sequence. This way it will work even in a global script that can be
sourced by everybody in their .kshrc regardless of what they want as
their PS1 (apart from other <cr>-terminated sequences).

An alternative approach would be mapping the application mode
arrows to do the right thing, but I haven't bothered to work
out the details on how to do that.

-- 
Tapani Tarvainen

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

Newsgroups: comp.sys.hp.hpux
Date: 14 Apr 1998 13:01:04 GMT
Organization: Institut de Recherches Subatomiques - Strasbourg
Message-ID: <slrn6j6k4u.lh5.speckel@sbgrs1.in2p3.fr>
References: <892115859.3440.0.nnrp-07.c246a7b2@news.demon.co.uk>
           <n6ogy9mjdt.fsf@jane.math.jyu.fi>
From: speckel@sbgrs1.in2p3.fr (Benoit Speckel)
Subject: Re: vi, ksh's set -o emacs and HP-UX


On 11 Apr 1998 00:55:42 +0300, Tapani Tarvainen <tt@jane.math.jyu.fi> wrote:
>"Eric Le Donné" <eledonne@metrica.co.uk> writes:
>
>> I use ksh as shell, vi as editor, and set -o emacs.
>> I've defined some aliases:
..........
>> I've tried stty sane, set -o vi, alias __A=^P, set -o emacs again... nothing
>> work... I try to log on again, to telnet, still nothing... I have to close
>> my xterm and launch a new one to get the aliases back again....
>
>One feature that xterm has inherited from vt100 is that arrow
>(and keypad) keys can emit two different escape sequences
>depending on the mode the terminal is in: there's "normal" mode
>and there's "application" mode (separately for arrows and keypad).
>The above aliases rely on arrow keys being in normal mode, but
>a number of programs, including vi, set them to application mode
>and leave them so upon exit. 
>
................
>An alternative approach would be mapping the application mode
>arrows to do the right thing, but I haven't bothered to work
>out the details on how to do that.
>
>-- 
>Tapani Tarvainen


On HP-UX 10.20, under a curses application (vi...) you get normal
keypad/cursor sequences, and when the application exits it sets
application sequences. Unless some X ressources are set, xterm starts
with normal sequences. Usually, it works the other way (application
sequences under curses applications), ...and sometimes application
sequences are not reset when the application exits.

To solve this, I have modified our xterm terminfo entry, and removed
all set/reset of application sequences. Users which prefer an
application keypad may set it through ressources, by default, our
keypads generates digits (a blessing with our french keyboards).

The terminfo entry can be decompiled with the "untic" command, entries
wich set/reset the applications sequences are smkx/rmkx (man terminfo).
A list of xterm's control sequences is distributed with the source of
X11, look with archie for the file "ctlseqs.PS.Z".

-- 
Cordialement,

Benoit SPECKEL
IReS - Bat 27                e-mail: speckel@in2p3.fr
23 rue du Loess               voice: 03 88 10 68 23
BP 28                           fax: 03 88 10 62 02
F-67037 STRASBOURG Cedex 2


 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

Newsgroups: comp.terminals
Message-ID: <35b71f37.1432663@netbsd.haeb.demon.org>
References: <6p2ecg$lsp$1@nnrp1.dejanews.com>
Date: Tue, 21 Jul 1998 23:11:13 GMT
From: Harry Broomhall <haeb@pc60.demon.co.uk>
Subject: Re: Prgramming Wyse60 arrow keys
 
On Tue, 21 Jul 1998 16:07:44 GMT, bkarsten@OLGC.com wrote:
> 
>We have a program that sets a value for the arrow keys on the terminal itself.
>So when we connect the terminal to another program, we will need to re-program
>the arrow keys to their default.
>Could someone let me know how to program a wyse 60 terminal through code?
>
>We are using a Sun box.  System V UNIX
 
If you have a correctly installed terminfo then something like
'tput init' will do the trick.  This is a bit variable though!

If it *isn't* installed properly then do so--it will make things
*much* easier!
 
  Regards,
         Harry.


 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

from the HP-UX 10.20 Online Release Notes:

curses(3X) in HP-UX
-----------------------------------------------------------------------------
  * Now conforms to the X/Open Curses, Issue 4 Specification, which
    includes support for color, new attributes, and codesets supported
    by libc.

  * The library libcurses.a has been removed.

  * libcurses.sl and /usr/include/curses.h have been replaced with
    a library that confirms to the X/Open Specification.  However,
    the previous library is still available.  The old header file is
    accessed by using the _HP_CURSES define on the command line with
    -D_HP_CURSES.

  * Linking .o files that were developed for use with the old curses
    is no longer supported with libcurses.  These .o files can be
    linked with libHcurses (use -lHcurses).

  * You should begin movement to the new default curses library because
    the ability to use libHcurses and -D_HP_CURSES will eventually be
    removed.

See also HP-UX 10.20 patches:

Patch Name: PHCO_10947
Patch Description: s700_800 10.20 libHcurses cumulative patch
Symptoms: 
PHCO_10947: Long environmental variables can cause coredumps.
PHCO_10451: libHcurses API getch() coredumps when   is pressed twice, quickly.
PHCO_8892: 9.x curses based application breaks in 10.20.

Patch Name: PHCO_14249
Patch Description: s700_800 10.20 curses library libcur_colr cumulative patch
Symptoms:
PHCO_14249: waddch() mispositions cursor if it is at the bottom right corner.
PHCO_10344: waddch() does not return ERR when a character is placed at the end
            of the window and is also unable to advance the cursor.

Patch Name: PHCO_14654
Patch Description: s700_800 10.20 Xcurses library cumulative patch
Symptoms:
PHCO_14654: The delwin(3X) coredumps in some cases.
PHCO_11342: The X/Open curses API getch() waits indefinitely for input to
            complete a keypad sequence.
PHCO_11036: Various XCurses APIs were fixed during 10.30 and the same had to
            be backported to 10.20.
PHCO_9295: 1. In 10.20, high-lighted fields cannot be reverted
              to normal in an application which links with -lcurses.
           2. Application uses select() systems call dumps core.

Compiling -lcur_colr is now the standard.

HP-UX Patches -->  ftp://us-support.external.hp.com/hp-ux_patches/

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:


Newsgroups: comp.protocols.kermit.misc
Message-ID: <6ol9r2$2nf$1@samba.rahul.net>
References: <6okifb$ijr$1@nclient1-gui.server.virgin.net>
Organization: a2i network
Date: 13 Jul 1998 20:13:08 GMT
From: Clarence Dold <dold@62.usenet.us.com>
Subject: Re: Line feeds lost after kermit session.

: Kirill Sapelkin (znanie@best.com) wrote:
: : After logging off from my ISP and leaving kermit, I find that each
: : line prints over the previous, line feeds are lost.

: At the ISP, are you configured as TERM=vt100 ( a popular default ), while
: actually running ckermit from a PC console screen, which should be
: TERM=at386, if available?

Kirill replied via email that he was running as a LINUX console.
At the ISP his TERM=vt100 was adjusted, and now kermie works fine, just as
we all knew he would ;-)

-- 
---
Clarence A Dold - dold@network.rahul.net
                - Pope Valley & Napa CA.


 //////////////////////////////////////////////////////////////////////////////


Newsgroups: comp.protocols.kermit.misc
Message-ID: <6ol9r2$2nf$1@samba.rahul.net>
References: <6okifb$ijr$1@nclient1-gui.server.virgin.net>
From: Clarence Dold <dold@network.rahul.net>
Date: 16 Jul 1998 16:30:26 GMT
Subject: Re: Key Mapping

Fergus Strachan (fergus.strachan@virgin.net) wrote:
: Small problem with my arrow keys...

: Got direct serial connection to a UNIX box using VT320/220 and everything's
: almost fine, except some of the keys...
: I tried the standard key 'numbers' at the back of the book to map to the
: \KUpArr etc. but to no avail - when I use the arrow keys it asks me if I
: want to exit the unix program I'm running.

That is an indication that the program is seeing the ESC character at the
start of the string, and recognizing it as an escape, without waiting to
see if the next character is part of a control sequence.

I went through some major rewrite of the curses library for SVR3 in this
area when I was in kernel support.  Most Unix boxes have a hard time with
the timing, especially if any buffering is involved, like TCP, or
high-speed modems, or even buffered UARTs in the host box, that might
"split" packets between the ESC and the [

This is aside from the clues that Frank gives in another reply, but it
could be that your Unix box is the problem.  Does it happen at different
baud rates?  I vaguely recall that there were some speed-based parameters
in the code.

Go to a Unix shell prompt.
        od -c <ENTER>
        <RIGHT ARROW> <ENTER>
        ctrl-d

0000000  033   [   C  \r

In my case, this indicates that a right arrow is producing an ESC, followed
by a left bracket and C.

infocmp         (some lines deleted)
AT386|at386|386AT|386at|at/386 console,
        kclr=\E[2J, kcub1=\E[D, kcud1=\E[B, kcuf1=\E[C,
        kcuu1=\E[A, kdch1=\E[P, kend=\E[Y, kf1=\EOP,

infocmp tells me what Unix is expecting from my terminal, which is defined
as an AT386.  \E[C is for "key-cursor-forward-mode1", you can see A,B,C,D
described as up,down,forward,back.

So my arrow keys match what Unix expects.  If this wasn't true, there would
be work to do.  If it is true, and the keys don't work, especially if they
work intermittently, the curses library is probably at fault.

Function keys have the same problem, a sequence starting with an ESC, which
is used by a lot of programs for escaping from a particular screen.
In the short sample above, kf1 is function key 1.
-- 
---
Clarence A Dold - dold@network.rahul.net
                - Pope Valley & Napa CA.

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.sys.hp.hpux
Message-ID: <6tjklc$1op$1@callisto.clark.net>
References: <Ez9r4r.60J@csc.liv.ac.uk>
Date: 14 Sep 1998 17:44:12 GMT
From: "T.E.Dickey" <dickey@shell.clark.net>
Subject: Re: HP 10 Xterm F key escape sequences

David Nixon <djn@csc.liv.ac.uk> wrote:
>
>   Function key escape sequences for an HP-UX 10 xterm window seem longer
> than under HP-UX 9. E.g. the codes generated by the F1 key:

> HP-UX 10 xterm                0x1b 0x5b 0x31 0x31 0x7e
>          dtterm                "     "   "    "    "
>          hpterm               0x1b 0x70 0x0a

> HP-UX 9  xterm                0x1b 0x4f 0x50
>          hpterm               0x1b 0x70 0x0a

>  The 10.20 release notes mention ANSI standard terminal escape sequences for
> dtterm; so I presume now xterm uses this same standard. Can anyone suggest
> how to generate the old escape sequences from an HP 10 xterm?

>  I ask this because when I rlogin to a remote non-HP computer for an Oracle
> application (using xterm -tn vt100), it will only recognises the function
> keys of an HP 9 xterm.

> David N.


XFree86 xterm uses the vt100-style codes for F1-F4 (the bogus
vt220-style codes are still available via a resource setting).

The XFree86 3.3.2 xterm supports ANSI color and VT220 emulation
There's an faq at


	[URLs NOW STALE]
        http://www.clark.net/pub/dickey/xterm/xterm.faq.html
        ftp://ftp.clark.net/pub/dickey/xterm

	[URL functional in 2009]
	http://invisible-island.net/xterm/xterm.faq.html

-- 
Thomas E. Dickey

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.unix.solaris
Message-ID: <3606A92B.F66873AF@gaia.iwr.uni-heidelberg.de>
References: <6u61ik$suh$1@goblin.uunet.ca>
Date: Mon, 21 Sep 1998 20:29:47 +0100
From: Alex Runge <runge@gaia.iwr.uni-heidelberg.de>
To: Gary Ferrer <garyf@vancouver.openstore.com>
Subject: Re: Dumb terminal

Gary Ferrer wrote:
>
> Double bad luck.  As I was working on the VFStab, my monitor blew up.  I did
> not save my work properly and as a result, the Spark 2 machine won't boot.
> Is there a way that I can connect a dumb terminal (until I get a new
> monitor) to serial port a or b and then boot off my CD-ROM to fix the
> problem?
> Thanks.

You can easily connect two SUNs via serial port; simply unplug mouse
and keyboard on the machine without Monitor and reboot. I/O will be
redirected to /dev/term/a.

On the other SUN you may use "seyon" to remote-control the lame SUN.
You have to obtain a Laplink-cable for handshake-protocol (these are
available in any shop for PC-hardware), with 25 pins and two
gender-changers for the SUN's serial ports are mirrored compared with
those of PCs.

If you boot from CD, the installation routine will switch to
ANSI-mode, but you might as well be able to log in as root directly...

Alex!!!

 //////////////////////////////////////////////////////////////////////////////

C source code for Muhammad M. Saggaf's "seyon" program may be obtained from

    ftp://sipb.mit.edu/pub/seyon/

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.unix.solaris
Message-ID: <6u6854$54l$1@news.ml.com>
References: <6u61ik$suh$1@goblin.uunet.ca>
Date: 21 Sep 1998 19:07:16 GMT
From: David Hale <haledav@ml.com>
Subject: Re: Dumb terminal

In article <6u61ik$suh$1@goblin.uunet.ca>, "Gary Ferrer" wrote:
>Double bad luck....

Yes you can do this.

Disconnect the 'real' keyboard so that it makes the terminal the
'console' If the machine won't boot though because of your vfstab
edits, then you'll have to boot off cdrom in 'single user' mode, mount
the disk with the vfstab, edit it, then reboot.

D Hale

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:


Message-ID: <3628b4ce.3125433@192.168.0.2>
References: <706k86$gls@newsops.execpc.com>
Date: Sun, 18 Oct 1998 21:05:37 GMT
From: Tony Litynski <tony_litynski@bigfoot.com>
Newsgroups: comp.sys.hp.hpux
Subject: Re: Cam I build a remote console using a serial port?

Mike Hammernik <mhammer@execpc.com> wrote:

>I'm trying to build a remote console by using the serial port on a HP-UX
>10,10  model 712/80.  I've added a tty0p0 using sam at 9600 baud and
>configured a xyplex terminal server to handle the baud and parity and so
>on.  At run level 4 I can talk to it. So I thought if I add run levels
>1,2,3,5,6 to /etc/inittab, I could access the port when the system was
>place in single user mode.  But in testing, it did not work. Perhaps I
>could link /dev/console with /dev/tty0p0 or could I use the same command
>line in inittab for tty0p0 that the console has?  But rather than spend
>lots of hours testing all possible configurations, I thought I would ask
>my peers for a suggestion or two.  Has anyone built a remote console?
>If so, what steps am I missing?

>
>I thank you in advance for any answers and efforts you make on my
>behalf.
>
>Hammer

Why not change the console path?  This can be done at boot time,
before HP-UX is loaded.  The 712 Owners Guide will tell you how to do
this.

Tony

--
Tony Litynski


 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

Message-ID: <70f5rs$bkk$1@plug.news.pipex.net>
References: <706k86$gls@newsops.execpc.com> <3628b4ce.3125433@192.168.0.2>
Date: Mon, 19 Oct 1998 11:53:25 +0100
From: Zak <zaks_zoo@earthling.net>
Newsgroups: comp.sys.hp.hpux
Subject: Re: Cam I build a remote console using a serial port?

Be careful, I did this on a 712/60. If you can't get the comms right, you
may not be able to boot, unless it is set to autoboot. We had to get a
replacement motherboard.


 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:


Date: 16 Oct 1998 18:38:46 GMT
From: Mike Stroyan <stroyan@fc.hp.com>
Newsgroups: comp.sys.hp.hpux
Subject: Re: Checking for terminal in .profile

Tim Abraham (tim.abraham@hmrag.com) wrote:

|How can I amend the .profile so that it tests for the existence of a
|terminal and so only runs the tty commands when required.

  The tty command will check for a tty.  The -s option makes it silently
return a result code.

if tty -s
then
    echo do things that need a tty
fi

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:


Newsgroups: comp.protocols.kermit.misc
Message-ID: <70nv1o$52p$1@apakabar.cc.columbia.edu>
References: <Pine.WNT.4.05.9810220906420.169-100000@neko.dental.washington.edu>
Date: 22 Oct 1998 18:54:48 GMT
From: Jeffrey Altman <jaltman@watsun.cc.columbia.edu>
Subject: Re: Stop automatic resetting of terminal emulation?

In article <Pine.WNT.4.05.9810220906420.169-100000@neko.dental.washington.edu>,
Andrew J Pardoe  <ap@u.washington.edu> wrote:
:
: We use K/2 and K-95 heavily to telnet to different applications throughout
: our hospital. We've run into a problem twice where the remote host will
: reset the terminal emulation of the local K-95 just after the remote login
: sequence is completed.
:
: It's not a problem when the VT host changes the emulation from VT320 to
: VT220 but we've run into a conundrum when an SCOANSI host changes the
: emulation from SCOANSI (which works perfectly) to ANSI (which doesn't.)
:
: Two possible solutions present themselves: first, get the host to stop
: sending a request to change terminal emulation; second, set Kermit to
: ignore any requests to change the terminal emulation. Knowing the kind of
: support one receives from Kermit, I decided to start here.
:
: Any suggestions would be appreciated. I couldn't find this addressed in
: the manual(s) or Dejanews so I'm stuck.
:

From BUGS.TXT and the BUGS page in the HTML Manual:

   253. HINT: Using SCOANSI emulation with SCO hosts

There is a type of terminal emulation commonly called ANSI, which is
used by BBS's.  It is very simple -- essentially nothing more than
what you get with ANSI.SYS on a PC.  Then there is the highly evolved
and complex version of it used on the SCO (and Linux) console.

Kermit 95 supports both; the first emulation is called ANSI; the second
is called SCOANSI.  However, the *name* SCOANSI is unknown on SCO
systems.  They call it just ANSI.  So if a Telnet client such as
Kermit 95 comes in announcing its terminal type as SCOANSI, the SCO
host doesn't recognize it.  In Kermit 95 1.1.8 and later, the Telnet
terminal-type negotiation feature will cause Kermit 95 to change to
another terminal type, most likely "plain old" ANSI.  To work around
this problem in Kermit 95:

  set terminal type scoansi
  set telnet terminal-type ansi
  set terminal character-set transparent

Or on the SCO system:

  Copy the /usr/lib/terminfo/terminfo.src entry for ansi to an
  scoansi.src file, changing "ansi" to "scoansi" in that file, and then
  run tic on it.  In /etc/termcap, add "scoansi" as an alternate name in
  the "ansi" entry.

SCO will add "scoansi" as an official terminal type (or, more
precisely, a preinstalled synonym for what it now calls "ansi") in its
next OpenServer release.  (However, as of OSR5.0.4, they have not yet
done so).

-- 
    Jeffrey Altman * Sr.Software Designer * Kermit-95 for Win32 and OS/2
                 The Kermit Project * Columbia University
              612 West 115th St #716 * New York, NY * 10025
  http://www.kermit-project.org/k95.html * kermit-support@kermit-project.org

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:


Newsgroups: comp.protocols.kermit.misc
Date: 22 Oct 98 15:33:43 MDT
Message-ID: <zr359kB7TU8S@cc.usu.edu>
References: <Pine.WNT.4.05.9810220906420.169-100000@neko.dental.washington.edu>
Organization: Utah State University
Date: 22 Oct 98 15:33:43 MDT
From: Joe Doupnik <jrd@cc.usu.edu>
Subject: Re: Stop automatic resetting of terminal emulation?

In article <Pine.WNT.4.05.9810220906420.169-100000@neko.dental.washington.edu>,
Andrew J Pardoe <ap@u.washington.edu> writes:
> We use K/2 and K-95 heavily to telnet to different applications throughout
> ...

Andrew,

        Curious that you should bring up the topic because we had gone
over it recently in the project. Let me indicate the two views on the matter.

        First is the IETF view. It says when the remote host asks repeatedly
for a terminal type the client is supposed to offer new kinds in each
response, as a negotiation process. Thus if a remote host does not understand
or accept one kind it asks again and the two sides run down their lists.
Spelling counts for everything here, and no two machines seem to agree
on spelling of terminal names. The RFCs do this haggle stuff.

        The second is my view, which is the negotiation is stupid in the
extreme. When the client responds with a terminal type that's it, there
isn't more to the game. The remote host accepts or copes or rejects.

	The reason haggling is so stupid is there is a great deal more
concerning terminal emulation than just the name/kind, and changing
the name/kind upsets all other items associated with the session.
Keyboard definitions, expectations by software at either end,
and so on are most often tailored for specific terminal kinds, and
here the IETF says it's fine to negotiate away that information
without a word to the user. Amazing.

        The fix, if we may use that term, is to force the terminal name
in the SET TCP TERM command so only one kind is permitted to be offered,

period.
        Joe D.

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

Message-ID: <70ofhk$e9d$1@apakabar.cc.columbia.edu>
Date: 22 Oct 1998 23:36:20 GMT
From: Jeffrey Altman <jaltman@watsun.cc.columbia.edu>
Newsgroups: comp.protocols.kermit.misc
Subject: Re: Stop automatic resetting of terminal emulation?

Joe:

This case is not the same as the one that you and I talked about privately.
In your case, the terminal type name "VT320" is not recognized by the host,
a VMS system, but after the login occurs a terminal type query is sent
by the host which then recognizes the terminal type as a VT320.  This lack
of host recognition of the Telnet Terminal Type negotiation is indeed
caused by a failure of the host to have the same name for the terminal
as the emulator, but because it has an alternate identification method
things still work.

Now lets take the case above.  Kermit reports the terminal type name
as "SCOANSI" to the host, an SCO OpenServer Unix system.  "SCOANSI" is
not recognized as a valid name in the termcap and terminfo databases
an so rejects it and asks for another name.  If Kermit does not respond
with a new name and instead continues sending "SCOANSI" the result is
that the TERM environment variable is set to "SCOANSI" and all of the
applications which are dependent on termcap and terminfo entries fail
with something like:


  $ emacs
  emacs: Terminal type scoansi is not defined.
  If that is not the actual type of terminal you have,
  use the Bourne shell command `TERM=... export TERM' (C-shell:
  `setenv TERM ...') to specify the correct type.  It may be necessary
  to do `unset TERMCAP' (C-shell: `unsetenv TERMCAP') as well.
  $

This happens because unlike VMS, Unix does not attempt to perform
a VT terminal id query after the login procedure succeeds when the
terminal type is unknown.

SCO has corrected this problem is their current releases by adding
"scoansi" as an alias for "ansi" in the terminfo database.  (They
still forgot to put one there in the termcap database.)

Kermit's attempt to negotiate a terminal type that SCO recognizes is the
best method to ensure that the applications started by the user will
in fact work.  Even if it means that they won't be running in the
optimal environment.

The problem with the name "ANSI" as used by SCO is that there is no
such thing as an ANSI terminal.  The ANSI X3.64-1979 standard (since
withdrawn and replaced by ISO 6429) is just a framework upon which
manufacturers could define their terminal command sets.  It did not
specify a list of required functions, nor keyboard commands, nor
prevent multiple but incompatible implementations of the same function.
The result are implementations based on X3.64-1979 which are rather
non-interoperable.  SCO should never have called its console terminal
"ANSI", just as IBM should never have called its console driver
"ANSI.SYS" which was then superceded by "NANSI.SYS"....

Since the SCO console is not the same as ANSI.SYS and not the same
as BeOS console or Linux console or Unixware console or QNX ANSI
console it should not be called "ANSI".  Hence, the name "SCOANSI"
in Kermit in order to distiguish it from the previous "ANSI" terminal
type that Kermit supported which is based on "ANSI.SYS".
Kermit 95 1.1.18 will work around all of these problems.  Not by
removing the negotiation of terminal types as declared by the IETF
but by enhancing its support of it by including terminal type aliases.
As it turns out VMS uses the name "DEC-VT300" instead of "VT320" to
describe the VT320 terminal type.  SCO already had aliases for
"ANSI" including "ANSI-850" and "ANSI-8859".  So now when "SCOANSI" is
not recognized K95 will try the other two before switching to a
different terminal emulation.

Leaving the terminal type in a mode that is not recognized by the
host does not serve anyone's best interest.


    Jeffrey Altman * Sr.Software Designer * Kermit-95 for Win32 and OS/2

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:


Message-ID: <wegLF5YIzlTM@cc.usu.edu>
Date: 22 Oct 98 18:36:41 MDT
From: Joe Doupnik <jrd@cc.usu.edu>
Newsgroups: comp.protocols.kermit.misc
Subject: Re: Stop automatic resetting of terminal emulation?

        It is the very same thing we talked about. Please notice that I am
not criticizing K95 et al, but I am blasting the IETF for letting things
progress has they have. You nicely made my point by showing that some apps
which expect a certain terminal type recognize things are not working and
they don't work either. That is proper. Now the user has the opportunity
to do something specific about the matter, rather than being deceived
by Telnet Options. Some apps don't know and then we are in difficulties
without realizing it.

        Life would have been simpler if there had been both adherence to
the list of terminal names and timely expansion of the same, and vendors
who read before pressing keys. But like Unix itself, things got out of
control irreversibly.

        Given the muddle my position remains: what the user selects is
what he/she expects to receive. Telnet terminal kind is only one piece
of a larger integrated sequence of actions and it cannot change its
behavior willy nilly without bad consequences.

        What can be done? Well, there is a constructive alternative
available to us.

-  One, enable both ends to deal with aliases of common terminal names. 

-  Two, allow different terminal kinds upon permission and control of the
   user. The first is readily accomplished in many cases, the second
   requires user interface modification.

        Joe D.

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

Message-ID: <70p0mi$nij$1@apakabar.cc.columbia.edu>
Date: 23 Oct 1998 04:29:06 GMT
From: Jeffrey Altman <jaltman@watsun.cc.columbia.edu>
Newsgroups: comp.protocols.kermit.misc
Subject: Re: Stop automatic resetting of terminal emulation?

There are two very different philosophies about how things should be
handled when the software configuration does not match the
requirements of the connection the user wants to make.  The first,
which is your approach, is to not do anything and wait for the user to
detect the problem and initiate a fix.  This approach makes the very
big assumption that the user will know how to determine what is wrong
and be able to fix it, or have someone locally available to do that
for them.

The second approach is to try to fix it for the user in an automated
way before the problem becomes a reality.  Very often this approach
works, and the user doesn't even know the difference.  Sometimes it
doesn't work at all and the user who knows how to fix it does, and the
ones that do not know, ask for help.  Sometimes it sort of works and
the response of the user (see previous sentence) depends upon on the
impact of the new problem.

I am a believer in the second approach.  And hence, the software that
I create tries to do things for the user whenver possible even if
sometimes we might guess wrong.  We always provide a method for the user
to turn off the automatic mode if it is necessary.  Hence, Kermit 95
and C-Kermit (when possible):

 . auto-detect file transfers in both directions
 . configures character-sets for Text transfers and terminal emulation
 . sets the terminal window size
 . responds to escape sequences during the INPUT command so the user
   does not have to worry about them
 . auto-switches between terminal types
 . optimizes file transfer parameters
 . auto-switches between file transfer modes based upon filename
 . automates the authentication process
 . auto-detects the modem type associated with a TAPI device
 . auto-detects the current location for dialing local, long
   distance, international calls.

My experience has been that as the end user population becomes more
mainstream and less techie we must attempt to automatically adjust
to the technical necessities of the moment for the user whenever
possible.  Otherwise, one of two things happen:

 . the user base overwhelms the support personel with questions
   about why won't the modem dial, or PINE start, or the file
   transfer go fast; or

 . the user becomes frustrated and chooses another product.

Given the low volume of technical support queries that we receive
compared to our installed base, I think that we have made the
correct set of choices.

Does this approach work all of the time?  No, but for every time
is does work, we have one less user making a phone call, sending
an e-mail or posting to a newsgroup.  And I think that is
appreciated by our users and their local support groups.

    Jeffrey Altman * Sr.Software Designer * Kermit-95 for Win32 and OS/2

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:

Newsgroups: comp.protocols.kermit.misc
Message-ID: <70q1jp$426$1@apakabar.cc.columbia.edu>
Date: 23 Oct 1998 13:50:49 GMT
From: Frank da Cruz <fdc@watsun.cc.columbia.edu>
Subject: Re: Stop automatic resetting of terminal emulation?

In article <wegLF5YIzlTM@cc.usu.edu>, Joe Doupnik <jrd@cc.usu.edu> wrote:
: ...
:       Life would have been simpler if there had been both adherence to
: the list of terminal names and timely expansion of the same, and vendors
: who read before pressing keys. But like Unix itself, things got out of
: control irreversibly.
:


Especially nowadays when computers are big-business and mass-market
consumer items.  The careful attention once paid to standards -- their
formulation, and subsequent adherence to them -- is pretty much out the
window.

Yet I believe we must support the standards process, both by participating
in it and by following standards even sometimes in cases when we don't
necessarily agree with them (well, within reason).

The problem at hand is what to do when the client says "I have terminal
type xyz" and the host does not understand the name "xyz".  The TELNET RFCs
allow two approaches.  One is simple: do nothing, in which case the user
can recover by hand.  The other is to negotiate through a list until an
agreeable type is found.  The tradeoffs between control (favored by the
knowledgable user) and "seamlessness" (for the less knowledgable) are
obvious.

The problem with the latter occurs not so much because a particular name
does not appear in a list at the IANA, but because no semantics are
attached to the names in the IANA terminal-type list.  Of course, when the
list was started, no semantics were needed since terminal names referred to
real physical devices with well-defined properties, published in technical
manuals.  Nowadays, many "terminal types" exist only as software
abstractions with no physical counterparts, while others are improper
emulations of physical terminals that no longer exist and whose technical
manuals are no longer available.

As noted previously in this discussion, the "ANSI" name is virtually
meaningless, since many vendors (and makers of shareware, freeware, etc.)
have appropriated this term and applied it to their mutually incompatible
products.  This gives rise to difficulties such as the one we see when
trying to match terminal types between Kermit 95 and an SCO host, described
in a previous posting.  The problem in this case, however, is SCO's, and was
reported to them (by us) long ago, and has been addressed (partially) in SCO
Open Server 5.0.5:

  http://www.sco.com/cgi-bin/ssl_reference?109521

As Jeff noted, the automatic matching of terminal type tends to be
beneficial for the typical Kermit-95 user, who -- in 1998 -- is less of a
tinkerer than the typical MS-DOS Kermit user.  Thus, I think MS-DOS Kermit
behaves appropriately for its constituency, and so does Kermit 95.

- Frank

 ....:....:....:....:....:....:....:....:....:....:....:....:....:....:....:


Message-ID: <3649EA77.D872BB40@GSC.GTE.Com>
References: <3648F294.31840A80@enter.net>
Organization: GTE Government Systems
Sender: news@wlbr.iipo.gtegsc.com (Steven M. Schultz)
Date: Wed, 11 Nov 1998 19:50:15 GMT
From: "Scott G. Hall" <Scott.Hall@GSC.GTE.Com>
To: Sean <seanh@enter.net>
Newsgroups: comp.terminals
Subject: Re: Where to get a dumb terminal

Sean wrote:
> Any idea how cheaply I could get and where I could get
> a DEC dumb terminal (monitor and keyboard) that would
> work with linux? thanks

Any RS-232 dumb terminal, DEC or otherwise, will work.  When the user logs
in, make sure to point his environment variables (in UNIX they are TERM
for the type, and TERMINFO or TERMCAP for the capabilities) at the right
entry cooresponding to the terminal.  If your database does not have an
exact entry for your terminal, you can always create one easy enough.

So don't limit your search to DEC terminals -- the old ones are large beasts.
You can use any RS-232 dumb terminal your can get your hands on; I am still
using a Lear Seigler ADM3A, a ADDS Regent-20+ and a ADDS Regent-60.  All
work fine in UNIX.  I also have a newer Link terminal that can be set to
emulate about a dozen different terminals, and UNIX handles each one just
fine.

--
Scott G. Hall
GTE Government Systems
North Carolina Systems Center
email: Scott.Hall@GSC.GTE.Com


 //////////////////////////////////////////////////////////////////////////////


Newsgroups: comp.protocols.kermit.misc
Message-ID: <7ET5CdY3ddfZ@cc.usu.edu>
Date: 28 Feb 99 09:27:29 MDT
References: <F7vBqJ.A39@cix.compulink.co.uk>
Organization: Utah State University
From: jrd@cc.usu.edu (Joe Doupnik)
Subject: Re: MS-Kermit /C-Kermit screen appearance

In article <F7vBqJ.A39@cix.compulink.co.uk>, lsystemsd@cix.compulink.co.uk
("Lygo Systems") writes:
> I'm using MS-Kermit as a terminal emulator and it works just fine for the
> price.  But I am now hoping to improve the look and feel and feel of the
> applications that I am writing.
>
> Question 1.
> Does anyone know of a way to save the current screen, go off and paint
> another screen and then be able to instantly refresh the first screen?
> Better still, is there a way to save several screens?  More expensive
> emulators and many dumb terminals have this capability.  I can't see any
> escape sequences in the manual, although there is manual back-paging.  Are
> there any DOS or Linux utilities that can be called as a macro from Kermit
> without Kermit disrupting the function?


        This begs the question of locus of control. When you are running
MSK it seems to be in terminal emulation mode (CONNECT), and that does
mean actions come from two sources: the user's keyboard (most info goes
out the wire) and the remote host (which thinks this end is a VT320
terminal or similar).
        From your description you seem to be wanting a Point of Sale
screen painting system with comms. That can be done, but the remote
host would be responsible for triggering actions and painting screens.

> Question 2.
> On a similar theme, is there a way to load onto the screen a screen "form"
> held on the local system?  Although we are using TCP/IP, being able to
> retrieve the new screen from a local ramdisk via an escape sequence or
> macro would, I have thought, been faster.

        A full text screen takes 4KB to represent, lots less if only
some characters are written to a uniform background. That takes about
four Ethernet packets, as fast as anything to the human eye.
        There is no user-designed screen save/fetch facility in MSK
at this time. Such things are not part of terminal emulation.

> Question 3.
> Is there a way, using MS-Kermit or C-Kermit on Linux, to improve the
> "green screen" appearance?  What I'm hoping for is something that
> cosmetically looks more like a GUI (sculpted boxes, different fonts,
> graphic images, backgrounds, etc), all by the use of escape sequences
> and/or macros.  But I don't want to use a pointing device - this is for
> use in a retail environment.  Obviously there is nothing in Kermit itself,
> but can it be "wrapped" in some cosmetic front end that can be controlled
> easily by the application?


        Text mode uses the system video Bios for fonts and so on. To create
special effects such as you describe requires full graphics mode with all
the bulk that goes with it. MSK has a lot of graphics mode support for
Tektronix and Data General terminal kinds, and one can write to those specs
to create cosmetically advanced "text" screens. But the results won't be
VT320 emulation and the host would have to send the drawing commands. The
end result is screen updates are slower than text mode, but basically ok on
today's equipment.
        Please keep in mind that retaining fonts and so on locally runs into
severe memory constraint problems, there being only about 600KB to play with
in real mode before MSK loads (which takes 300KB).

> Question 4.
> Is it bad netiquette to ask so many questions in one message?  If so, I
> apologise most profusely.
> Thanks in anticipation.
> Bill.


        No need; it is a good idea to get everything laid out at once.
        Joe D.


 //////////////////////////////////////////////////////////////////////////////

Message-ID: <7gvcdc$cr0$1@news.smart.net>
References: <19990507140515.25125.00000655@ng-fp1.aol.com>
    <Z_FY2.519$jw4.37100@burlma1-snr2>
Organization: Timetravellers Anonymous
NNTP-Posting-Host: mindwarp.smart.net
Date: 7 May 1999 18:46:04 GMT
Organization: Timetravellers Anonymous
Newsgroups: comp.unix.solaris
From: Richard L. Hamilton <rlhamil@smart.net>
Subject: Re: Terminal beep command/s ??

In article <Z_FY2.519$jw4.37100@burlma1-snr2>,
        Barry Margolin <barmar@bbnplanet.com> writes:
> In article <19990507140515.25125.00000655@ng-fp1.aol.com>,
> GFor667754 <gfor667754@aol.com> wrote:
>>Is there a command/s or short routine I can call (from a csh script for
>>example) to get my terminal to beep on demand ?? Have checked out curses
>>routines which look likely but I am confused (as with most things). Any clues
>>?? p.s. Solaris 2.5 usual vt100 vanilla x-terminals.
>
> echo ^g
>
> where ^g is a literal Control-g in the script.  Ctl-g is ASCII code 7, the
> BEL character.
>


To benefit from the terminfo database (in case there's a terminal
where the bell isn't rung by control-G), use:
   tput bel

The return code will be 1 if the "bel" attribute (yes, that's one
lower-case "L" on the end) isn't defined, in which case there may
also be a "flash" attribute, i.e. to try flashing the window
(which may not be supported by all terminals either) if "bel" isn't
defined, use:
   tput bel || tput flash

--
ftp> get |fortune
377 I/O error: smart remark generator failed
Bogonics: the primary language inside the Beltway

mailto:rlhamil@mindwarp.smart.net  http://www.smart.net/~rlhamil

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.os.linux.networking,comp.terminals
Organization: University of Bergen, Norway
Message-ID: <Pine.SOL.4.05.9902271428200.9744-100000@snutebille.ii.uib.no>
References: <Pine.SOL.4.05.9902221650070.4265-100000@steinflue.ii.uib.no>
    <36D1F373.86AC1897@GSC.GTE.Com>
To: "Scott G. Hall" <Scott.Hall@GSC.GTE.Com>
Date: Sat, 27 Feb 1999 14:46:30 +0100
From: Per Gustav Ousdal <s0462@lstud.ii.uib.no>
Subject: Re: Use Memorex Telex 1476, 1489 with Linux?

On Tue, 23 Feb 1999, Scott G. Hall wrote:

Sorry for the delay of my reply... Busy U know :)

> Per Gustav Ousdal wrote:
> > I have a couple of terminals, Memorex Telex 1476 and 1489. I think they
> > used to be connected to an IBM AS-400.
> > My question is: Is it a all possible to run any of these terminals
> > connected to my Linux Box?
>
> No, these are not synchronous or asynchronous RS-232 terminals.


Ah, RATS! :( Ok I see, I was araid of that... :/ I didn't have to high
hopes about the 1476's, I was hoping there was a way for the 1489 seeing
the serial port, but I guess not :( Oh well, at least I got a working SVGA
monitor + nice work out bringing them home ;)

[....]
> > My 1476's only seems to have some strange network connector. Is this
> > "thick ethernet"?
>
> No, this is IBM's "biaxial" connector, used for their mainframes.

     [some people call it "twin-axial"]


I see. There does seem to be some adaptors for these, looks like they
"change" the cable into TP (Twisted Pair) could this be correct? (Would
make sense to use TP cable instead, as the "IBM cabeling" does not seem to
be very elegant. Or is this "TP" cable also an "IBM-standard"?

> Both of these terminals were forms-based, meaning the host would download
> a form for each screen, and the terminal was expected to handle user input
> and validation.  When a form was filled out by the user, the <Send> key
> would be pressed to send the whole form back to the mainframe (or in some
> cases, just the answers in a forms-arranged protocol).

I see, so they aren't very useful at all :/ Unless some one is throwing
away an AS-400. Or some one makes an AS-400 emulator for linux... I've
heard however that the AS-400 is difficult to emulate b'coz of the HW
solutions.

> You want a cheap (~ $35) ASCII serial terminal (synch or async; RS423 or
> RS232, or RS422/RS485).  Almost any terminal that was *NOT* connected to
> an IBM or clone (Amdahl, Sperry/Univac, Wang, etc) will work just fine.
> In fact, I saw a set of old Data General terminals and Prime Computer
> terminals the other day that would work just fine (stick them in TVI-925
> or TVI-950 mode and any UNIX won't have a problem).

I C.  Think IBM used to have a pretty big market share over here in Norway
though, so it's just so much easier to come by IBM terminals. I think most
terminals just end up in the trash, doesn't seem to be a marked for them
over here. However I would love to have a couple connected to my linux
box.

Any one from Norway know where to get terminals that work with linux?

Regards,

Per

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.sys.dec, comp.terminals, comp.databases.oracle.misc
Message-ID: <7j6ir0$n8s$1@newsmaster.cc.columbia.edu>
References: <7j1rqo$kul$1@knot.queensu.ca>
 <Pine.4.10.9906021328390.23457-100000@maynard.stratus.com>
 <3756BEB7.E9CCD66F@GSC.GTE.Com>
Newsgroups: comp.sys.dec,comp.terminals,comp.databases.oracle.misc
Date: 3 Jun 1999 18:51:12 GMT
From: Frank da Cruz <fdc@watsun.cc.columbia.edu>
Subject: Re: ISO VT320 emulator with key-bindings for Oracle Forms

In article <3756BEB7.E9CCD66F@GSC.GTE.Com>,
Scott G. Hall <Scott.Hall@GSC.GTE.Com> wrote:
: "Richard S. Shuford" wrote:
: >
: > "Frampton Steve R" wrote:
: > > I'm in need of a VT320 emulator with key-bindings for Oracle
: > > SQL*Forms; it needs to either run under Linux/Unix or [in dosemu].
: >
: > Keep in mind that character-cell terminals communicate their
: > keystrokes by means of Escape sequences, as opposed to scan codes.
: > You must set up your keyboard so that, when you press a key, it sends
: > the proper Escape sequence to tell Oracle what action to perform.
: >

:
: There is another regular poster to this newsgroup who is the author of
: Kermit-95.  I believe that he emulates the VT-220 function keys correctly
: so that it would work for you.  Let's hope he is reading this now, and
: can reply if he has a version for UNIX.


Sorry, we can't make terminal emulators for UNIX as we do for DOS and Windows,
since in UNIX we do not have direct access to the keyboard and screen.  How
is a UNIX application supposed to know that you pushed F7 on your keyboard,
or Ctrl-F8, or Alt-Right-Arrow, etc?  It usually doesn't even know what
kind of keyboard you have.  Remember that UNIX, unlike Windows and friends,
can be accessed:

 1. From the raw console (the workstation's physical keyboard and screen
    without any kind of window manager);
 2. From an X window, using the workstations real keyboard and screen;
 3. From an X window, but on some other computer;
 4. From a Telnet session (or Rlogin, etc);
 5. Through a serial port.

A terminal emulator might be possible in case (1), but there would need
to be a different one for every UNIX variety on every kind of hardware, so
it's not likely to happen.

A terminal emulator is possible in case (2), but you already have one.  It's
called xterm.  The regular xterm emulates vt100, and there is a vt220 version
available at:

	[URL functional in 2009]
	http://invisible-island.net/xterm/xterm.faq.html


Start xterm and then run Kermit in the xterm window and poof: you have a
terminal emulator that can make serial or network connections to other
computers.  Key mapping is handled by xterm.

For completeness, case 3 is kind of like case 2 maybe, and in cases 4 and 5
the UNIX application obviously can't get at your keyboard or screen.

- Frank

 //////////////////////////////////////////////////////////////////////////////


Newsgroups: comp.sys.dec, comp.terminals, comp.databases.oracle.misc
Date: 3 Jun 1999 18:52:38 GMT
From: Jeffrey Altman <jaltman@watsun.cc.columbia.edu>
Subject: Re: ISO VT320 emulator with key-bindings for Oracle Forms

: There is another regular poster to this newsgroup who is the author of
: Kermit-95.  I believe that he emulates the VT-220 function keys correctly
: so that it would work for you.  Let's hope he is reading this now, and
: can reply if he has a version for UNIX.

Scott, thanks for the mention.  Unfortunately, our Unix product, C-Kermit
does not provide terminal emulation.  Terminal emulation for C-Kermit is
provided by the Xterm (or other) window in which the process executes.
T.E. Dickey's Xterm is probably the best in this area providing VT220
with keymapping:

	[URL gone stale since posting]
	http://www.clark.net/pub/dickey/xterm/xterm.html

	[URL functional in 2009]
	http://invisible-island.net/xterm/


Depending upon how good dosemu is, the poster might be able to use
MS-DOS Kermit.  However, the biggest question that this user needs to
find an answer to is:

  "what are the key-bindings for Oracle SQL*Forms?"

If someone can provide that information, then I am sure that someone
else can provide a proper set of X Windows or Xterm key bindings.

-- 
    Jeffrey Altman * Sr.Software Designer * Kermit-95 for Win32 and OS/2
                 The Kermit Project * Columbia University
              612 West 115th St #716 * New York, NY * 10025
  http://www.kermit-project.org/k95.html * kermit-support@kermit-project.org/

 //////////////////////////////////////////////////////////////////////////////


Newsgroups: comp.sys.dec,comp.terminals,comp.databases.oracle.misc,
    comp.protocols.kermit.misc
References: <7j1rqo$kul$1@knot.queensu.ca>
    <7j6ir0$n8s$1@newsmaster.cc.columbia.edu> <375D6F97.9054BBCB@GSC.GTE.Com>
    <7jjshc$ere$1@newsmaster.cc.columbia.edu>
NNTP-Posting-Host: wssql01.nmti.com
Date: 9 Jun 1999 10:42:49 GMT
Organization: Bailey Network Management
From: Peter da Silva <peter@baileynm.com>
Subject: Re: ISO VT320 emulator with key-bindings for Oracle Forms

In article <7jjshc$ere$1@newsmaster.cc.columbia.edu>,
Frank da Cruz <fdc@watsun.cc.columbia.edu> wrote:
>Yes, we know this, but the situation is far, FAR more complex than that.  Try
>writing a communication program for UNIX that is:
>
> a. Portable to many UNIX varieties;
> b. Portable to assorted communication methods;

This can be handled by writing it as a wrapper around cu, kermit, tip,
or whatever. That way it'll even work for dumb programs that don't use
termcap.

> c. Works on the console, in remote sessions, and in xterm windows.

The latter case is not difficult. I wrote a termcap library back in '82,
and a vt100 and televideo emulator a few years later. If the system's
termcap is broken, you can fall back to that one, and at least one of the
freeware "vi" clones uses my termcap for that very purpose.

> a. Buggy;
> b. Inconsistent among different UNIX platforms and versions (e.g. the
>    APIs differ -- even a simple function like tputs() has practically
>    infinite combinations of return type and argument types, thus preventing
>    any program that uses it from being portable without including hundreds
>    of #ifdefs);

I haven't run into this problem, and I've written and ported an awful lot of
curses-based code between UNIX systems. Some code did a good job of
encapsulating the slight differences between implemetations of the termlib
API, and other code made no attempt to hide system dependencies and just
scattered ifdefs all over the place. Even otherwise well-written code like
early versions of Kermit had that problem.

> c. Dependent on buggy and/or incomplete databases;

That's something the end-user can fix.

> d. Offer only an incomplete and sketchy model of any real terminal,
>    not even close to sufficient for defining an accurate emulation;

My vt100 emulator, which used raw termlib, did a better job of vt100
emulation than most commercial packages.  It didn't try and provide
perfect visuals: double-wide and double-high letters, for example, were
simply not addressed. But it passed the vt100 torture test.

> e. Notorious for refusing to work due to library version mismatches;
> f. Sometimes not available at all.

That's an easy fix. Same solution as B.

>And that in any case, this does not solve the original problem:
>
>  How do I map Shift-Alt-F7 to such-and-such a function?
>
>The answer will still be: "you can't, because the software has no way of
>knowing that you pressed Shift-Alt-F7".

With a keyboard mapping file that maps escape sequences to symbols that
the user's interested in.

>Furthermore, even when we give up on discovering what key the user actually
>pressed and follow the termcap/terminfo escape-sequence model, we still have
>the age-old problem of distinguishing the case where the user types the Esc
>key and then some other keys (as s/he might do when using EMACS) from the case
>where an escape sequence is generated by curses.

Oh yes, that's definitely a problem, but there's nothing any terminal emulator
can resolve, UNIX-based or not, because once it's mapped "UP" into "ESC O A"
or "ESC [ A" the bits on the wire are the same.

>If it was easy (or even possible) to write terminal emulators for UNIX, we'd
>have as many of them already floating around as we do for DOS and Windows.

Well, most modern UNIX systems come with an X-based VT100 emulator and there's
an X-based 3270 emulator from the same source available. There's not much
demand for curses-based emulators, because almost all UNIX software uses
termlib... the last time I had to configure a UNIX program for a terminal
was for the text editor in Intel's PL/M development kit back around 1984.

But there's at least a dozen commercial terminal emulators for UNIX... back
when I wrote my own (so we could run VMS software on our mix of Televideo
and Unisys tubes) I must have looked at six or eight of them just for
Xenix-286 (which was admittedly the #1 selling UNIX at the time). None of
them allowed you to wrap an arbitrary program, alas, and that was a hard
requirement.

Since then xterm and x3270 have become what Eric Raymond calls "category
killers". There's little demand for third-party free software alternates,
though that didn't stop rxvt from showing up. And I still get ads in the
mail for things like FacetTerm.

--
In hoc signo hack, Peter da Silva <peter@baileynm.com>
 `-_-'   Ar rug tú barróg ar do mhactíre inniu?
  'U`    "Be vewy vewy quiet...I'm hunting Jedi." -- Darth Fudd

 //////////////////////////////////////////////////////////////////////////////


Newsgroups: comp.databases.oracle.misc, comp.os.linux.networking,
    comp.sys.dec, comp.protocols.kermit.misc
Date: 10 Jun 1999 14:25:21 GMT
Organization: Columbia University
From: Frank da Cruz <fdc@watsun.cc.columbia.edu>
Subject: Re: ISO VT320 emulator with key-bindings for Oracle Forms

peter@baileynm.com (Peter da Silva) wrote:
: In article <7jjshc$ere$1@newsmaster.cc.columbia.edu>,
: Frank da Cruz <fdc@watsun.cc.columbia.edu> wrote:
: > ...
: I haven't run into this problem, and I've written and ported an awful lot of
: curses-based code between UNIX systems. Some code did a good job of
: encapsulating the slight differences between implemetations of the termlib
: API, and other code made no attempt to hide system dependencies and just
: scattered ifdefs all over the place. Even otherwise well-written code like
: early versions of Kermit had that problem.


tputs() can be void or int.  The third argument of tputs(), which is a
pointer to a function to put a character, can be void, int, or char.
The argument to that function can be void or char.  Thus there are at
least 2 x 3 x 2 = 12 combinations that must be accounted for in any
portable code that uses tputs().  Probably more like 30 when you take
into account that int or char can be signed or unsigned.  Of course
the ugliness is encapsulated, but that doesn't make any less ugly. 

I have never understood the force impels UNIX implementors to change
data types of widely used APIs every time they get a chance.


: > c. Dependent on buggy and/or incomplete databases;
:
: That's something the end-user can fix.

If the end-user knows how to.  This is a rather obscure and dying art;
one does not rely on end-users to have mastery of it.  In these times,
end-users expect software to "just work".


: > d. Offer only an incomplete and sketchy model of any real terminal,
: >    not even close to sufficient for defining an accurate emulation;
:
: My vt100 emulator, which used raw termlib, did a better job of vt100
: emulation than most commercial packages.  It didn't try and provide
: perfect visuals: double-wide and double-high letters, for example, were
: simply not addressed. But it passed the vt100 torture test.

Then it didn't run strictly from termcap/terminfo information;
otherwise, it wouldn't have been a vt100 emulator, it would have been
an emulator of every terminal that had an entry in the database,
right?  The database only encodes certain information about a
terminal, not all the information needed to make a fully functional
emulator.  Such items as report requests and responses, forms-filling,
and blockmode spring to mind.

 ..........................

: wouldn't have been a vt100 emulator, it would have been an emulator of every
: terminal that had an entry in the database, right?

Oops, that was written before the morning's coffee has soaked in.
Peter's point is (obviously) that he is using termcap info for the
local terminal (whatever it is) to translate between it and a remote
VT100.  The VT100 knowledge is hardcoded, but knowledge about the
local terminal is table driven.

Depending on the capabilities of the local terminal (e.g. scrolling
regions, 80/132-column switching, etc), a serviceable termlib-based
VT100 emulator might be possible, to the extent it is useable by EMACS
or vi, but not necessarily by more demanding applications, such as
those found on VMS.

 ...........................


: > e. Notorious for refusing to work due to library version mismatches;
: > f. Sometimes not available at all.
:
: That's an easy fix. Same solution as B.

It's easy if you understand cryptic messages about shared libraries,
and are familiar with the politics regarding curses vs ncurses, libc
vs glibc, competing numbering schemes, etc, and what to do about them.

: >And that in any case, this does not solve the original problem:
: >
: >  How do I map Shift-Alt-F7 to such-and-such a function?
: >
: >The answer will still be: "you can't, because the software has no way of
: >knowing that you pressed Shift-Alt-F7".
:
: With a keyboard mapping file that maps escape sequences to symbols that
: the user's interested in.

If xmodmap recognizes your keyboard and can see Shift-Alt-F7 as distinct from
other key combinations, then yes, but only for xterm.  A separate solution is
required for the console.  Remote (non-X) sessions haven't a prayer.


You win some and lose some.  UNIX is a general-purpose multiuser
operating system designed originally to be accessed from a terminal,
and in fact a variety of terminals.  The idea of a UNIX workstation
with its own keyboard and screen was grafted on later and is still not
a good fit.

DOS and Windows, on the other hand, are single-user operating systems
designed to be used ONLY from the built-in keyboard, mouse, and
screen, and therefore include APIs (or direct hardware access) that
make terminal emulation possible in the sense that most people expect.
But this is at the expense of generalized accessibility.

It is hard to explain this to people who expect UNIX to be like
Windows.  While it might be possible to write a true terminal emulator
for a specific UNIX variety on specific hardware that runs only in an
X window (and in fact there are numerous examples -- xterm, Xfree86
xterm, the xterm versions from HP, IBM, and other companies that
emulate their own proprietary terminal types), it is not possible in
the general case, due to differences in hardware (e.g. different
keyboards), windowing systems (in the X environment), screen drivers
(in the console environment), APIs, and access methods.

- Frank

 //////////////////////////////////////////////////////////////////////////////

From peter@baileynm.com Tue Jun 15 13:52:05 1999
Date: 11 Jun 1999 13:27:33 GMT
Organization: Bailey Network Management
Newsgroups: comp.databases.oracle.misc, comp.os.linux.networking,
    comp.sys.dec, comp.protocols.kermit.misc
From: Peter da Silva <peter@baileynm.com>
Subject: Re: ISO VT320 emulator with key-bindings for Oracle Forms

In article <7johsh$egs$1@newsmaster.cc.columbia.edu>,
Frank da Cruz <fdc@watsun.cc.columbia.edu> wrote:
>tputs() can be void or int.  The third argument of tputs(), which is a pointer
>to a function to put a character, can be void, int, or char.  The argument
>to that function can be void or char.  Thus there are at least 2 x 3 x 2 = 12
>combinations that must be accounted for in any portable code that uses tputs().

Luckily you don't need to account for it by writing 12 versions of the code.
I normally encapsulate tputs itself into a routine (the name I usually use
is "outs"), and since C specifies that (char) promotes to (int) in fuction
call and return, that leaves you with two versions of the call to tputs
and two versions of the output function, in one place in the code.

>: > c. Dependent on buggy and/or incomplete databases;

>: That's something the end-user can fix.

>If the end-user knows how to.  This is a rather obscure and dying art; one
>does not rely on end-users to have mastery of it.  In these times, end-users
>expect software to "just work".

End users who aren't using ANSI X3.64 compatible terminals in 1999 are already
at the extreme end of the envelope.

>: > d. Offer only an incomplete and sketchy model of any real terminal,
>: >    not even close to sufficient for defining an accurate emulation;

>: My vt100 emulator, which used raw termlib, did a better job of vt100
>: emulation than most commercial packages.  It didn't try and provide
>: perfect visuals: double-wide and double-high letters, for example, were
>: simply not addressed. But it passed the vt100 torture test.

>Then it didn't run strictly from termcap/terminfo information; otherwise, it
>wouldn't have been a vt100 emulator, it would have been an emulator of every
>terminal that had an entry in the database, right?

No, it was a vt100 emulator that emulated the vt100 on every terminal in the
database.

> The database only encodes
>certain information about a terminal, not all the information needed to make
>a fully functional emulator.  Such items as report requests and responses,
>forms-filling, and blockmode spring to mind.

Luckily I haven't ever had to deal with that on a vt100. Virtually all the
software I've ever run into that used block mode used it on a Televideo,
a Televideo-compatible, or a Uniscope.

But there's nothing inherently more difficult about dealing with block
mode than dealing with any of the other behaviour termcap doesn't specify.

>: > e. Notorious for refusing to work due to library version mismatches;
>: > f. Sometimes not available at all.

>: That's an easy fix. Same solution as B.

>It's easy if you understand cryptic messages about shared libraries, and
>are familiar with the politics regarding curses vs ncurses, libc vs glibc,
>competing numbering schemes, etc, and what to do about them.

I haven't run into that, but then I haven't writen code for Linux.

>: >And that in any case, this does not solve the original problem:

>: >  How do I map Shift-Alt-F7 to such-and-such a function?

>: >The answer will still be: "you can't, because the software has no way of
>: >knowing that you pressed Shift-Alt-F7".

>: With a keyboard mapping file that maps escape sequences to symbols that
>: the user's interested in.

>If xmodmap recognizes your keyboard and can see Shift-Alt-F7 as distinct from
>other key combinations, then yes, but only for xterm.  A separate solution is
>required for the console.  Remote (non-X) sessions haven't a prayer.

Where did I say anything about xmodmap? I'm simply saying that a properly
written terminal emulator can run on UNIX and provide the functionality
required. That there isn't one that you know of is because there isn't a great
need for one, not that one's hard to write. As I said, I wrote one that ran
on Xenix-286, Solaris, and System V back in the late '80s. It was a port from
a DOS program I'd previously written, and I didn't find the porting
particularly difficult. Certainly dealing with termcap was a lot less hassle
than dealing with PC serial ports.

>It is hard to explain this to people who expect UNIX to be like Windows.
>While it might be possible to write a true terminal emulator for a specific
>UNIX variety on specific hardware that runs only in an X window (and in fact
>there are numerous examples -- xterm, Xfree86 xterm, the xterm versions from
>HP, IBM, and other companies that emulate their own proprietary terminal
>types), it is not possible in the general case, due to differences in hardware
>(e.g. different keyboards), windowing systems (in the X environment), screen
>drivers (in the console environment), APIs, and access methods.

That's just plain not true. Curses provides all the functionality you need
to write one that is portable to multiple UNIX systems and runs under multiple
terminal types. Yes, you do need to write your own keyboard mapping code, but
then you already have to do that to write a terminal emulator under Windows
that runs on internationalized versions.

I've done it myself, and there were several companies back in the '80s who had
commercial products that ran on a wide variety of UNIX platforms... I used
to have half a dozen boxes back in the computer room but they seem to have been
flushed in one of the spring cleanings. You can do as good a job of vt100
emulation on a UNIX system as you can on a PC.

-- 
In hoc signo hack, Peter da Silva <peter@baileynm.com>
 `-_-'   Ar rug tú barróg ar do mhactíre inniu? 
  'U`    "Be vewy vewy quiet...I'm hunting Jedi." -- Darth Fudd


 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.databases.oracle.misc, comp.os.linux.networking,
    comp.sys.dec, comp.protocols.kermit.misc
Date: 11 Jun 1999 13:38:04 GMT
Organization: Bailey Network Management
From: Peter da Silva <peter@baileynm.com>
Subject: Re: ISO VT320 emulator with key-bindings for Oracle Forms

In article <7jokj1$h6u$1@newsmaster.cc.columbia.edu>,
Frank da Cruz <fdc@watsun.cc.columbia.edu> wrote:
>
>Depending on the capabilities of the local terminal (e.g. scrolling
>regions, 80/132-column switching, etc), a serviceable termlib-based vt100
>emulator might be possible, to the extent it is useable by EMACS or vi, but
>not necessarily by more demanding applications, such as those found on VMS.


I wrote mine because I needed one that was servicable on VMS. The hard part
of serving DEC software (on VMS and RSX-11) wasn't rendering things well
enough to be usable, but recognising the oddball undocumented variants of
the VT100 escape sequences that DEC software spit out.

Scrolling regions, for example, were emulated by insert and delete line, or
if that failed by repainting either the scrolled region or the remainder of
the screen (whichever was quicker, and after shifting the whole screen in the
latter case).

I didn't complete the 80-132 column code, but I did have it working by
shifting the whole screen left and right without the cursor tracking and
other heuristics to avoid driving users batty with page flips. It was just
too much hassle for something that I knew people would simply not use, so
I told them that wasn't an option.

But at the end I had the only VT100 emulator I could find at the time that
was usable with BOTH RSX-11 and VMS versions of EDT and TPU, even if it
wasn't always as pretty as a real vt100. And it ran on UNIX.

-- 
In hoc signo hack, Peter da Silva <peter@baileynm.com>
 `-_-'   Ar rug tú barróg ar do mhactíre inniu? 
  'U`    "Be vewy vewy quiet...I'm hunting Jedi." -- Darth Fudd

 //////////////////////////////////////////////////////////////////////////////

From fdc@watsun.cc.columbia.edu Tue Jun 15 13:52:58 1999
Date: 11 Jun 1999 14:32:27 GMT
Organization: Columbia University
Newsgroups: comp.databases.oracle.misc, comp.os.linux.networking,
    comp.sys.dec, comp.protocols.kermit.misc
From: Frank da Cruz <fdc@watsun.cc.columbia.edu>
Subject: Re: ISO VT320 emulator with key-bindings for Oracle Forms

In article <7jr2s5$4sc@web.nmti.com>,
Peter da Silva <peter@baileynm.com> wrote:
: In article <7johsh$egs$1@newsmaster.cc.columbia.edu>,
: Frank da Cruz <fdc@watsun.cc.columbia.edu> wrote:
: >: >And that in any case, this does not solve the original problem:
: >: >
: >: >  How do I map Shift-Alt-F7 to such-and-such a function?
: >: > 
: >: >The answer will still be: "you can't, because the software has no way of
: >: >knowing that you pressed Shift-Alt-F7".
: >: > 
: >: With a keyboard mapping file that maps escape sequences to symbols that
: >: the user's interested in.
: 
: >If xmodmap recognizes your keyboard and can see Shift-Alt-F7 as distinct
: >from other key combinations, then yes, but only for xterm.  A separate
: >solution is required for the console.  Remote (non-X) sessions haven't a
: >prayer.
: 
: Where did I say anything about xmodmap? I'm simply saying that a properly
: written terminal emulator can run on UNIX and provide the functionality
: required. That there isn't one that you know of is because there isn't a
: great need for one, not that one's hard to write.
: 
Sorry, didn't mean to infer statements you didn't make -- after all,
we "da"'s have to stick together :-)

But again: in general, there is no API in UNIX to get the keycode of a
keyboard event.

PC operating systems like DOS and Windows let you do this at various
levels: per-key up/down events ("make/break codes") at the lowest level,
keycodes representing a composite event (such as "Shift-Alt-F7 was pressed")
at the next level, and ASCII characters at the top level.  In general, UNIX
only gives you the top level.

If you have an X application, you can get keycodes.  If your non-X application
is running in an X window, then it will get a stream of ASCII which results
from the X keymap.  A stream of ASCII characters is inherently ambiguous.  If
you get <ESC>OD, is it because the user pressed the Left Arrow key, or because
s/he pressed the Esc key, then the O key, then the D key?

If your application is running on the raw console, it *could* get keycodes or
raw key events but there is, in general, no API for this.  Specific UNIX
varieties and versions *might* have such an API, but it will not be portable,
and it can't be used when the application is coming in a serial port, or on
a Telnet or Rlogin connection, or for that matter, in X.

Case in point -- Linux has obscure ways to put the console keyboard into
"raw" or "half-cooked" mode, but these are rarely used -- not only because
they are obscure, but because if your application messes up (e.g. crashes)
without putting the keyboard back the way it found it upon exit, you'll need
to pull the plug on your PC before you can use it again.

- Frank

 //////////////////////////////////////////////////////////////////////////////

From peter@baileynm.com Tue Jun 15 13:53:12 1999
Date: 12 Jun 1999 18:12:32 GMT
Organization: Bailey Network Management
Newsgroups: comp.databases.oracle.misc, comp.os.linux.networking,
    comp.sys.dec, comp.protocols.kermit.misc
From: Peter da Silva <peter@baileynm.com>
Subject: Re: ISO VT320 emulator with key-bindings for Oracle Forms

In article <7jr6lr$4f1$1@newsmaster.cc.columbia.edu>,
Frank da Cruz <fdc@watsun.cc.columbia.edu> wrote:
>
>But again: in general, there is no API in UNIX to get the keycode of a
>keyboard event.

Assuming that's what you want, no. However there is an API in UNIX to
get a string of one or more characters that represent a keystroke, and
for non-pathological cases that's all you need.

After all, we ARE talking about a terminal emulator. Yes, you can get
escape sequences garbled over communication lines that don't maintain
time information. But there's two cases we need to consider here:

	1. The terminal emulator is "close" to the keyboard.

	Here, time information is preserved, the emulator can reliably
	distinguish keystrokes. This is the case of a PC or a UNIX program
	running on a console or in an X terminal.

	2. The terminal emulator is far from the keyboard.

	Here, it isn't. But remember that the other side of the terminal
	emulator is also generating escape sequences that are subject to
	the same problem... so a PC-based terminal emulator would have
	the same trouble getting ITS escape sequences reliably recognised,
	since it would have to run close to the keyboard and far from the
	application.

The only case I can think of where there's a problem is if the input
escape sequence (from the keyboard to the emulator) is less reliably
recognised then the output one (from the emulator to the application),
or if the emulator is running on a significantly overloaded computer.

If you need to distinguish codes (like shift-alt-F7 versus alt-F7) that 
the OS doesn't provide a hook for, then you have a problem, but this,
like the heavily overloaded computer, is a pretty pathological case.

After all, international PC keyboards give you bigger problems than this.

I haven't figured out how to generate a seperate "~" on some spanish
keyboards, for example.

-- 
In hoc signo hack, Peter da Silva <peter@baileynm.com>
 `-_-'   Ar rug tú barróg ar do mhactíre inniu? 
  'U`    "Be vewy vewy quiet...I'm hunting Jedi." -- Darth Fudd

 //////////////////////////////////////////////////////////////////////////////

From peter@baileynm.com Tue Jun 15 13:53:16 1999
Date: 12 Jun 1999 17:58:48 GMT
Organization: ABB Network Management
Newsgroups: comp.databases.oracle.misc, comp.os.linux.networking,
    comp.sys.dec, comp.protocols.kermit.misc
From: Peter da Silva <peter@baileynm.com>
Subject: Re: ISO VT320 emulator with key-bindings for Oracle Forms

In article <Rfa83.209$S2.8876@iad-read.news.verio.net>,
T.E.Dickey <dickey@shell.clark.net> wrote:
>In comp.os.linux.networking Peter da Silva <peter@baileynm.com> wrote:
>> But at the end I had the only VT100 emulator I could find at the time that
>> was usable with BOTH RSX-11 and VMS versions of EDT and TPU, even if it
>> wasn't always as pretty as a real vt100. And it ran on UNIX.

>can we download this and play with it?

I'll see if I can (a) dig up a copy of it, and (b) get it released.

-- 
In hoc signo hack, Peter da Silva <peter@baileynm.com>
 `-_-'   Ar rug tú barróg ar do mhactíre inniu? 
  'U`    "Be vewy vewy quiet...I'm hunting Jedi." -- Darth Fudd


 //////////////////////////////////////////////////////////////////////////////


Newsgroups: comp.terminals
Message-ID: <37828588.EB613282@GSC.GTE.Com>
References: <377BC788.E5DD68A6@hccnet.nl> <377CF3FD.186F9D86@GSC.GTE.Com>
Organization: GTE Government Systems
Date: Tue, 6 Jul 1999 22:39:04 GMT
From: "Scott G. Hall" <Scott.Hall@GSC.GTE.Com>
To: Johan den Boer <jj.den.boer@hccnet.nl>
Subject: Re: Can't login on terminal

Johan den Boer wrote:
> > > I have an hard wired terminal. When initiated an init q command
> > > I see the login prompt coming up. But I can't type anything
> > > in. It seems that the keyboard is locked. Has anyone an
> > > idee what's wrong
>
> I connected the terminal via RS-232 to the host computer
> which runs HPUX 10.20.
> Baudrate, parity and all the other settings seems to be
> ok because I can display the normal unix login prompt
> on that terminal, but if I want to login I cannot type
> anything in.

Does the host computer require the terminal on this port to be in Half-
Duplex mode?  If your terminal is in Full-Duplex mode, it is expecting
the host computer to echo each character back to as you type (which
sends characters to the host).  In Half-Duplex mode, your terminal's
keystrokes are both sent to the host and displayed on your screen.
If the host is expecting full-duplex (it echoes your keystrokes) and
your terminal is set to half-duplex, you would expect to your keystrokes
doubled-up (echoed twice -- once by your terminal and once by the host).
If the host expects your terminal to be set to half-duplex and your
terminal is in full-duplex mode, you don't see anything you type, even
the character are indeed sent to the host.

Note that in HP-UX, each port, or any port individually, can be set to
expect half-duplex for login (setup in the ttydefs file, or gettydefs for
older UNIXes from other vendors), and change settings to full-duplex
after login (using the "stty -a" command).  So you may have to play with
these settings a little to get it right for you.

Another good tool to help diagnose RS-232 connections is one of those
LED indicators from Radio Shack -- the one that flashes green and red
for different connections of the port.  For hardware handshaking (all
8 wires connected) all but the transmit and receive lights should be
green.  For either software-only handshaking (only 3 or 4 wires
connected) or hardware handshaking, you should see one of the transmit
or receive lights flicker when the host sends the login characters to
your terminal, and the other light should flicker when you type on the
terminal's keyboard.  Used at both the terminal's RS-232 connector and
the one on the host, this can help you to diagnose a hardware or wiring
problem.

--
Scott G. Hall
GTE Government Systems
North Carolina Systems Center
email: Scott.Hall@GSC.GTE.Com

 //////////////////////////////////////////////////////////////////////////////


Message-ID: <7mkdps$juv$1@newsmaster.cc.columbia.edu>
References: <BA9D7C356A205E1D.1D1B0FC3B8947EC3.9E3F2EF7A04BC356@lp.airnews.net>
Date: 15 Jul 1999 10:39:56 GMT
From: Jeffrey Altman <jaltman@watsun.cc.columbia.edu>
Newsgroups: comp.terminals
Subject: Re: SGR 38/39, AT386, SCOTERM

In article <BA9D7C356A205E1D.1D1B0FC3B8947EC3.9E3F2EF7A04BC356@lp.airnews.net>,
Todd Larason <jtl@molehill.org> wrote:
: The Linux console driver uses SGR 38 and 39 to turn underline on and off,
: while setting the foreground to the default color.  There is a comment:
:
:  /* ANSI X3.64-1979 (SCO-ish?)
:   * Enables underscore, white foreground
:   * with white underscore (Linux - use
:   * default foreground).
:   */

I don't have my X3.64 in front of me but I believe that this was a change
from X3.64 to ECMA-48.

: In general, pointers to control sequence specifications for the AT386 console
: and SCOTERM (and any others likely to conflict, such as possibly AIXTERM)
: would be greatly appreciated.  I can't find anything relevant in the Shuford
: archive nor SCO's website.


They are in the man pages for the various operating systems on which
they are the default console terminal types.

-- 
    Jeffrey Altman * Sr.Software Designer * Kermit-95 for Win32 and OS/2
                 The Kermit Project * Columbia University
              612 West 115th St #716 * New York, NY * 10025
  http://www.kermit-project.org/k95.html * kermit-support@kermit-project.org/

 //////////////////////////////////////////////////////////////////////////////

Message-ID: <931932041.684820@iris.nyx.net>
References: <3782309E.6B31E7AB@cencor.com>
<378c328c.594621310@news-server.tampabay.rr.com> <378A35A9.6ED81147@cencor.com>
Organization: Nyx Public Access Internet
X-Trace: wormhole.dimensional.com 931932042 206.124.29.7 
Date: Wed, 14 Jul 1999 06:00:42 GMT
From: Craig Macbride <craig@glasswings.com.au>
Newsgroups: comp.unix.sco.misc, comp.terminals
Subject: Re: SCO Unix and 3151 Terminal

Peter Gordon <pgordon@cencor.com> writes:

>  Apparently, CTRL-Home from a 3151 serves the same purpose as Delete on an
> ansi terminal.

Unless your time is _incredibly_ cheap or you have a _massive_ number of
these things, the long-term cheapest solution from a support point of view
would be to throw the old crap out and buy some decent terminals.

>SCO recommends making sure the TURNAROUND attribute of the terminal is set
>to CR,
>then editting and recompiling terminfo.src so that the function key strings
>end in \r instead of \n.

The SCO 5.0.5 terminfo entry has a comment that Turnaround should be
CR, yet (incorrectly) has function key entries ending in \n.

>It's my unserstanding that the app
>should be consulting
>terminfo/termcap to figure out what it is getting (the app is filepro)

>Any additional advice from anyone?

First thing: Halve your work by finding out whether your application
is using terminfo or termcap. Then you'll only have one thing to
play with.

Next, find out whether the application is getting the terminal modes
correctly. (Do an stty -a on the device port from elsewhere while in
the app.) If the tty driver is still doing cr/lf translation, your app is
written incorrectly and you'll have to deal with that problem.

--
--
        Craig Macbride <craig@glasswings.com.au>
-----------------------http://amarok.glasswings.com.au/~craig---------------
        "It's a sense of humour like mine, Carla, that makes me proud
                to be ashamed of myself." - Captain Kremmen

 ////////////////////////////////////////////////////////////////////////


Message-ID: <37AF5BBF.5246D2F6@mindspring.com>
References: <37AE629E.A6550AA6@dswebnet.com>
Date: Mon, 09 Aug 1999 18:52:47 -0400
To: Cawrse <gcawrse@dswebnet.com>
Organization: Not Organized
Newsgroups: comp.sys.hp.hpux
From: John Pezzano <jpezz@mindspring.com>
Subject: Re: console on serial port?

Cawrse wrote:
>
> I have an HP845 computer without the "video box" so I can't hook a
> monitor or keyboard to it. My question is can I hook a dumb terminal (or
> terminal emulator) to the serial port of the machine and use it as the
> console. If so what is the pin-out for the serial connector? I think the
> serial is on the cable labeled 6 modem mux. it has a 62pin male D
> connector on it. I assume that the settings would be 9600 bps, 8 bits,
> on parity, 1 stop bit, and xon/xoff flow control. Any is help
> appreciated!!!  If I can't hook this up I will be forced to scrap it.


Surprise! The 845 (VERY OLD!) was NOT made for a video monitor but was
made for serial ports. It did support connecting a video card but most
were sold as multi-user machines.

You are correct as to serial connections if my mind is right. A STRAIGHT
THROUGH cable is what you want.

However, there is an issue. The computer supported multiple mux cards
and only one had the console. The console was on port 0 of the machine.
You'll know if you have the console port if the boot information is
displayed.


 //////////////////////////////////////////////////////////////////////////////


Message-ID: <7p9tpg$n8d$1@nnrp1.deja.com>
References: <7p9pbi$jsh$1@nnrp1.deja.com>
NNTP-Posting-Host: 209.48.193.3
Date: Mon, 16 Aug 1999 20:54:14 GMT
Newsgroups: comp.sys.hp.hpux
From: dwinslow@my-deja.com
Subject: Re: getty errors

In article <7p9pbi$jsh$1@nnrp1.deja.com>,
  bobby.thomas@beasys.com wrote:
> Hello,
>
> Does any one know how to put an end to the following error message?
> This gets logged in the syslog.log. I am running HP/UX 10.10.
>
> Aug 12 09:32:29 lchp1 syslog: getty: cannot open "tty0p3". errno: 6

[snip]

> Bobby

make sure you don't initialize any of these devices in /etc/inittab if
they don't exist.  Just comment the line out.

looks something like this:
...
#a1:4:respawn:/usr/sbin/getty -h tty0p9 9600
...

-DW

 //////////////////////////////////////////////////////////////////////////////


References: <37C2E1C7.7D7C94E8@iol.unh.edu>
Message-ID: <p_uy3.563$kf5.38238@iad-read.news.verio.net>
Newsgroups: comp.sys.hp.hpux, comp.sys.hp.misc
Date: Mon, 30 Aug 1999 12:41:57 GMT
From: T.E.Dickey <dickey@shell.clark.net>
Subject: Re: terminal problems

In comp.sys.hp.hpux Matthew Plante <maplante@iol.unh.edu> wrote:
> Hello all,

>   I am having problems with certian terminal programs.  Terminals like
> dtterm work fine, however, I'd like to use rxvt.  I downloaded and
> installed it, but when I try to use the enter key (the one not on the
> number pad) or the foward slash key, it doesn't work.  It only works
> when I hold the right shift key, they press the key I want.  Is there
> some key bindings that I need to fix to use these keys w/o holding
> shift?


no - it's hardcoded (I recall seeing something like this as a recent bug
report, though I don't recall seeing anyone having fixed it yet).

(unless you just want to put pictures on the back of your window, xterm's
a better bet).

--
Thomas E. Dickey
[dickey@clark.net]
[http://www.clark.net/pub/dickey]

 //////////////////////////////////////////////////////////////////////////////


Date: Mon, 30 Aug 1999 12:44:31 GMT
Organization: Clark Internet Services, Inc., Ellicott City, MD USA
Newsgroups: comp.sys.hp.hpux
Message-ID: <P0vy3.564$kf5.38238@iad-read.news.verio.net>
From: T.E.Dickey <dickey@shell.clark.net>
Subject: Re: terminal problem w/info on HP/UX 11.0

Barnett Hsu <bhsu@clubnet.net> wrote:
> On Tue, 27 Jul 1999 12:01:52 GMT, "T.E.Dickey"
> <dickey@shell.clark.net> wrote:

>>Barnett Hsu <bhsu@clubnet.net> wrote:
>>> On HP/UX 11.0, trying to run info results in
>>> "Terminal "xterm" is not smart enough to run Info."
>>
>>Perhaps you have set $TERMINFO to point some place where there's no
>>useful terminfo data.  What does 'untic' show?
>>
> xterm|vs100|xterm terminal emulator (X11R6 Window System),
>         am, xenl, km, mir, msgr, xon,

huh.  so what type of terminal _does_ "Info" work with?

(The only "info" I know of would be the GNU info reader, which may be
linked to a termcap library - if it's that program, then I'd check to
see where/what termcap data was being used).

--
Thomas E. Dickey
dickey@clark.net


 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.terminals
References: <3803D353.11BD57D7@hp.com>
    <gkSM3.341$9%5.8110@dfw-read.news.verio.net> <38063B01.1F8F1A7D@hp.com>
Date: Fri, 15 Oct 1999 00:54:30 GMT
Organization: Clark Internet Services, Inc., Ellicott City, MD USA
Message-ID: <aXuN3.1286$9%5.26662@dfw-read.news.verio.net>
From: T.E.Dickey <dickey@shell.clark.net>
Subject: Re: using a text editor within an hpterm

John Hatcher <john_hatcher@hp.com> wrote:
>> John Hatcher <john_hatcher@hp.com> wrote:
>> > Here's the situation:
>> > I'm trying to use a simple text editor (pico) in an hpterm.  Is it
>> > possible to set it up so that I can use the arrow keys to move the
>> > cursor within pico?  I am currently having to use some control keys to
>> > move around (for example: 'ctrl n' to move the cursor to the next
>> > line).  It works fine within xterm.
>>
>> it "should" work (what do you have $TERM set to?)
>>
> It is set to 'hpterm'.


well - I use pico only when elm's not working (so this is my guess):

I can see pico on this Solaris box is set up to try to read terminfo and
termcap - so perhaps your copy is built to use termcap (since iirc, HP's
newer terminfo may not be where a naive configure script would find it).
I'd do a strings on pico, verify that its compiled-in paths for terminfo
match those on my system - if not, the problem likely is an incomplete
or incorrect termcap entry - perhaps set in your $TERMCAP variable.  If
the terminfo path isn't right, you can usually override it with $TERMINFO.

(Both are mentioned in the corresponding man-pages).

I've run vi and similar programs on an hpterm, so I'm reasonably sure arrow
keys work in the program itself.

-- but if it's a different problem, I'm still curious.

--
Thomas E. Dickey
dickey@clark.net
[stale]http://www.clark.net/pub/dickey/


 //////////////////////////////////////////////////////////////////////////////


References: <382132DC.3165FD33@softsys.fi>
Date: 4 Nov 1999 21:24:06 GMT
Organization: Columbia University
Newsgroups: comp.protocols.kermit.misc
Message-ID: <7vsthm$j36$1@newsmaster.cc.columbia.edu>
From: Jeffrey Altman <jaltman@watsun.cc.columbia.edu>
Subject: Re: rlogin / telnet problems with Kermit 95

In article <382132DC.3165FD33@softsys.fi>,
Juho Joensuu  <juho.joensuu@softsys.fi> wrote:
: Hi,
:
: I'm using (or actually helping another company) Kermit 95 in terminal
: connections to QNX. The rlogin and telnet connections function a little
: bit differently when handling the escape sequences and so far I have
: found rlogin better.

They better not respond differently.  The emulation uses exactly the
same code for both.  However, telnet supports terminal type negotiation
and rlogin does not.  You might want to check what terminal type is
being used on the telnet connection to ensure that it is indeed the
one you think it is using.

: Now however I have a problem getting the connection
: at all. It may happen that the first trial stays in login forever, i.e.
: on QNX side I can see that the login has been started but never ends.
: Every time I give login and password I get back to the login sequence.
: When I thereafter start another terminal the connection can success.
: Also it sometimes looks like I have a false terminal output on my
: screeen, i.e. like I write to pseudotty 2 and see the output of
: pseudotty 1 e.g.!
:
: How to proceed to find out the reason and fix the problem?

I don't have a clue.  Are you performing this operation from the
K95 terminal window or through a script?


    Jeffrey Altman * Sr.Software Designer * Kermit-95 for Win32 and OS/2

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.terminals
Path: cambridge1-snf1.gtei.net!news.gtei.net!bos-service1.ext.raytheon.com
      !cyclone.swbell.net!newsfeed.berkeley.edu!enews.sgi.com!wlbr!news
Message-ID: <38237427.67D83A7C@GD-CS.Com>
References: <BWKT3.6803$bp3.291647@nnrp3.clara.net>
Organization: General Dynamics Communication Systems
Date: Sat, 6 Nov 1999 00:19:51 GMT
To: Melvin Carvalho <carvam@clara.co.uk>
From: "Scott G. Hall" <Scott.Hall@GD-CS.Com>
Subject: Re: Help: Win98  <-> Solaris 2.6

Melvin Carvalho wrote:
>
> Does anyone know how to connect these two via serial null modem
> so that they can talk terminal style?
>
> UNIX - Solaris 2.6 (minimal installation)

You will need to add the "Basic Networking Utilities" (or whatever Sun is
calling it now) to install UUCP.  You want the "cu" utility in the UUCP
package to "call up" using one of the serial ports.

Then get a copy of PCOMM or Z-Modem for file transfers.

> Windows 98

Any of the popular terminal emulation packages.  I suggest Kermit95 for its
robustness and number of terminal types supported.

You'll need to install and setup UUCP on the Sun.  Then you can run the cu
utility on the Sun to activate the serial port, then run Kermit (or whatever)
on the Windows box, and voila!--what you type on one side shows up on the
other side's screen.  Then you can escape out on each side to the file-
transfer utility and pass files.

Somebody on your UNIX box isn't going to be able to do much connected to the
Windows box without someone on the Windows box interacting with you.  Win-98
is a single-user operating system, so it does not handle remote operation
well--you basically have to be at the console (I know there are packages out
there like "RemotePC", but they are cumbersome, expensive and unreliable).

However, by setting up a bi-directional port monitor service on the Sun, you
can cause a "login:" prompt to be generated when the Win-98 user connects
to the Sun.  You can then work just like any other terminal, and also use
the file-transfer utility to pass files to and from your Win-98 box.  And
since UNIX *!IS!* a multiuser operating system, the connected user can run
applications independently of someone at the UNIX console--even both at
the same time.

>
> Is there a web site that is helpful?

I am sure there are several, I just don't go to any.

-- 
Scott G. Hall
General Dynamics Communication Systems
North Carolina Systems Center
email: Scott.Hall@GD-CS.Com


 [ARCHIVER'S NOTE:
  To avoid having to install the Solaris BNU packages (which contain
  UUCP and cu), you can use the C-Kermit program to do essentially the
  same job for which Scott is using "cu" above.   ...RSS]


 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.unix.programmer
Organization: Virginia Tech
Date: 4 Dec 1999 19:19:02 GMT
From: Alex Verstak <alex@averstak.campus.vt.edu>
Subject: Re: Virtual Terminal Problem

In article <19991204114241.06574.00000464@ng-fr1.aol.com>, AdmFrodos wrote:
> Hello all, I'm working on playing around with terminal emulation. My problem is
> that, I am opening a master terminal, forking, opening a slave in the child and
> redirecting stdio through the descriptors of those respective terminals. Then I
> am execing "/bin/bash" or some other such nonsense. My problem is that if I
> busy wait in the parent, I am not allowed to type input in the terminal. If I
> don't, it quits (obviously). I am confused because a process listing will list
> my shell as being "defunct" and not connected to any terminal. How can I
> connect a shell to a terminal?

You probably want to create a session for the shell with setsid(2)
and associate this session with the terminal via TIOSCTTY ioctl.
Newer UNIX versions do not do that automatically when you open(2)
a terminal, so your shell is still associated with the old terminal.

-- 
Drive^H^Hnk safely!
Alex Verstak                 averstak at vt dot edu
1078 Ambler Johnston East             Virginia Tech
Blacksburg, VA 24060-0022       Tel. (540) 232-1389

 //////////////////////////////////////////////////////////////////////////////

Message-ID: <82666c$rl6$1@nic.com>
References: <822v4e$oo8$1@news.hk.linkage.net>
Date: 2 Dec 1999 11:19:24 -0500
Organization: nic.com http://www.nic.com
Newsgroups: comp.sys.sun.admin
From: Kevin Martin <cannon@nic.com>
Subject: Re: tip console question

In article <822v4e$oo8$1@news.hk.linkage.net>,
FAI <leemingf@pacific.net.hk> wrote:
>
>I used to use 'tip hardwire' to connect to machine B as console. Now the
>problem is, i only know using '~.' to disconnect this session. Can anyone
>tell me how to send a 'STOP A' to machine B? and is there any other ~
>commands?


Try "man tip".

    ~#        Send a BREAK to the remote system.
    ~?        Get a summary of the tilde escapes.

Also see:
    http://www.stokely.com/unix.serial.port.resources/modem.html
An excellent resource.



	[The stokely.com pages are now at sunhelp.org.]

 //////////////////////////////////////////////////////////////////////////////

Date: Mon, 06 Dec 1999 03:19:47 GMT
Organization: Deja.com - Before you buy.
Newsgroups: comp.terminals
Message-ID: <82fa0g$ijm$1@nnrp1.deja.com>
From: gdoyle@my-deja.com
Subject: GNU Screen and Pass-Through Printing

Hi,

I am logging onto a Linux Box from a WIN95 machine using a Telnet Client
.  I have it set up so that I can do Pass-Through Printing, (i.e. My
print jobs will go to the local windows printer)  I have done this by
creating an executable script file that I have in the /usr/bin
directory.  The script file is called PASSPRT and it contains the
following

printf "\033[5i\c"
cat &*
printf "\033[4i\c"
Using this script I can PASSPRT any file on the linux box by issuing the
command PASSPRT at the shell prompt or piping to PASSPRT (eg.
passprt filename)

Anyhow this works fine when I telnet to the linux box from the win95
machine.  However I want to also use the gnu screen utilility and
PASSPRT while using SCREEN.  For some reason whenever I use SCREEN and
PASSPRT a file from the command prompt from within SCREEN, I do not
enable Pass-Through Printing.  It seems the printf "\033[5i\c" has no
effect in SCREEN.  I have read the INFO files that came with SCREEN, and
they say that SCREEN can do Pass-Through Printing, but I cannot seem to
get it to work.  Has anyone used SCREEN and Pass-Through Printing
together.  I would appreciate any assistance anyone can provide in this
regard.

Thanks in advance.


GP Doyle

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.terminals
Message-ID: <82gucf$3e3e@yuma.ACNS.ColoState.EDU>
Date: 6 Dec 1999 18:13:35 GMT
From: Mike Gravitz <ddavid@lamar.colostate.edu.bogus>
Subject: Re: GNU Screen and Pass-Through Printing

In the Virtual Terminal section of Screen's man page they list an escape
sequence "ESC P (A)" that will directly output string "A" without having
the Screen program interpret it. As it is, I think, Screen is interpreting
the escape sequence of your script and it is never making it to your
printer.

I use a DEC terminal connected via modem to an AIX box which runs Screen.
I have a printer attached to the terminal and use Screen's "ESC P (A)"
sequence to get printer escape commands to it. So in your configuration
the Linux box is like my AIX box and the Win95 box is behaving like my
terminal. Well, more or less. :-) Anyhow, give the Screen escape sequence
a try. It works fine for me. Hope this helps.

--
Mike Gravitz

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.terminals
Date: 6 Dec 1999 18:52:16 GMT
Organization: Columbia University
Message-ID: <82h0l0$32f$1@newsmaster.cc.columbia.edu>
From: Jeffrey Altman <jaltman@watsun.cc.columbia.edu>
Subject: Re: GNU Screen and Pass-Through Printing

In article <82gucf$3e3e@yuma.acns.colostate.edu>,  <*> wrote:
: In the Virtual Terminal section of Screen's man page they list an escape
: sequence "ESC P (A)" that will directly output string "A" without having
: the Screen program interpret it. As it is, I think, Screen is interpreting
: the escape sequence of your script and it is never making it to your
: printer.

ESC P is the 7-bit equivalent for the DCS C1 control.  A DCS must be
terminated by ST or ESC \.

: I use a DEC terminal connected via modem to an AIX box which runs Screen.
: I have a printer attached to the terminal and use Screen's "ESC P (A)"
: sequence to get printer escape commands to it. So in your configuration
: the Linux box is like my AIX box and the Win95 box is behaving like my
: terminal. Well, more or less. :-) Anyhow, give the Screen escape sequence
: a try. It works fine for me. Hope this helps.

If screen does not require an ST at the end of the sequence it is broken.

    Jeffrey Altman * Sr.Software Designer * Kermit-95 for Win32 and OS/2

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.terminals
Message-ID: <82h93e$15us@yuma.ACNS.ColoState.EDU>
References: <82fa0g$ijm$1@nnrp1.deja.com> <82gucf$3e3e@yuma.acns.colostate.edu>
    <82h0l0$32f$1@newsmaster.cc.columbia.edu>
Date: 6 Dec 1999 21:16:30 GMT
From: Mike Gravitz <ddavid@lamar.colostate.edu.bogus>
Subject: Re: GNU Screen and Pass-Through Printing

Jeffrey Altman <jaltman@watsun.cc.columbia.edu> wrote:
:
: If screen does not require an ST at the end of the sequence it is broken.

Jeff, you're right. I forgot to mention that a terminator was required at
the end of the string. Screen does require one.

--
Mike Gravitz
ddavid@lamar.bogus.edu

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.unix.solaris
Message-ID: <Pine.GSO.4.05.9912050423270.3297-100000@tower.chorus.net>
References: <Pine.GSO.4.21.9912011018240.15198-100000@zen>
    <QYJ14.44762$oa2.341061@iad-read.news.verio.net>
    <slrn84eshg.7id.phil+s3@shell3.ba.best.com>
    <hiq24.45468$oa2.356151@iad-read.news.verio.net>
Date: Sun, 5 Dec 1999 04:30:11 -0600
Organization: IntraNet Inc: Madison, Wisconsin's ISP
From: Andrew Garman <encephal@chorus.net>
Subject: Re: Console servers

> :>Rich Teer <rich@rite-group.com> wrote:
> :>: Can anyone recommend a good serial port console server for Suns?
> :>: Especially one that's careful about sending breaks!

I've used async routers when they're available.  Other options are Aurora
Boards and Control Tower Software from www.auratech.com, or if you want
the low cost linux or FreeBSD, 'minicom' and comtrol boards (www.comtrol.com).

There's an article about console networks in the December 1999 issue of
Sys Admin.

Regards,
Andrew Garman

 //////////////////////////////////////////////////////////////////////////////

Doug Hughes of Auburn University offers some console-terminal information:

    http://www.eng.auburn.edu/users/doug/console.html

(2000-04-18)
 ..............................................................................

As of 2000-08-18, Cisco revised its advice on the Sun-console "break" problem:

    http://www.cisco.com/warp/public/770/fn-tsbreak.html

See also:

    http://www.stokely.com/unix.sysadm.resources/faqs.sun.html
	[2007: page now at sunhelp.org]


 //////////////////////////////////////////////////////////////////////////////


Newsgroups: comp.unix.solaris
Path: !newsfeed1.dallas1.level3.net!newsfeed2.dallas1.level3.net
      !news.level3.com!postnews.google.com!news4.google.com!feeder3.cambrium.nl
      !feeder1.cambrium.nl!feed.tweaknews.nl!62.216.30.27.MISMATCH
      !newsgate.cistron.nl!xs4all!feeder.news-service.com
      !news.motzarella.org!motzarella.org!not-for-mail
NNTP-Posting-Date: Thu, 25 Oct 2007 07:51:43 +0000 (UTC)
References: <ffnkq9$e4$1@registered.motzarella.org>
            <1193240816.064471.258730@k35g2000prh.googlegroups.com>
Message-ID: <ffphuf$brd$1@registered.motzarella.org>
Organization: A noiseless patient Spider
Date: Thu, 25 Oct 2007 09:51:42 +0200
From: zii kell <huj22mlikzq9ez6@temporaryinbox.com>
Subject: Re: Console command on an E25K : Many #~ ~# etc later

Dave wrote:
>
> On Oct 24, 7:28 am, zii kell <huj22mlikzq9...@temporaryinbox.com>
> wrote:
> 
> ~# should do the trick
> also works as the break when you are logged on to a console with tip
> hardwire
> 

Nope:(  All I get is this (~? gives help text, but none of it any use.
I tried sending the ~B but this failed)

...
Timeout waiting for ARP/RARP packet
Timeout waiting for ARP/RARP packet
Timeout waiting for ARP/RARP packet
~#
The following connections are open:
  #0 client-session (t4 r0 i0/0 o0/0 fd 5/6 cfd -1)
Timeout waiting for ARP/RARP packet
~?


Supported escape sequences:
~.  - terminate connection
~B  - send a BREAK to the remote system
~C  - open a command line
~R  - Request rekey (SSH protocol 2 only)
~^Z - suspend ssh
~#  - list forwarded connections
~&  - background ssh (when waiting for connections to terminate)
~?  - this message
~~  - send the escape character by typing it twice

(Note that escapes are only recognized immediately after newline.)


 ..............................................................................

Newsgroups: comp.unix.solaris
NNTP-Posting-Host: 82.152.102.167
NNTP-Posting-Date: Thu, 25 Oct 2007 10:06:10 +0000 (UTC)
References: <ffnkq9$e4$1@registered.motzarella.org>
Message-ID: <1193306770.508199.205570@o38g2000hse.googlegroups.com>
Organization: http://groups.google.com
Date: Thu, 25 Oct 2007 03:06:10 -0700
From: Tim Bradshaw <tfb+google@tfeb.org>
Subject: Re: Console command on an E25K : Many #~ ~# etc later

On Oct 24, 3:28 pm, zii kell <huj22mlikzq9...@temporaryinbox.com> wrote:
>
> Hi,
>
> I have been (& always have been) struggeling with the daft escape codes
> from the console command on the SSP that connected to a E25k domain.
>

How are you connected to the SC?  A standard problem (well, a
standard problem I have) is that if you're connecting via (say)
SSH from somewhere else, then you need to pass enough ~ (tilde)
characters to get through the first SSH.

I commonly end up doing

PuTTY-> random Solaris box ->ssh-> SC ->console-> domain

and I think the incantation there is RET~~~<whatever>, the
first pair of ~s being to get it through the first SSH.

--tim

 ..............................................................................

Newsgroups: comp.unix.solaris
NNTP-Posting-Host: kaksi.ifi.uio.no
NNTP-Posting-Date: Thu, 25 Oct 2007 16:05:04 +0000 (UTC)
References: <ffnkq9$e4$1@registered.motzarella.org>
    <1193306770.508199.205570@o38g2000hse.googlegroups.com>
Message-ID: <1rhckfnpsf.fsf@kaksi.ifi.uio.no>
Organization: University of Oslo, Norway
Date: Thu, 25 Oct 2007 18:05:04 +0200
From: Kjetil Torgrim Homme <kjetilho@kaksi.ifi.uio.no>
Subject: Re: Console command on an E25K : Many #~ ~# etc later

[Tim Bradshaw]:
>
>   I commonly end up doing
>   
>   PuTTY-> random Solaris box ->ssh-> SC ->console-> domain
>   
>   and I think the incantation there is RET~~~<whatever>, the first
>   pair of ~s being to get it through the first ssh.


when in doubt, I press and count tildes until one appears, and then I
press ^U RET and press one less tilde followed by period.  it's too
annoying to cut the connection a level to high (low?)

-- 
Kjetil T.

 ..............................................................................


Newsgroups: comp.unix.solaris
NNTP-Posting-Host: 192.94.73.2
NNTP-Posting-Date: Thu, 25 Oct 2007 12:05:59 EDT
References: <ffnkq9$e4$1@registered.motzarella.org>
    <1193240816.064471.258730@k35g2000prh.googlegroups.com>
    <ffphuf$brd$1@registered.motzarella.org>
Message-ID: <H93Ui.7480$Pv2.5739@newssvr23.news.prodigy.net>
Organization: AT&T http://yahoo.sbc.com
Date: Thu, 25 Oct 2007 16:05:59 GMT
From: Darren Dunham <ddunham@taos.com>
Subject: Re: Console command on an E25K : Many #~ ~# etc later

zii kell <huj22mlikzq9ez6@temporaryinbox.com> wrote:
> Dave wrote:
>> On Oct 24, 7:28 am, zii kell <huj22mlikzq9...@temporaryinbox.com>
>> wrote:
>> 
>> ~# should do the trick
>> also works as the break when you are logged on to a console with tip
>> hardwire
>> 
> 
> Nope:(  All I get is this (~? gives help text, but none of it any use.
> I tried sending the ~B but this failed)
> 
> ...
> Timeout waiting for ARP/RARP packet
> Timeout waiting for ARP/RARP packet
> Timeout waiting for ARP/RARP packet
> ~#
> The following connections are open:
>  #0 client-session (t4 r0 i0/0 o0/0 fd 5/6 cfd -1)
> Timeout waiting for ARP/RARP packet


If you have multiple levels of connections that use tilde escapes, you
have to type multiple tildes to reach the correct level.

In this case, your first level is an SSH connection.  So add tildes
until you are at the right level.  (You could remap the ssh connection
to use something other than ~ as the escape character, but that's one
more thing to change and remember to do in the future.  I'd rather be
comfortable with managing the nesting behavior.)

-- 
Darren Dunham                                           ddunham@taos.com
Senior Technical Consultant         TAOS            http://www.taos.com/
Got some Dr Pepper?                           San Francisco, CA bay area
         < This line left intentionally blank to confuse you. >

 ..............................................................................


Newsgroups: comp.unix.solaris
NNTP-Posting-Date: Fri, 26 Oct 2007 13:50:34 +0000 (UTC)
References: <ffnkq9$e4$1@registered.motzarella.org>
    <1193306770.508199.205570@o38g2000hse.googlegroups.com>
    <1rhckfnpsf.fsf@kaksi.ifi.uio.no>
Message-ID: <ffsrb9$8nc$1@registered.motzarella.org>
Organization: A noiseless patient Spider
Date: Fri, 26 Oct 2007 15:50:33 +0200
From: zii kell <huj22mlikzq9ez6@temporaryinbox.com>
Subject: Re: Console command on an E25K : Many #~ ~# etc later

You are all correct.

~~#.  give a L1-A.  I had to prefix the ~ with one more.

Thank you for the info.


 \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
 //////////////////////////////////////////////////////////////////////////////

Date: Tue, 11 Jan 2000 07:42:46 +0000
Organization: It's in one of the piles
Newsgroups: comp.terminals
Message-ID: <387ADEF6.20B4A8F0@rdel.co.uk>
From: Paul Williams <flo@rrds.co.uk>
Subject: Re: newbie! terminal emulation?

The VT220 supported the DEC Multinational Set. The VT320 supported
ISO Latin 1.


 //////////////////////////////////////////////////////////////////////////////


Newsgroups: comp.terminals
References: <85d0q8$aar$1@nnrp1.deja.com> <85dmpt$si6$1@nnrp1.deja.com>
    <85dpaf$bs4$1@newsmaster.cc.columbia.edu> <85e38k$64r$1@nnrp1.deja.com>
    <85edj0$sme$1@newsmaster.cc.columbia.edu>
Date: Tue, 11 Jan 2000 10:42:58 GMT
Message-ID: <85f1fg$r7p$1@nnrp1.deja.com>
From: joane_3@my-deja.com
Subject: Re: newbie! terminal emulation?

Hi, Jeffrey!

Thank you for your reply! 

In article <85edj0$sme$1@newsmaster.cc.columbia.edu>,
  jaltman@watsun.cc.columbia.edu (Jeffrey Altman) wrote:
> : Three last questions, though (if you don't mind :-)  :
> :
> : -does MS-DOS Kermit 3.15 contain the 2 great features you mentioned
> : above (i.e., total support for Latin-1 under Linux console emulation)?
>
> MS-DOS Kermit supports VT320 and Latin1.  It does not support the Linux
> console.  MS-DOS Kermit should only be used on a DOS system and not
> on Windows 9x or NT.
>
> : -is it possible to make Kermit automatically connect to a server and
> : fill in the login/password prompt?
>
> Yes.  This can be done with scripting.  However, we strongly discourage
> the use of embedding passwords in plain text script files for obvious
> security reasons.  Kermit 95 supports a large number of secure methods
> for performing automated logins:
>
>   Kerberos
>   Secure Remote Password
>   X.509 certificates via SSL or TLS
>   NTLM (Windows to Windows)
>
> These methods are not available with MS-DOS Kermit.
> : -should I install the 7th 3.16 beta version or wait for the next
> : release?
>
> MS-DOS Kermit is developed by Joe Doupnik from Utah State in his
> spare time.  It is unclear when the next version of MS-DOS Kermit
> will be released.  The latest version is the one you mention above.
>
>     Jeffrey Altman * Sr.Software Designer * Kermit-95 for Win32 and OS/2
>                  The Kermit Project * Columbia University
>               612 West 115th St #716 * New York, NY * 10025
>   http://www.kermit-project.org/k95.html * kermit-support@kermit-project.org/



I would love to try out using Kermit95 for this, but unfortunately
we're just giving 3 or 4 old 386s some use by connecting them into a
linux box! I guess that this rules out Kermit 95 :-( ...

Anyway, MS-Kermit 3.16 will work in VT320 emulation with the
appropriate charset; this allows connection into the linux machine
without any problems, right? Is there any drawback in *not* being able
to use Linux console emulation?

Once again, thanks!

Joane

 //////////////////////////////////////////////////////////////////////////////

Date: 11 Jan 2000 16:30:54 GMT
Organization: Columbia University
Newsgroups: comp.terminals
Message-ID: <85flru$so1$1@newsmaster.cc.columbia.edu>
From: Jeffrey Altman <jaltman@watsun.cc.columbia.edu>
Subject: Re: newbie! terminal emulation?

Linux console supports color; has better keyboard support; and is the
native terminal type.  That's it.

    Jeffrey Altman * Sr.Software Designer * Kermit-95 for Win32 and OS/2

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.terminals
Message-ID: <upJslego9GA.267@upnetnews05>
References: <Pine.SOL.3.91.980618112045.10794A-100000-100000-100000@world.evansville.net>
NNTP-Posting-Host: 1Cust90.tnt1.redmond2.wa.da.uu.net [208.250.243.90]
From: "Scot Harkins on MSN.com" <scoth@msn.com>
Subject: Re: help with wyse60 / slackware
Date: Sat, 27 Jun 1998 13:09:42 -0700

Howdy,

Cop Goatulating wrote in message ...
>
>I have a wyse 60 terminal (mn WY-60, pn 9000109-01) and am having a few
>minor problems getting full functionality.
>
>Firstly I am using slackware using the stock termcap. Where can I find a
>specific termcap for my Wyse? I do have /usr/lib/terminfo installed. Do I
>need to link the wy60 entry in terminfo to the termcap somehow? (drool).


Very few programs use termcap any more.  Most will look for the terminfo
entry first and load it, falling back to termcap (or an internal vt100-ish
default) if it fails to find the right terminfo.

termcap is also a more or less standardized file in Unix/Linux.  Taking a
read through termcap reveals entries from the 70's and 80's by folks who
built their own terminals, plus real entries for commercial terminals.  As a
rule copying information from one termcap to another is fully valid and
do-able.

You should have a whole host of /usr/lib/terminfo/w/wy60* entries.  wy60
straight should be the start.  The others are for more or less obscure
variations and are not likely to be useful to you.

>I then tried cutting the wy60 bits from the titanic termcap-BSD and
>installing them in my regular termcap.... no dice.


See above.  Your problem is most likely in terminfo.  You may need to fix
the terminfo entry.  The tools are all available (infocmp and tic); just
gotta know what to do.

>I have it working as well as can be expected with the terminal
>personality set for vt100. My inittab is as follows:
>
>s1:12345:respawn:/sbin/agetty: -L 19200 ttyS0 vt100


You should run it as the native Wyse 60.  60's have been around so long that
they are almost as common as VT100's.  I almost look at wy60 as an
equivalent universal emulation.  Most self-respecting terminal emulators
support it, along with the equally ubiquitous tvi925.  (Hah!  Read later
about this little claim.)  In any event the Wyse-60 is really a Wyse-50 with
added features (reverse video, I think, protected/dim, and a couple of
others), so Wyse-50 (wy50 or w50) emulation should work as well.

>(I had to add -L to force a local line. Reading the man page: what a
>concept for me!)
>
>The problems are: Pgup/Pgdn don't work, and it causes joe to utterly lose
>its mind.


Easy enough to see where the problem is.  Does the page up and page down
work anywhere else, like vi?  I don't know if the vi distributed in Linux
uses termcap or terminfo.  Rename termcap to termcap.old and try vi to see
if it loads (it'll object to termcap missing if it needs it).  Rename it
back when you've tried it.  Then try paging up and down in vi.  How about
lynx?  If you installed it, try running it on a localhost page (if you have
a web server running on your machine).  Shucks, you could lynx a file.
"lynx file:///etc/termcap" will let you view /etc/termpcap via lynx, wherein
you could try pgup/pgdn.  Lynx uses terminfo.

>A pointer to the proper termcap or a smart-guy method will make me very
>happy! Thanks!


O'Reilly's "Termcap and Terminfo" is a good investment for learning about
and manipulating these two databases.

I'm checking the help file in my copy of Century's TinyTerm Plus.  Wyse 60:
page up sends Esc-J (\EJ or ^[J) and page down sends Esc-K (\EK or ^[K).
I've often seen the terminfo whacked where one or the other key does the
opposite and the other key doesn't work at all.  You could check directly by
exporting the terminfo file to a text file (infocmp wy60>/tmp/wy60.src),
pull it up in vi and look for the key "knp" (next page).  It may be missing
(it is from a SunOS 5 machine I'm looking at right now!  So much for my
"ubiquity" statement.).

In any event, the page down value would/should be "knp=\EK" and the page up
value would/should be "kpp=\EJ".  If they're missing, add them, maybe after
the string "khome" (the home key string) since they're close on the
keyboard.  Then recompile the entry ('man tic' to read up on it, then 'tic
wy60.src' to compile back to the terminfo tree)(make a copy of the original
wy60 file first just in case).  Once compiled try it out.

Still no go?  Could be the instructions back to the terminal are whacked.
I'll bet, however, that adding knp/kpp will solve it.  I don't remember the
string-values to look for in terminfo for how to page up and down (what
string the computer sends to the terminal to tell it to page up or down in
memory); or perhaps the program simply registers the new position and sends
a new screen to display (probably what it does).  I'm not a programmer (at
least not in any compiled language), so I'm foggy on that part.

Let me know how it goes.  Get the book.  It's always good to know this stuff
since you can fix/change all sorts of things via terminfo/termcap.


Scot

----------------------------------------------------------------------------
Lisa and Scot Harkins | SCA: HL Alastrina McKeary and Ld. Scot Harkins
In beautiful North Bend, Washington, USA
lisah@snovalley.com and scoth@bigfoot.com; http://www.wolfenet.com/~scoth


 //////////////////////////////////////////////////////////////////////////////

References: <38f50891.5598504@news-server.kscable.com>
Organization: Jet Propulsion Laboratory, Pasadena
Date: 13 Apr 2000 15:14:13 GMT
Newsgroups: comp.terminals
Message-ID: <8d4o85$p64$1@nntp1.jpl.nasa.gov>
From: Todd Litwin <litwin@izzy.jpl.nasa.gov>
Subject: Re: Newbi needs help with VT220

brass monkey <blabla@bla.com> wrote:

>  I recently grabbed a VT220 from a dumpster, hoping to have fun and
> learn more about networking and multi-user systems ( using linux )
> Documentation about the vt220 that I find on the net is scarce and
> confusing.

Pay attention to the posted answer from Paul Williams, in which he said that
the BNC connector is for video output. Ignore the answer from Erik, who not
only does not know what he is talking about, but obviously didn't even bother
to read your message carefully (since he asks you for information that was
present in your message, and in his answer ignores other parts as well).

The VT220 is one of the line of serial terminals produced by DEC [Digital
Equipment Corporation (now owned by Compaq), historically a very famous
manufacturer of computers such as the VAX and PDP lines]. Their terminals are
generally very high quality. But they are serial-line terminals. They use RS232
serial-line protocols, either with a DB25 connector, or in later models with a
telephone-like modular connector (RJ45? I forget).

While I've used a number of DEC VTxxx terminals over the years, I never did use
the video output jack. It would only be to connect a separate monitor,
something I've never needed. So I can only guess about the characteristics of
the output video signal. You'd need to check on the specs if you were curious.

For information on the VT lines of terminals, you should look in the following:

        http://vt100.net/

And for general terminal information, check out:

        http://www.cs.utk.edu/~shuford/terminal_index.html

You said that you think you need to connect the terminal to the host by a
serial null modem. A serial cable (RS232), certainly. A null modem, maybe.
Probably. It all depends on the type of each side. All DEC terminals, in
accordance with an ANSI standard, are DTE (terminal-like) devices. All modems
are DCE (communications-like) devices. A DTE connected to a DCE uses a
straight-through cable. When a DTE connects to a DTE, or a DCE to a DCE, then a
cross-over cable is needed, sometimes called a null-modem cable (although the
name is not always technically correct, depending on the connectors involved).
Since historically most computers were designed to connect to modems (DCEs),
they tend to have DTE interfaces, making them the same type as a terminal, and
in need of a cross-over (null-modem) cable. So what you heard about how to
connect it is most-likely correct, depending on the host you need to connect
to.

So the bottom line is this: if you want to use this terminal, you will probably
need to connect it directly to a host computer using a serial cable. The only
other possibility would be a terminal server (a device that connects terminals
by serial cable on one side and a network on the other), but this tends to be
expensive.

I hope this has been helpful.

--
                Todd Litwin
                Jet Propulsion Laboratory
                (818) 354-5028
                Todd.E.Litwin@jpl.nasa.gov

 //////////////////////////////////////////////////////////////////////////////

Date: Thu, 13 Apr 2000 07:52:49 +0100
Organization: It's in one of the piles
Newsgroups: comp.terminals
Message-ID: <38F56EC1.6B2D29D8@rdel.co.uk>
From: Paul Williams <flo@rdel.co.uk>
Subject: Re: Newbi needs help with VT220

brass monkey wrote:
>
> The vt220 has a BNC jack, but
> I cannot find any info about connecting a terminal using  ethernet.


This isn't an Ethernet connector, it's a video output.


 //////////////////////////////////////////////////////////////////////////////


Newsgroups: comp.terminals,comp.dcom.cabling,comp.os.linux.hardware
Message-ID: <rshu_20010602113030@stratagy.com>
References: <417e782f.0105302052.ce73f31@posting.google.com>
Date: Sat, 2 Jun 2001 11:30:30 -0400
From: "Richard S. Shuford" <shuford%list.stratagy.com>
Subject: try null modem on serial cable (was: HP 700/92)

Posting from eli.net, from the email address <zer0700@excite.com>,
to which replies are impossible, someone caused to appear as though
"Barry" had uttered:
>
> I've gotten my hands on an HP 700/92 dumb terminal...
>
>     [commendable amount of detail on software setup]
>
>  ...
>  my ttys file entry:
>  ...
>  my termcap file entry:
>  ...
>  output from stty -f /dev/ttyd0 -e:
>  ...
>  getty process
>  ...
>
>  The terminal's datacomm port is connected to my PC's first serial
>  port (com1) by means of a Male DB25 to Female DB9 RS-232C cable...
>  The terminal works in local mode, but nothing pops up in remote mode.


If this is the same type of cable that you would use to connect a
modem to a PC, then you must deal with the following situation:

(1)  The PC expects to talk to a modem at the other end of the cable.

(2)  The terminal *also* expects to talk to a modem at the other end
     of the cable.

Note that both devices want to talk to a modem.  You must do something
to satisfy this yearning.

What you need, therefore, is little item called a "null modem".

The null modem consists of a small plastic block with a female
connector on one end and a male connector on the other end, with
some tricky wiring inside.  You can buy a null modem at a Radio Shack
store, or from various vendors such as BlackBox or Digikey.  They are
available in either 25-pin or 9-pin styles.

(Pedantically speaking, the 9-pin D-shell connector is a DE-9, but
this detail is usually fudged.)

Attach the null modem to one end of the cable between the PC and the
terminal.  (For a simple asynchronous terminal, it probably doesn't
matter which end of the cable.)

Then see if the terminal can communicate better with your FreeBSD Unix
system.

 ...RSS

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.unix.solaris,comp.unix.bsd.freebsd.misc
References: <Pine.GSO.4.33.0109211005580.1803-100000@gorver.rite-group.com>
   <9oe6o5$p4c$1@newsie.singa.pore.net>
   <Pine.GSO.4.33.0109201942520.1803-100000@gorver.rite-group.com>
   <3BAAEE21.8050605@netscape.net> <klop_20010921140001@stratagy.com>
Message-ID: <WaZq7.26586$QK.21462269@news1.sttln1.wa.home.com>
NNTP-Posting-Date: Sat, 22 Sep 2001 02:51:50 PDT
NNTP-Posting-Host: 65.4.3.25
Date: Sat, 22 Sep 2001 09:51:50 GMT
From: Billy <billy2271@homeREMOVE.com>
Subject: Re: Intel-PC serial console

1. Modify the ttyd0 entry in /etc/ttys to
     ttyd0 "/usr/libexec/getty std.9600" vt100 on secure
   This should start getty running on the serial port so if you
   kermit over a serial cable you should get a login prompt staring
   back at you.

2. Make sure you have the above working and then
   create a /boot.config file with '-h' in it.
   Then reboot.

-billy

 //////////////////////////////////////////////////////////////////////////////

References: <45M25.13770$Za1.216156@newsc.telia.net>
X-Mailer: Mozilla 4.73 [en] (WinNT; U)
Organization: General Dynamics Communication Systems
Date: Mon, 19 Jun 2000 20:52:28 GMT
To: David Szotten <Szotten@telia.com>
Organization: General Dynamics Communication Systems
Newsgroups: comp.terminals, comp.os.linux.setup, comp.os.linux.questions,
    comp.os.linux.hardware
Message-ID: <394E880C.723EAC73@GD-CS.Com>
From: Scott G. Hall <Scott.Hall@GD-CS.Com>
Subject: Re: terminal on linux?

David Szotten wrote:
>
> I've got my hands on a vt420 terminal and I'm trying to get it to work with
> my linux system. I haven't got much experience in terminals, so does anyone
> have any idea as to what I have to do to get it to work?

This question is best asked in one of the Linux sys-admin newsgroups:

        comp.os.linux.setup
        comp.os.linux.questions
        comp.os.linux.hardware
        comp.os.linux.misc

or simply a unix sys-admin newsgroup:  comp.unix.admin

Basically, you want to setup a terminal port monitor process to run on the
serial port you want wish to connect the terminal -- for SVR4 systems use
"ttymon", most other systems (like Linux) use a form of "getty" or "uugetty".
Though each UNIX is different, there is usually a good set documents or man
pages for setting up the port monitor.  In fact, the most common example is
how to setup a simple terminal -- such as what you want, and usually a modem.

The port monitor is responsible for generating the infamous UNIX "login:"
prompt, sometimes it can provide a preamble output file or script (like
machine name, system id, OS vendor and version, and so on).  When the user
enters a login id, it passes control on to the login program which provides
the "Password:" prompt and authenticates the user.  Then control passes on
to the user's startup shell program.

The port monitor is restarted when the last user shell dies, or the port
is reset, via a control file:  /etc/inittab for SVR3 & SVR4 & Linux systems
(I forget what it is for BSD-derived systems or HP-UX).  Look for the
keyword "respawn" in the startup control file.

Note that the port monitor has to set the serial port settings.  For SVR4
based systems, this is specified as arguments to the "ttymon" command for
that port, for most other UNIX systems as arguments to the "getty" program,
both sequencing through a "/etc/gettydefs" file.  I know that BSD-derived
systems used "/etc/ttys" to specify what /etc/gettydefs entry to start with.
Gettydefs entries can refer back to themselves (for fixed-baud-rate ports),
or refer to the next speed slower in a "hunt group" that would try different
port settings until your terminal responded correctly.

I cross-posted to a couple of the above mentioned newsgroups, and set all
followups to the first.  I would look there for further details and answers.

--
--
Scott G. Hall                   General Dynamics Communication Systems
ph: 919-549-1189                North Carolina Systems Center
email: Scott.Hall@GD-CS.Com     Research Triangle Park, NC   USA



 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.protocols.kermit.misc, comp.os.linux.setup
Organization: The Technical University of Denmark
Message-ID: <8ishpa$15v6$1@news.net.uni-c.dk>
Date: 22 Jun 2000 08:12:26 GMT
From: Bernd Dammann <bernd@lipid.fki.dtu.dk>
Subject: Re: Serial console: Ctrl-C doesn't work

Frank da Cruz (fdc@watsun.cc.columbia.edu) wrote:
:
: In article <8i7c8n$11ro$1@news.net.uni-c.dk>,
: Bernd Dammann <bernd@lipid.fki.dtu.dk> wrote:
: :
: : I've set up a diskless and headless machine with a serial console that
: : I access from the server through a null-modem cable (using kermit as
: : terminal emulator).  Everything works fine, except for one thing:
: : 
: : Ctrl-C (intr) and Ctrl-Z (susp) don't work!  All other Ctrl- sequences
: : like Ctrl-U (kill) and Ctrl-W (werase) do work.
: : 
: : Where is the problem?  The console settings (see below), or the
: : terminal emulation?  I've tried several terminal emulation programs
: : (i.e. kermit, minicom, ...), but the problem is the same.
: : 
: So it's evidently something with your Linux configuration, having nothing
: to do with the terminal emulator.


You are right, I found out what went wrong:  

Linux has the following devices
crw-------   1 root     root       5,   1 Jun 16 16:32 /dev/console
crw-------   1 root     tty        4,  64 Jun 14 17:15 /dev/ttyS0

and I had set up getty on /dev/console (which worked for me before on
an older Linux system (kernel < 2.0):

con:2345:respawn:/sbin/getty console DT38400 vt100

The right thing to do is:

con:2345:respawn:/sbin/getty ttyS0 DT38400 vt100

since /dev/console is a device for its own in newer Linux systems.

That solved the problem.

Bernd
--
# Bernd Dammann          <bernd@fki.dtu.dk> | "Why stop now,
# Department of Physical Chemistry          |      just when I am hating it?"
# The Technical University of Denmark       |---------------------------------
# Building 206                              | phone: (+45) 45 25 24 81
# DK-2800 Lyngby, Denmark                   | http://www.fki.dtu.dk/~bernd/

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.sys.dec,comp.terminals
References: <39806019.B825BD77@imaginator.com>
Message-ID: <398165AA.238AC40E@netinsight.se>
Date: Fri, 28 Jul 2000 10:51:22 GMT
NNTP-Posting-Host: 194.16.221.33
From: Johnny Billquist <Johnny.Billquist@netinsight.se>
Subject: Re: Favorite getty for serial consoles?

Simon Tennant wrote:
>
> I've been tearing my hair out trying to get an old dec VT320 to correctly
> talk to my computer.  I can login but every 2 or 3 lines get a wierd
> control character and lots of backward "?"s.  I've tried agetty and
> gettyps.

Every *two* or *three* lines? if so, you definitely have flow control
problems.

> I'd like to be able to specify parity, hardware flow control etc on the
> server end. Does anyone have a favorite getty that permits this?

Any getty does. Read and understand /etc/gettytab!
After that, it's a question of the OS being able to handle flow control.

Oh, and perhaps I should point out that the VT320 don't have hardware
flow control... :-)  XON/XOFF flow control is what you get.

I really don't care to go into a discussion about why DEC don't care about
hardware flow control; suffice to say that the RS-232 standards don't
have it.

        Johnny
-- 
Johnny Billquist             |  johnny.billquist@netinsight.net
Net Insight AB               |  phone:  +46 8 685 04 88
Vdstberga Alli 9             |  fax:    +46 8 685 04 20
Box 42093                    |
SE-126 30 STOCKHOLM, Sweden  |  http://www.netinsight.net/

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.sys.dec,comp.terminals
Subject: Re: Favorite getty for serial consoles?
References: <39806019.B825BD77@imaginator.com>
    <398165AA.238AC40E@netinsight.se> <3981D5B2.837926A8@imaginator.com>
Message-ID: <3985A77F.C78DA384@netinsight.se>
Date: Mon, 31 Jul 2000 16:21:19 GMT
NNTP-Posting-Host: 194.16.221.33
From: Johnny Billquist <Johnny.Billquist@netinsight.se>
Subject: Re: Favorite getty for serial consoles?

Simon Tennant wrote:
>
> Johnny Billquist wrote:
> > Oh, and perhaps I should point out that the VT320 don't have hardware
> > flow control... :-)
> > XON/XOFF flow control is what you get.
>
> So is it correct to assume that the XON at 64 means it hands over the
> serial line after 64 characters?

"Hands over" is not the correct term. It sends an XON when there are 64
or less characters left in the buffer.

XON is a normal ASCII control character.

However, I though the menu item said "XOFF at 64" (or 128) which
would mean it sends an XOFF when that many characters have been received
but not your processed. The reason for two different values are that
you basically want to use a pretty high value, since that is less likely
to occur, and will mean fewer stop-and-go. However, a machine that
is slow to react to XOFF, or a slow modem line might mean that you get a
buffer overflow before the XOFF has been processed at the other end.
In this case you want the XOFF to be sent earlier.

> Thanks for the help.

You're welcome.

        Johnny

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.sys.dec,comp.terminals
Subject: Re: Favorite getty for serial consoles?
References: <39806019.B825BD77@imaginator.com>
    <398165AA.238AC40E@netinsight.se> <8lv2km$gf$1@kadath.deep.it>
Message-ID: <3985A82B.E41ECEA4@netinsight.se>
Organization: Netinsight AB
Date: Mon, 31 Jul 2000 16:24:11 GMT
From: Johnny Billquist <Johnny.Billquist@netinsight.se>
Subject: Re: Favorite getty for serial consoles?

Cthulhu wrote:
>
> Johnny Billquist <Johnny.Billquist@netinsight.se> wrote:
>
> > Oh, and perhaps I should point out that the VT320 don't have hardware
> > flow control... :-)
>
>
> OUCH!
> So, it wasn't cable's fault! :/
>
> But then, what does the setup mean when, in Flow Control, it says "Use
> Modem Control Line"?


If you enable modem control, the terminal will lock on you unless you
have a live system at the other end of the cable. Basically, we're
talking DCD/DTR signalling here, not CTS/RTS.

If you ever use a DEC MMJ cable, you'll notice that it only have six
wires. Four of those are for data, and the last two are for DCD/DTR.
Modem control line is an option even when you use that kind of cable,
but CTS/RTS don't even exist on it.

        Johnny

--
Johnny Billquist             |  johnny.billquist@netinsight.net
Net Insight AB               |  phone:  +46 8 685 04 88
Västberga Allé 9             |  fax:    +46 8 685 04 20
Box 42093                    |
SE-126 30 STOCKHOLM, Sweden  |  http://www.netinsight.net/

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.terminals
References: <32CCC4FB.DFA6041B@yahoo.com> <ae3ai7$nu0$1@nenevr.demon.co.uk>
    <32D2E960.18AB7B2E@yahoo.com>
Message-ID: <aeg1s1$j60$1@nenevr.demon.co.uk>
Organization: None
Date: Sat, 15 Jun 2002 18:43:13 +0000 (UTC)
From: Simon Coombs <simon@nenevr.demon.co.uk.invalid>
Subject: Re: Dec VT220 backspace help

Sark <ian_primus@yahoo.com> wrote:

[snippage]

> While I am on the subject of the VT220, I have noticed that when listing
> long directories, cat-ing readme files, or running certain programs, the
> text display gets messed up, and I get superfluous charachters, text out
> of alignment and the like. Could this be caused by the termcap entry?
> Could it be that Slackware linux doesn't have the proper entry for a
> VT100? (I run it in VT100 mode, I may start using it in VT220 mode, but
> I was always told that VT100 mode was more compatible) Or could it be
> caused by the baudrate? I have both the computer and the terminal set up
> to talk at 19200 baud, and my serial cable isn't very long, so I don't
> really think it's a problem, but I can't be sure. Thanks!

It's probably the serial line settings; it probably wouldn't be as much
of a problem if you were at 9600 baud, but it would still raise its 
head from time to time...

Try adding:

    stty -ixany

into your /etc/profile, a few lines from the end (before it goes off 
and checks /etc/profile.d/* for any additional files). What this does 
is turn off the feature where, having received an XOFF character and
stopped sending data the terminal, *any* character that is received
by the host is assumed to be an indication that the terminal is ready
to start receiving again. 

Even if that character is *another* XOFF, being sent by a terminal
starting to panic about its buffer getting dangerously full.

Then fun and frolics ensue, and you end up with a screen full of random
characters and annoying reverse-questionmarks.

I don't know who it was that thought that leaving the ixany option 'on'
by default was a Good Idea, but I wish they hadn't...! Try 'man stty'
for more info on how to set up your serial line.

Regarding what you should set the TERM variable to, it all depends
upon which Termcap you're using. Slackware comes with two - a brief
one, and the full BSD one. I'd feel inclined to use the full one,
with TERM set to 'vt220' - I'd avoid the vt100 entry as it has a

few problems, although you've nothing to lose by trying it. >:)
 
Have fun.

S.

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.terminals
References: <32CCC4FB.DFA6041B@yahoo.com> <ae3ai7$nu0$1@nenevr.demon.co.uk>
    <32D2E960.18AB7B2E@yahoo.com> <aeg1s1$j60$1@nenevr.demon.co.uk>
Message-ID: <aej0bo$5tk$3@news1.Radix.Net>
Organization: RadixNet Internet Services
Date: 16 Jun 2002 21:35:52 GMT
From: Thomas Dickey <dickey@saltmine.radix.net>
Subject: Re: Dec VT220 backspace help

Simon Coombs <simon@nenevr.demon.co.uk.invalid> wrote:
>
> Regarding what you should set the TERM variable to, it all depends
> upon which Termcap you're using. Slackware comes with two - a brief
> one, and the full BSD one. I'd feel inclined to use the full one,

Actually, neither is BSD.  It's not likely that he's making much use of
termcap anyway.

> with TERM set to 'vt220' - I'd avoid the vt100 entry as it has a
> few problems, although you've nothing to lose by trying it. >:)

For example? (the problems, that is)

-- 
Thomas E. Dickey <dickey@radix.net> <dickey@herndon4.his.com>
http://dickey.his.com
 ftp://dickey.his.com

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.terminals
NNTP-Posting-Host: arthur.internal.net
NNTP-Posting-Date: Mon, 12 Nov 2007 20:31:28 +0000 (UTC)
References: <1194799022.891334.258620@o38g2000hse.googlegroups.com>
    <fh9424$jt5$1@rabbit.allgaeu.org>
Message-ID: <fhad70$5dk$1@nenevr.demon.co.uk>
Organization: None
Date: Mon, 12 Nov 2007 20:31:28 +0000 (UTC)
From: Simon Coombs <simon@nenevr.demon.co.uk.NOJUNK>
Subject: Re: VT220 garbage characters

Volker Englisch <veu0711@rsli.de> wrote:
> John schrieb:
>> I'm using a VT220 connected to my Linux box via serial with the speed
>> set to 19200. When I 'ls' a long directory (more than one screenful)
>> or cat a long file (about a screenful or more), I start getting
>> garbage characters in my output, mostly backwards question marks. This
>> basically makes the output unreadable, since all the formatting gets
>> screwed up too. Can anyone tell me what is going on here?
>
> Sounds like missing handshake. Did you enable either XON/XOFF or
> hardware handshake on both your linux box and your terminal?
>
> On the linux box, XON/XOFF is set by stty (ixon and ixoff), at the
> terminal in it's setup dialog. In my experience, hardware handshake
> doesn't work out of the box, for most terminals use DTR, but linux
> wants CTS, so no regular cable can be used.


Ah! This is a problem that I've had in the past. Try adding:

    stty -ixany ixon ixoff

...into your /etc/profile.

What does -ixany do?

It stops flow from being *restarted* by any character other than XON.
This is a problem because a VT220 will send an XOFF when the buffer
starts to get full (either 64 or 128, depending upon your terminal
settings) and then another one when the buffer actually *is* full.
Without -ixany, the OS sees that second XOFF and treats it as an XON.
And comedy ensues.

This won't cure all of your problems; Things like emacs and
GNU texinfo almost seem to be gleeful in their near-religious
pursuit of the non-support of terminals using in-band flow control
because "that's not how it should have been done"--but there are
almost always alternatives for things that don't work.

Anyway, hope that helps!

Simon.


 //////////////////////////////////////////////////////////////////////////////
 \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\

Newsgroups: comp.terminals
Message-ID: <39889FC0.41B125EF@GD-CS.Com>
References: <LAsg5.1483$N47.25235@quark.idirect.com>
Organization: General Dynamics Communication Systems
Date: Wed, 2 Aug 2000 22:25:04 GMT
From: "Scott G. Hall" <Scott.Hall@GD-CS.Com>
Subject: Re: terminal problem

renrobin wrote:
> We always have problem on our remote serial terminals connected on muxes.
> Is there a command to re-run again getty process for particular tty.


It depends on your particular version of UNIX.  But if you have what I
suspect, look at the file /etc/inittab  You will notice 'respawn' lines
for getty for the various terminal ports.

What you do is login as root, and run "ps -ef |grep tty??" (where ?? is
the remote port designator you are interested in) and kill any processes
you see still attached to that port.  Then run the same command line that
is in the inittab file for that port -- but prepend that line with "nohup"
and run it in the background (with a "&" at the end).

For most UNIX systems, you should never have to reboot except in an
emergency.

--
Scott G. Hall                   General Dynamics Communication Systems
ph: 919-549-1189                North Carolina Systems Center
email: Scott.Hall@GD-CS.Com     Research Triangle Park, NC   USA

 //////////////////////////////////////////////////////////////////////////////


Newsgroups: comp.terminals
Message-ID: <8nbfns$347$1@news1.Radix.Net>
References: <Pine.LNX.4.21.0008141937090.8700-100000@lade.src.no>
    <39989432.B27FB06F@GD-CS.Com> <ZN0m5.1109$kM2.117321@newshog.newsread.com>
Date: 15 Aug 2000 13:14:36 GMT
Organization: RadixNet Internet Services
From: Thomas Dickey <dickey@saltmine.radix.net>
Subject: Re: Funded project: Wyse 60 semi-compliant emulator for Linux

Don Yuniskis <auryn@rtd.com> wrote:
> In article <39989432.B27FB06F@GD-CS.Com>,
> Scott G. Hall <Scott.Hall@GD-CS.Com> wrote:
>>Joseph Santaniello wrote:
>>>
>>> The only thing holding us back from a wide-scale Linux deployment is the
>>> lack of a useable Wyse60 emulator. I have about 5000 USD I can contribute
>>> if someone feels like writing one. Serial interfac isn't required. We only
>>> plan on connecting via telnet.
...

> Since he is looking for a TERMINAL EMULATOR it seems safe to assume
> that he doesn't have *any* terminals!  :>

> I suspect he has an *application* that wants to talk to
> a Wyse-60.  He would like to deploy this application on
> Linux boxes by having a terminal *emulator* running on the
> Linux host(s) to provide display services to the user.
> (I assume running under X?)

so why doesn't he fix the application to make it work with termcap or
terminfo?

--
Thomas E. Dickey <dickey@radix.net> <dickey@herndon4.his.com>
http://dickey.his.com/
ftp://dickey.his.com/

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.terminals
Message-ID: <8nbm58$4gl$1@newsmaster.cc.columbia.edu>
Date: 15 Aug 2000 15:04:08 GMT
Organization: Columbia University
From: Jeffrey Altman <jaltman@watsun.cc.columbia.edu>
Subject: Re: Funded project: Wyse 60 semi-compliant emulator for Linux


: so why doesn't he fix the application to make it work with termcap or
: terminfo?
:

Probably one or more of the usual reasons:

 * the application is not running on Unix

 * he does not have the source code

 * the application was developed by someone that has long since gone

-- 
                  Jeffrey Altman * Sr.Software Designer
                 The Kermit Project * Columbia University
               612 West 115th St * New York, NY * 10025 * USA
     http://www.kermit-project.org/ * kermit-support@kermit-project.org

 //////////////////////////////////////////////////////////////////////////////

Message-ID: <39AF3704.75173BEA@uwasa.fi>
References: <39AF3D96.214D5982@hotmail.com>
Date: Fri, 01 Sep 2000 07:56:36 +0300
Organization: University of Vaasa
Newsgroups: comp.terminals
Message-ID: <39AF3704.75173BEA@uwasa.fi>
From: Jarkko Hermanni Teppo <jate@uwasa.fi>
Subject: Re: information on the Visual 60 terminal

"Nick C. Doyle" wrote:
>
> Hi... I just obtained an old text terminal that identifies itself as a
> "Visual 60".  I am interested in interfacing it over a serial
> connection
> to my Linux box.  it has a ~10" green monochrome monitor, a keyboard
> that says "visual 60" on it, and two 25 pin serial ports on the back
> (one marked "Modem" and the other marked "Aux. Port".  When i turn it
> on, i get a cursor at the top left, and at the bottom right it says...
> "LINE  CONVS  UNPROT    0101"
> ... and i can't seem to make it do anything.  The keyboard is
> assumably
> good, because the capslock light goes on and off.


Try a quick'n'dirty loopback connector and see if it echoes.
Just short pins 2 & 3 on the interface marked "Modem"
or build a real loopback connector, the one I use is of the
"paperclip"-brand.


> Anyways, as i got it, it has no documentation, and i haven't been able
> to find any as of now.  If anybody has experience/documentation on
> these
> puppies (and, in peticular, information on the setup modes and
> specifications), that would be great and most appreciated.  =^)

What's really interesting here is that I found *no* mention of a
Visual 60 anywhere. Not your standard termcap and not even at
Richard S. Shuford's excellent pages:

    http://www.cs.utk.edu/~shuford/terminal_index.html

Maybe it's a Wyse 60 clone (Didn't see that coming...:)

--
Jarkko Teppo
jate@uwasa.fi

 //////////////////////////////////////////////////////////////////////////////

References: <39AF3D96.214D5982@hotmail.com> <39AF3704.75173BEA@uwasa.fi>
    <39AF4D27.B7FBB22A@hotmail.com>
Date: Fri, 01 Sep 2000 09:48:18 +0300
Organization: University of Vaasa
Newsgroups: comp.terminals
Message-ID: <39AF5132.B9B23594@uwasa.fi>
From: Jarkko Hermanni Teppo <jate@uwasa.fi>
Subject: Re: information on the Visual 60 terminal

"Nick C. Doyle" wrote:
> I will try your paperclip loopback adaptor idea.  As far as terminal
> emulation (there is a setup option called EMULATION), i have the
> choice of...
> 1. V50

Please note: I'm just guessing here:)
That would probably be Visual 50.

> 2. LSI

Lear-Siegler, probably emulates ADM-3A.

> 3. ADDS

Applied Digital Data Systems, maybe Regent.

> 4. HAZ

Hazeltine.

>
> ... any of these sound familiar?  (i've never played with a text
> terminal before, so this is kinda a learning experience for me).

For starters there's a "Text Terminal"-Howto for Linuxes, which
after a quick glance seemed pretty comprehensive. For some more
reading you might want to look at termcap-file from


    http://www.tuxedo.org/~esr/terminfo/index.html

The stock termcap file on the Linux box I checked (SuSE) seemed
to be processed (ie. without comments). You *really* want to
look at the non-processed file, it's fun stuff:)

All in all the terminal you have could be described as a
dumb terminal, at least by looking at the emulations (not as
intelligent as a, say VT-100)

--
Jarkko Teppo
jate@uwasa.fi

 //////////////////////////////////////////////////////////////////////////////

References: <39AF3D96.214D5982@hotmail.com> <39AF3704.75173BEA@uwasa.fi>
    <39AF4D27.B7FBB22A@hotmail.com> <39AF5132.B9B23594@uwasa.fi>
    <39AFA241.680F1AE4@hotmail.com>
NNTP-Posting-Host: ntt-f4-104-2.techno.uwasa.fi
Date: Fri, 01 Sep 2000 15:12:01 +0300
Organization: University of Vaasa
Newsgroups: comp.terminals
Message-ID: <39AF9D11.3D563DE0@uwasa.fi>
From: Jarkko Hermanni Teppo <jate@uwasa.fi>
Subject: Re: information on the Visual 60 terminal

"Nick C. Doyle" wrote:
> > The stock termcap file on the Linux box I checked (SuSE) seemed
> > to be processed (ie. without comments). You *really* want to
> > look at the non-processed file, it's fun stuff:)
>
> SuSE?  Blah... Slackware all the way.  =^)  Yes, i can imagine
> that manually setting up termcap is going to be quite the
> treat.  All part of the learning curve, i suppose.

You don't have to *write* a termcap entry, the termcap-file itself
(the one with the comments) is just oh, so nice reading material.
I don't know about slack, but on my NetBSD boxes the termcap file
/usr/share/misc/termcap is the one with the comments. You can browse
it here:

ftp://ftp.netbsd.org/pub/NetBSD-current/src/share/termcap/termcap.src

>
> > All in all the terminal you have could be described as a
> > dumb terminal, at least by looking at the emulations (not as
> > intelligent as a, say VT-100)
>
> Dumb terminal, dumb user.  =^)  Are these emulations going to
> help me/harm me?

Maybe someone else can chime in here (I know there are others
reading:). I really don't know which one of the emulations to use.
Maybe ADM, since I have an ADM-5 and an ADM-3 (rigged with
RetroGraphics 512).
>
> Also, when chatting about it to some people on an IRC server,
> they mentioned that i may have to rig up a converter for my
> serial port (since the PC architecture serial pin layout is
> different then the terminal).  Could you confirm my fears?  =^)

No. If you want the easy way to get a cable, go to a suitable
shop and buy a null-modem cable and the 25->9 adapter. If the
terminal is weird you might need a straight cable.

Or you can build one yourself and this is what I normally use:

DB25                DB25
----                ----
2 --------\/---------2
3 --------/\---------3

7 -------------------7

6  -|              |- 6
8  -|              |- 8
20 -|              |-20

ie. cross 2 and three, seven straight through, short circuit 6,8 and 20.
Works for me. Adjust as appropriate for a 9-pin connector.

>
> Hmph... and, I guess if you know of any sites offhand that
> have the various pin layouts, that would be good too.  (I
> also have to use a 25 pin -> 9 pin converter to make it fit my
> serial port).

There's a lot of this material on the web, most are variations
on the scheme I presented earlier. The one I use is pretty bare-bones,
so if you want real handshaking (as opposed to inband XON/XOFF) you
have to use a different cable. It all depends on whether the terminal
can use hardware handshaking.

Good luck!
--
Jarkko Teppo
jate@uwasa.fi


 //////////////////////////////////////////////////////////////////////////////

NNTP-Posting-Host: 142.177.208.250
X-Mailer: Mozilla 4.7C-CCK-MCD {C-UDP; EBM-APPLE} (Macintosh; I; PPC)
Date: Fri, 01 Sep 2000 13:58:42 GMT
Organization: MPowered-Subscriber
Newsgroups: comp.terminals
Message-ID: <39AFB5F8.7E54A03@hotmail.com>
From: Nick C. Doyle <van_haaften@hotmail.com>
Subject: Re: information on the Visual 60 terminal


Jarkko Hermanni Teppo wrote:
> You don't have to *write* a termcap entry, the termcap-file itself
> (the one with the comments) is just oh, so nice reading material.
> I don't know about slack, but on my NetBSD boxes the termcap file
> /usr/share/misc/termcap is the one with the comments. You can browse
> it here:

I was poking around my slack box, and i found that they included a copy
of the BSD termcap file, in addition to the shortened, regular termcap.
And, lucky me, it included an entry for a Visual Technology Visual 50
(which i'm assuming V50 emulation is).  So, i added that to my

/etc/termcap

and am going to use that.  The text terminal HOWTO is really quite good.

All i have left to do is to find my 25 to 9 pin converter (i do have one
around) and get the pins on my serial cable right.  Then i get agetty
running on the serial port, and we're on our way.

I also have an external serial modem... i should try that too.  =^)

Also, the terminal supports XON/XOFF.  yai!  It also has a setting mode
called "EIA/CL", which has possible settings EIA and CL (oddly enough...
=^).  Any ideas about what that's for?  It's in the same menu as the
baud
rate, bit settings, duplex settings, etc. etc.

Also, thanks for patiently answering my questions.  As you can
undoubtably
tell, playing with this terminal is kinda exciting, and your ideas are
helping me figure it out.

Nick

(Also... i need to stop saying "also" so much...)

 //////////////////////////////////////////////////////////////////////////////

Message-ID: <8q79h5$t51$1@nnrp1.deja.com>
NNTP-Posting-Host: 212.58.50.85
Date: Tue, 19 Sep 2000 08:52:59 GMT
Organization: Deja.com - Before you buy.
Newsgroups: comp.terminals
From: japper1@my-deja.com
Subject: wyse term on e450 has become hung , any suggestions?

Have a little wyse term connected to an e450, after miss typing a mail
message yesterday, the terminal became locked - server is ok though,
Last key io remember hitting was 'a or s' so i pressed something on the
left side of the keyboard around that area , dont want to turn the
terminal power off - this will reboot the server!

Any ideas?

 //////////////////////////////////////////////////////////////////////////////

References: <8q79h5$t51$1@nnrp1.deja.com>
NNTP-Posting-Host: 208.242.14.200
Newsgroups: comp.terminals
Message-ID: <8qamaq$sos$1@nnrp1.deja.com>
Date: Wed, 20 Sep 2000 15:49:56 GMT
From: Mark Greene <greenemj@my-deja.com>
Subject: Re: wyse term on e450 has become hung , any suggestions?

In article <8q79h5$t51$1@nnrp1.deja.com>,
  japper1@my-deja.com wrote:
>
>
> Have a little wyse term connected to an e450, after miss typing a mail
> message yesterday, the terminal became locked - server is ok though,
> Last key io remember hitting was 'a or s' so i pressed something on the
> left side of the keyboard around that area , dont want to turn the
> terminal power off - this will reboot the server!
>
> Any ideas?

Most likely you hit cntrl-s, so a cntrl-q will unlock the scroll. If
that does not work, try cntrl-n, escape, ", setup to unlock the
keyboard.

HTH

-- 
Mark

 //////////////////////////////////////////////////////////////////////////////


Newsgroups: comp.unix.solaris
References: <MPG.143c32188b063a24989697@news.earthlink.net>
Message-ID: <87u2b0x2nc.fsf@tor.home>
Organization: Slett.Net
Date: Thu, 28 Sep 2000 09:54:06 GMT
From: Tor Slettnes <tor@tor.home>
Subject: Re: Can remote Xserv see display:0?

>>>>> "Dolommite" == Dolommite  <dolommite@yahoo.com> writes:

    Dolommite> I'm using XwinPro on my win machines, and I'm curious
    Dolommite> if I can tag directly to the internal Xsession on my
    Dolommite> U10 (sol8).  In other words, can I see/use/control the
    Dolommite> main video/keyboard of the Sun box from my PC?

    Dolommite> Sort of like PCAnywhere?

    Dolommite> BTW - isn't the main video Xsession called display:0 ?
    Dolommite> Apologies in advance, just learning...

You cannot see a running X session from another display, however you
can create a new virtual display using a VNC server for Unix.  Then,
simply use a VNC viewer (either natively, or from another UNIX,
Windows or Macintosh client), you can access this display.

Note that the VNC server for UNIX behaves different from the Windows
and Mac servers in this respect - it creates a new display rather than
sharing hostname:0.

The advantage over using a X server package is that even after you
shut down your console, the session is still active.  Thus, you can
close your VNC viewer at work, and continue working from home.  (If
you have a tunnel or other VPN solution, that is).

        http://www.uk.research.att.com/vnc/

Combined with e.g. X2VNC, you can get some really cool things going.
I use my Sun keyboard/mouse to control a PC on my left, the Sun in the
middle, and a Macintosh on my right, all by simply dragging the mouse
from one screen into another.

In fact, on the Mac i also run Debian/PPC, in which case I use X2X to
accomplish the same effect.

-tor

-- 
Får i ulveklær

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.unix.aix, comp.unix.solaris
Message-ID: <e3800f8c.0209110302.2de7ccea@posting.google.com>
References: <3D7E0997.D43F33EE@santix.de> <gfwf9.278706$aA.48154@sccrnsc02>
Date: 11 Sep 2002 04:02:43 -0700
From: Chris <u931xg@excite.com>
Subject: Re: How to view DISPLAY on different computers

"William Peckham" <mrwbp@attbi.com> wrote in message
news:<gfwf9.278706$aA.48154@sccrnsc02>...
>
> It can IF the user us using VNCviewer to view a session on VNCserver, and it
> is set to share that display.  To my knowlege it cannot link to and share
> any other (XFree86 fir example) X-Windows session.   Perhaps someone else
> here knows of a solution that CAN.
> 
> "Rainer Freis" <freis@santix.de> wrote in message
> news:3D7E0997.D43F33EE@santix.de...
> >
> > Hello,
> >
> > for implementing a help desk solution we're looking for a software to
> > take over the desktop of another user (like the help feature in Windows
> > XP).
> >
> > We want the user to call the help desk and then the help desk people can
> > see the caller's desktop (to read the error messages :->). It would be
> > even better if you can take over mouse and keyboard and show the caller
> > how to do the task.
> >
> > Can VNC do that?
> >

Dear Rainer,

If you can get ahold of the tool XMX

    http://www.cs.brown.edu/software/xmx/

then you have fully shareable Unix desktops. Even X-enabled PCs can then
be participators.

Of course, your users must then also work inside an XMX session. And to
invite the helpdesk agent for joining the user has to key in the display
number of the agent.

VNC can only give read access to a second user. But for most helpdesk
cases that could be your solution too.

Regards,
Christoph


 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.terminals
Message-ID: <8tmst4$t66$1@news1.Radix.Net>
References: <39FEC96B.70B09ACB@ave.ac.agit.de>
Date: 31 Oct 2000 16:44:20 GMT
From: Thomas Dickey <dickey@saltmine.radix.net>
Subject: Re: terminal with logical size > physical size possible

Harald Finster <finster@ave.ac.agit.de> wrote:
> Hi,

> is the following possible (e.g. with ncurses) on
> either xterm, eterm or kvt.

> Define a logical window size, e.g.


use pads for that sort of thing.  there is an example in the ncurses
test/ncurses.c program (case 'p').

>  win = newwin( 80, 40, 1, 1  );

> which exceeds the current size of the window
> physically displayed on screen.

-- 
Thomas E. Dickey <dickey@radix.net> <dickey@herndon4.his.com>
http://dickey.his.com/
 ftp://dickey.his.com/

 //////////////////////////////////////////////////////////////////////////////


Newsgroups: comp.terminals
Organization: ave GmbH Aachen
Message-ID: <3A02E6B4.74B553E4@ave.ac.agit.de>
References: <39FEC96B.70B09ACB@ave.ac.agit.de>
    <8tmst4$t66$1@news1.Radix.Net>
Date: Fri, 03 Nov 2000 17:24:20 +0100
From: Harald Finster <finster@ave.ac.agit.de>
Subject: Re: terminal with logical size > physical size possible

Hi,

thanks to Thomas for the kind reply.

Finally I used the terminal-widget 'zvt' for my
application (with fixed number of rows/columns)
inside of a scrolled window.
(So (n)curses does not need to know anything about
scrolling, hidden parts ...)

Thanks  again

Harald

-- 
Harald Finster
-
Windoze can be used on the North-Pole without any problems,
... because a frozen computer can't freeze

 //////////////////////////////////////////////////////////////////////////////


Newsgroups: comp.terminals
Message-ID: <3A0C7AE0.204FB770@GD-CS.Com>
References: <07LO5.1294$Ii3.60096@weber.videotron.net>
    <3A0C67A6.4323EF55@GD-CS.Com>
Date: Fri, 10 Nov 2000 22:46:56 GMT
To: <dansered@cantrex.com>
Organization: General Dynamics Communication Systems
From: Scott G. Hall <Scott.Hall@GD-CS.Com>
Subject: Re: Desperately seeking ... termcaps

In Solaris (and any Sys-V UNIX) you can use the 'infocmp' command to output
the terminfo information.  With a couple of options, it will output that
using termcap format and nomenclature. Use the following commands on your
system:

        infocmp -C -r wyse50 > wyse50.termcap

        infocmp -C -r att605 > att605.termcap

Note that terminfo information is a superset of termcap, and so some fields
cannot be converted properly on output.  The att605 entry above is a good
example -- you'll need to edit the result afterwards.

Daniel Dansereau wrote:
> My OS is Sun Solaris 2.6 running on a SUN Enterprise 450. (SPARC)
>
> "Scott G. Hall" wrote:
> >
> > Daniel Dansereau wrote:
> > > The company I work with runs a Progress application and I need to support
> > > wyse50 and ATT605 terminals.
> > >
> > > My problem is that the application's protermcap has been optimized for
> > > wyse60.
> > >
> > > Would anyone have a fully-functional, fully-featured termcap entry for the
> > > above two terminals.
> >
> > What operating system are you on (mfg & version)?  You may already have a
> > good one on your system, or if it a UNIX system, we may be able to point
> > you to some commands to extract from its "terminfo" database into a usable
> > termcap entry.

-- 
Scott G. Hall                   General Dynamics Communication Systems
ph: 919-549-1189                North Carolina Systems Center
email: Scott.Hall@GD-CS.Com     Research Triangle Park, NC   USA

 //////////////////////////////////////////////////////////////////////////////


Newsgroups: comp.terminals
Message-ID: <908d1n$glp$1@news2.isdnet.net>
References: <8vqvrv$b8p$1@news4.isdnet.net>
    <906e46$2cb4$1@news4.isdnet.net> <3A274EB7.1A63659C@rdel.co.uk>
Date: 1 Dec 2000 14:36:39 GMT
From: Thomas Baruchel <baruchel(at)libertysurf.france>
Subject: Re: was : [termcap or terminfo] how to know what's on the screen ?

Le Fri, 01 Dec 2000 07:09:43 +0000, Paul Williams a écrit :
>I have to admit that I don't understand why you've rejected ncurses as a
>way forward, when you are trying to manage the screen to a degree that
>seems to make curses essential.

for a very stupid purpose...

I want my program to handle with the previous garbage already on the screen.
Why ? I don't know ? Because I like to see en the screen all the
  cd /something/
  ls
just above the beginning of my program. The output has not to be clean,
the worst it will look, the better in my poetical mind...

But I understant that nobody else can share my point of view...

--
        ,--._
      .'o    `-.__
      |     (~'   ~~--.__
      ),-.'  `. '' ,,    ~`-.
     //   \    ( ,,  ,, ''   `)    Thomas Baruchel
    //     `.   `. ,,  ,,'' .'
   //        ~.   `._,,   ,'  <baruchel(at)libertysurf.fr>
   '   _tb_    `-.___.,-~'
                   < <                  Brest
                   ~ ~

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.terminals
Message-ID: <908u61$n99$1@news1.Radix.Net>
References: <8vqvrv$b8p$1@news4.isdnet.net>
    <906e46$2cb4$1@news4.isdnet.net> <3A274EB7.1A63659C@rdel.co.uk>
    <908d1n$glp$1@news2.isdnet.net>
Date: 1 Dec 2000 19:29:05 GMT
Organization: RadixNet Internet Services
From: Thomas Dickey <dickey%saltmine.radix.net>
Subject: Re: was : [termcap or terminfo] how to know what's on the screen ?

Thomas Baruchel <baruchel%libertysurf.france> wrote:
> Le Fri, 01 Dec 2000 07:09:43 +0000, Paul Williams a écrit :
>>I have to admit that I don't understand why you've rejected ncurses as a
>>way forward, when you are trying to manage the screen to a degree that
>>seems to make curses essential.

> for a very stupid purpose...

> I want my program to handle with the previous garbage already on the screen.
> Why ? I don't know ? Because I like to see en the screen all the
>   cd /something/
>   ls
> just above the beginning of my program. The output has not to be clean,
> the worst it will look, the better in my poetical mind...

...but in general, you can't do that:  restore the original contents of the
display.  (If you are really ambitious, it would be possible - I think - to
modify the 'screen' program to interpret extra control sequences and implement
this).

--
Thomas E. Dickey <dickey@radix.net> <dickey@herndon4.his.com>
http://dickey.his.com/
 ftp://dickey.his.com/

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.terminals
Message-ID: <UNr86.137201$w35.23788486@news1.rdc1.nj.home.com>
References: <93t16e$skn$1@nnrp1.deja.com>
Date: Mon, 15 Jan 2001 00:48:52 GMT
NNTP-Posting-Host: 24.13.83.35
From: "dls2" <dlshearer@home.com>
Subject: Re: Favorite terminal cards?

<justin@haynes.net> wrote:
> I hope one or hopefully more of you will be able to spend a
> couple of minutes on this one:
>
> I enjoy the idea of having terminals all over the house.  I have
> a DECWriter III that works well, and I would like to get some
> VT100 or better terminals to have in different rooms, but I
> like to have at least 2 com ports free on my PC.

Why?  What purpose do unused COM ports serve?

> If any of you had a PC running Linux, FreeBSD, or whatever,
> and you wanted it to handle 16 - 32 terminals, what solution
> would you choose?  Do any of you have a favorite card, or a
> supplier who you would recommend?

First, I would recommend reading relevant Linux HOWTOs.

http://www.linux.com/howto/HOWTO-INDEX/howtos.html

    Linux Hardware Compatibility HOWTO
        10. Controllers (I/O)
        11. Controllers (multiport)
        12. Network adapters
    Serial HOWTO
        5. Multiport Serial Boards/Cards/Adapters
    Text-Terminal-HOWTO

Second, I would consider if the cost and effort are worthwhile.

Third, I would consider an ethernet based terminal server,
as opposed to a multiport, RS-232, serial, I/O card.

> I'm not new to the idea of terminals and RS-232, but I don't
> know about the hardware that handles lots of terminals.

http://www.cdw.com/shop/search/results.asp?key=multiport
http://www.cdw.com/shop/search/results.asp?key=terminal+server


  --  Derrick Shearer

 //////////////////////////////////////////////////////////////////////////////

 Newsgroups: swnet.unix
 Date: 2000-12-15 15:46:47 PST 
 From: Berndtson ,M (ma5065ts@gm413x.li)
 Subject: Re: agetty 

On Thu, 14 Dec 2000 18:01:37 +0100, wiss@eelwing.arda (Jonas Wissting)
-The patron of swnet.unix - squeaked : 

>Hej
>
>Har en slack7.1 på en 486 med en terminal (FACIT 4431) och kärnan och
>lilo med console -> ttyS0.  I inittab har jag raden:
>s1:1235:respawn:/sbin/agetty -h -f /etc/issue.ansi 19200 ttyS0 vt100
>
>Nu vill jag ju inte ha terminalen på hela tiden, men om jag stänger av
>den och sen slår på den fattar inte agetty detta och vad värre är
>kommer det bara en massa konstiga tecken till terminalen, olika ljusa
>fyrkanter, så är det tills man får igång en ny getty, antingen genom
>login-timeout, logga in och logga ut, eller "killall agetty" (från
>annan burk)
>
>Vad är det som går fel, vad kan man göra åt det?


Kan det funka att ge den ett 'break'  (^U)  ?
startar terminalen alltid upp i 19200?

/Mats

-- 

Hall av berömmelse; bäst översatta datatermer ?

* Demonen för svåra fel.
* Anonymt rör.
* * * MER ATT KOMMA * * * 

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.unix.solaris
Organization: University of Giessen, Germany
References: <98537k$38$1@piggy.rz.tu-ilmenau.de>
Message-ID: <3AA63422.E1614ABD@informatik.med.uni-giessen.de>
Date: Wed, 07 Mar 2001 14:14:10 +0100
From: Roland Mainz <roland.mainz@informatik.med.uni-giessen.de>
Subject: Re: Xserver

Bernd Hildenbrandt of Ilmenau Technical University wrote:

> who can tell me how can I start the Xserver on an Enterprise-server without
> a graphic-card?

It's a little bit unclear what do you want...

a) Do you want a headless Xserver ? See Xvfb [1]

b) Do you want to log-in remote via xdm/dtlogin ? See dtlogin(1X) and
  /etc/init.d/dtlogin

c) xdm/dtlogin are running - you need a Xserver on another machine...
   see http://www.wiredx.net/ or Hummingbird's Exceed
   (http://www.hummingbird.com/products/) and many others...

[1]=Xnest/Xvfb/xsm/twm binaries for Solaris 7/8 SPARC:

http://puck.informatik.med.uni-giessen.de/download/GISWxwplt-sparc.tar.gz

-- 
Bye,
Roland

-- 
  __ .  . __
 (o.\ \/ /.o) Roland.Mainz@informatik.med.uni-giessen.de
  \__\/\/__/  gisburn@informatik.med.uni-giessen.de
  /O /==\ O\  MPEG specialist, C&&JAVA&&Sun&&Unix programmer
 (;O/ \/ \O;) TEL +49 641 99-41370 FAX +49 641 99-41359

 //////////////////////////////////////////////////////////////////////////////


Date: 4 Apr 2001 14:27:14 GMT
Organization: Columbia University
Newsgroups: comp.terminals, comp.protocols.kermit.misc
Message-ID: <9afb02$ih8$1@newsmaster.cc.columbia.edu>
From: Frank da Cruz <fdc@watsun.cc.columbia.edu>
Subject: Re: Linux to SCO terminal emulator

In article <slrn9club2.lo5.harri@tolppa.kotisivupalvelu.fi>,
Harri Haataja <harri@tolppa.kotisivupalvelu.fi> wrote:
:
: AFAIK, cu is a part of UUCP which is a rare installation nowadays.
: There seem to be little terminal emulators available because most of
: the time it makes little or more likely absolutely no sense. xterm or
: console or whatever you might be running (termcap most likely xterm or
: linux) should work and kermit is very good at getting over serial
: lines.
: 
: As for the original issue, f-keys should be passed to the terminal
: or active xterm or whatever unless something filters them out. Then
: it's a matter of many different components wheather the odd character
: sequence gets to the other end intact. The "scancodes directly over
: tcp" sounds very odd. You might even be looking for netcat?
: 

UNIX is not Windows or DOS.  How is a UNIX-based software program
supposed to access the keyboard directly to get Make/Break (Up/Down)
events?  This information is simply not available to user-mode
applications.  Applications (other than X or the console driver) do not
have direct access to the video adapter, mouse, and keyboard, nor should
they.

Remember that an advantage of UNIX over DOS and Windows is that UNIX
is a multiuser, multitasking operating system, not a single-user system
designed only for use on a PC, from the PC's own physical keyboard and
screen.  UNIX users can come in over the console, through X, through a
serial port, a Telnet connection, an Rlogin connection, etc etc, and
there can be any number of them at once.  The price you pay for this
flexibility is that applications can't access the hardware directly.

These days, UNIX (Linux) is a general-purpose multiser OS that
everybody is trying to turn into a single-user PC operating system like
Windows, and at the same time Windows is a single-user PC operating
system that everybody is trying to turn into a general-purpose
multiuser operating system.  Each one is best at what it was originally
designed for.  If you want a platform for which high-performance
terminal emulators are available, you're better off with Windows.  If
you want a platform that is generally useful, programmable, relatively
secure, and supports multiple users coming in from a variety of sources
from a variety of different platforms using non-propriatry methods,
you're better off with UNIX.

Of course most people want or need both, which results in many of us
with two workstations on our desks, or booting back and forth between
two OS's, or running DOS or Windows emulators under UNIX so we can have
a terminal emulator.

- Frank

 //////////////////////////////////////////////////////////////////////////////


Newsgroups: comp.unix.solaris
Date: Wed, 30 May 2001 10:05:35 -0400
Organization: Eastman Kodak Company
References: <20010529222949.01991.00001861@ng-fq1.aol.com>
Message-ID: <3B14FE2F.C6E257BC@kodak.com>
From: Mathew Kirsch <kirsch@kodak.com>
Subject: Re: dumb terminal problem

Squall8FF8 wrote:
> 
> i just got a new sun server and i got a wise dumb terminal off ebay last week
> im havin alot of problems trying to learn solaris. first of all i had to hyper
> terminal in so it was all command line. once i got the dumb terminal i hooked
> it up and it started spitting characters at me. it doesnt do anything right
> just displays fonts and crap. what is wrong with the thing??? also is there a
> way i can just hyper terminal in and do a remote x session or something?
> That'd work if the dumb termianl doesnt. someone please help!!!


The serial settings on the dumb terminal must match the serial settings on the
Sun workstation. Default settings on the Sun are 9600bps, 8 data bits, 1 stop
bit, no parity (9600, 8N1), and probably have not been changed. Make sure the
Wyse terminal is using these settings.

You may wish to reset the OpenBoot settings so the Sun's serial ports are
using their default settings. Press Stop and A together to get to the ok
prompt, and type "set-defaults", then "reset".

Also, you need a NULL MODEM cable to make the connection between the A port on
the Sun and the dumb terminal. A straight through cable with a null modem
adapter will also work perfectly fine.



 //////////////////////////////////////////////////////////////////////////////

Date: Tue, 12 Jun 2001 09:00:25 +0100
Organization: Lucent Technologies
Newsgroups: comp.sys.hp.hpux, comp.sys.hp.misc, comp.terminals
Message-ID: <3B25CC19.2AD1F185@lucent.com>
From: Duncan Rance <drance@lucent.com>
Subject: Resizing a terminal window.

Hi,

I'm writing a curses application under HP-UX 11 and I'm trying to get the
terminal window to resize when I get a SIGWINCH signal.

I've tried reading from the terminfo database and I've also tried doing an eval
of the resize command from a system() call. The problem is that the values I
get
are _always_ the same as when the app. was started -- they never change!

Anyone got any bright ideas about how to do this? I can re-size vi during
execution but I just found out that it uses ioctl calls which I don't want to
get into!

Thanks,
Duncan

 //////////////////////////////////////////////////////////////////////////////
Date: 12 Jun 2001 09:09:08 GMT
Organization: RadixNet Internet Services
Newsgroups: comp.sys.hp.hpux, comp.sys.hp.misc, comp.terminals
Message-ID: <9g4m7k$6jf$1@news1.Radix.Net>
From: Thomas Dickey <dickey@saltmine.radix.net>
Subject: Re: Resizing a terminal window.

In comp.terminals Duncan Rance <drance@lucent.com> wrote:
> Hi,

> I'm writing a curses application under HP-UX 11 and I'm trying to get the
> terminal window to resize when I get a SIGWINCH signal.

is it documented for HPUX 11?  (much older versions could - supposedly - handle
SIGWINCH, though I tried testing & did not see it work).  It works for ncurses
(ymmv).

The current version of ncurses is 5.2 (20001021)
There's an faq at
        http://dickey.his.com/ncurses/ncurses.faq.html

-- 
Thomas E. Dickey <dickey@radix.net> <dickey@herndon4.his.com>
http://dickey.his.com/
 ftp://dickey.his.com/

 //////////////////////////////////////////////////////////////////////////////

Date: Tue, 12 Jun 2001 10:30:00 +0100
Organization: Lucent Technologies
Newsgroups: comp.sys.hp.hpux, comp.sys.hp.misc, comp.terminals
Message-ID: <3B25E118.A95FB513@lucent.com>
From: Duncan Rance <drance@lucent.com>
Subject: Re: Resizing a terminal window.

Thomas Dickey wrote:
> 
> In comp.terminals Duncan Rance <drance@lucent.com> wrote:
> > Hi,
> 
> > I'm writing a curses application under HP-UX 11 and I'm trying to get the
> > terminal window to resize when I get a SIGWINCH signal.
> 
> is it documented for HPUX 11? 

No, it doesn't appear to be. I found out about SIGWINCH from somewhere else and
just tried it and it worked. But even though I can handle the signal, i can't
get the latest terminal size parameters. Do you knoe how to do this?

Thanks,
Duncan


 //////////////////////////////////////////////////////////////////////////////

Date: 13 Jun 2001 00:23:50 +0200
Organization: dynalabs Network Research Unit
Newsgroups: comp.sys.hp.hpux, comp.sys.hp.misc, comp.terminals
Message-ID: <x67kyhjqc4.fsf@eos.mii.dynalabs.de>
From: Michael Piotrowski <mxp@dynalabs.de>
Subject: Re: Resizing a terminal window.

Kevin Strietzel <kevin_strietzel@stratus.com> writes:

> Duncan Rance wrote: ...
> > I'm writing a curses application under HP-UX 11 and I'm trying to
> > get the terminal window to resize when I get a SIGWINCH signal.

> I don't know where resize gets its information.


resize(1) is an X utility, so you should be able to get the source
code from the standard X distribution and have a look.

Luckily, I don't currently need this, but I'm curious.  Is it possible
to get the *current* terminal size via terminfo?  As far as I know,
there's no capability for this.  On the other hand, "tput lines"
actually returns the correct number of lines in a dtterm (but "tput -T
dtterm lines" doesn't).  Furthermore, curses(3) says:

   All curses routines except the min-curses subset provide SIGWINCH
   support.  Applications that are linked with curses routines
   immediately redraw the screen in response to window size changes.
   The environmental variables LINES and COLUMNS are also updated so
   that children processes work with the correct window size.

Where does curses get that information from?

-- 
Michael Piotrowski, M.A.                                  <mxp@dynalabs.de>

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.sys.hp.hpux
References: <8gvq8r$3ark$1@stargate1.inet.it>
Date: Wed, 31 May 2000 01:10:02 GMT
Organization: Not Organized
Message-ID: <393466A8.F1635DC5@earthlink.net>
From: John Pezzano <jpezz@earthlink.net>
Subject: Re: Problem with terminal

gix wrote:
>
> When I login the text consol I get a message that the terminal type has not
> been found.
> Why dose  this happen?
> What can I do to solve the problem?
> --
> Sandro Ginnari
> TSE
> Net Engineering Consulting

type "ttytype -s" ands see what terminal type is being returned by the
terminal. You should have a terminal type in /usr/lib/terminfo/* that
matches it.


 //////////////////////////////////////////////////////////////////////////////

    "ttytype" is a command in HP/UX Unix to identify the terminal type
    by sending various ID-request codes to the terminal.

    It probes in this sequence:

    1.  Wyse 30/50/60 ID request
    2.  ANSI X3.64 ID request (works with xterm and VT100)
    3.  HP ID request

    If no response is received to any of the above probes, ttytype
    prompts the user interactively for the correct terminal type.

    Options:

    -s      try using shell commands to set TERM, LINES, COLUMNS, and ERASE env

    -a      do not prompt user for terminal type after probe failure

    -p      prompt user before probing automatically

    -t <ansi|hp|wyse>  probe only for the specified terminal type

    -v      verbose messages to stderr

 //////////////////////////////////////////////////////////////////////////////


Newsgroups: comp.unix.solaris
NNTP-Posting-Host: 192.18.43.225
NNTP-Posting-Date: Wed, 20 Dec 2006 07:43:32 -0600
References: <1166609683.823293.211190@80g2000cwy.googlegroups.com>
Message-ID: <xoavmz5iwufx.fsf@sun.com>
Organization: Sun Microsystems
Date: 20 Dec 2006 08:47:14 -0500
From: James Carlson <james.d.carlson@sun.com>
Subject: Re: terminal controle

"Sree" <sreekanth_aakar@yahoo.co.in> writes:
>
> I am new to solaris, is there any way on Solaris to determine if login
> from a terminal is permitted ?
>
> Is there any terminal control configuration file available?? What I
> mean to say is some thing similar to ttys on HP-UX, please take a look
> at the following link,
>
> http://docs.hp.com/en/B2355-60127/ttys.4.html


Pretty much anything that starts with "/tcb/" in HP's documentation is
going to be proprietary to HP.  You don't need to post each HP man
page individually to this group.

Instead, I'd _highly_ recommend taking the time to read through the
extensive documentation available in the Solaris man pages and at

    http://docs.sun.com/

There's quite a lot available.

With a simple Google search, I also found this:

    http://www.sun.com/datacenter/migration/hpux/

As for this particular file, I don't know of anything that's directly
comparable on Solaris.  However, auditing (see bsmconv and related man
pages) comes close, as does /etc/default/login.

The right answer for proprietary features is to step back and look at
the overall problem being solved, and then map those requirements into
the features the new system provides.  Trying to translate a
configuration line-by-line is just fraught with error.

-- 
James Carlson, KISS Network                    <james.d.carlson@sun.com>
Sun Microsystems / 1 Network Drive         71.232W   Vox +1 781 442 2084
MS UBUR02-212 / Burlington MA 01803-2757   42.496N   Fax +1 781 442 1677


 //////////////////////////////////////////////////////////////////////////////

Date: 13 Jun 2001 00:37:35 GMT
Organization: RadixNet Internet Services
Newsgroups: comp.sys.hp.hpux, comp.sys.hp.misc, comp.terminals
Message-ID: <9g6ckf$6tt$1@news1.Radix.Net>
From: Thomas Dickey <dickey@saltmine.radix.net>
Subject: Re: Resizing a terminal window.

In comp.terminals Kevin Strietzel <kevin_strietzel@stratus.com> wrote:

> I don't know where resize gets its information.

resize tries the ioctl's and as a fallback may use the cursor position
report (escape sequence).

> You might try ioctl(2), as documented in termio(7), to find the new
> size.  I haven't tried it.  If that fails, I dunno.  Maybe the CDE
> programming guide (does one exist?) tells.

-- 
Thomas E. Dickey <dickey@radix.net> <dickey@herndon4.his.com>
http://dickey.his.com
ftp://dickey.his.com

 //////////////////////////////////////////////////////////////////////////////

Date: 13 Jun 2001 00:40:07 GMT
Organization: RadixNet Internet Services
Newsgroups: comp.sys.hp.hpux, comp.sys.hp.misc, comp.terminals
Message-ID: <9g6cp7$6tt$2@news1.Radix.Net>
From: Thomas Dickey <dickey@saltmine.radix.net>
Subject: Re: Resizing a terminal window.

In comp.terminals Michael Piotrowski <mxp@dynalabs.de> wrote:

> Luckily, I don't currently need this, but I'm curious.  Is it possible
> to get the *current* terminal size via terminfo?  As far as I know,

no - terminfo is static (at least all of the implementations I've seen are)


> there's no capability for this.  On the other hand, "tput lines"
> actually returns the correct number of lines in a dtterm (but "tput -T
> dtterm lines" doesn't).  Furthermore, curses(3) says:

>    All curses routines except the min-curses subset provide SIGWINCH
>    support.  Applications that are linked with curses routines
>    immediately redraw the screen in response to window size changes.
>    The environmental variables LINES and COLUMNS are also updated so
>    that children processes work with the correct window size.

> Where does curses get that information from?


it has to establish a SIGWINCH handler (so it knows when the screen size
changes), and then uses ioctl's to retrieve the information.

-- 
Thomas E. Dickey <dickey@radix.net> <dickey@herndon4.his.com>
http://dickey.his.com
ftp://dickey.his.com

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.unix.solaris
Message-ID: <9kmgdf$2e60$6@agate.berkeley.edu>
References: <d2dbefe8.0108060819.307232f4@posting.google.com>
Date: Mon, 6 Aug 2001 16:25:19 +0000 (UTC)
From: Alan Coopersmith <alanc@alum.calberkeley.org>
Subject: Re: telnet reading other user's login env - help

cp_chong@hotmail.com (crs720) writes in comp.unix.solaris:
|
|I'm having a problem where telneting into one of our Sun user machines
|(Ultra 10) is sourcing some other environment variable data from other
|than the login user's .profile.  I've checked the /etc/profile and
|/etc/passwd to make sure everything looks okay.  I also truss'd the
|inet.d process to see what was being executed on telnet login, but that
|appeared normal.


I had this happen once - did someone su to root and then start inetd?
If so, inetd captured their $USER variable and is passing it on to 
everyone else.  If this is the problem, the fix is easy:

        su -
        pkill inetd
        /usr/sbin/inetd -s

(or just reboot) and then make sure the person who restarted it knows
they should almost never need to do that on Solaris:

    pkill -HUP inetd

will make it re-read the inetd.conf file.

-- 
________________________________________________________________________
Alan Coopersmith                              alanc@alum.calberkeley.org
http://soar.Berkeley.EDU/~alanc/        aka: Alan.Coopersmith(at)sun.com
  Working for, but definitely not speaking for, Sun Microsystems, Inc.


 //////////////////////////////////////////////////////////////////////////////

Date: Mon, 06 Aug 2001 20:27:40 GMT
Organization: SBC Internet Services
Newsgroups: comp.unix.solaris
Message-ID: <05Db7.116$Dv4.71506@news.pacbell.net>
References: <d2dbefe8.0108060819.307232f4@posting.google.com>
    <9kmgdf$2e60$6@agate.berkeley.edu>
From: Darren Dunham <ddunham@redwood.taos.com>
Subject: Re: telnet reading other user's login env - help

cp_chong@hotmail.com (crs720) writes in comp.unix.solaris:
> |I'm having a problem where telneting into one of our user machines
> |(Ultra 10) is sourcing some other environment variable data from other
> |than the login user's .profile. 


It is almost certainly using an existing environment (that of inetd)
rather than sourcing a file.

> |I've checked the /etc/profile and /etc/passwd to make sure everything
> |looks okay.  I also truss'd the inet.d process to see what was being
> |executed on telnet login but that appeared normal.

Find the PID of inetd and do...
/usr/ucb/ps eww <PID>

If you have a USER variable defined, that's bad.

> I had this happen once - did someone su to root and then start inetd?
> If so, inetd captured their $USER variable and is passing it on to 
> everyone else.  If this is the problem, the fix is easy:
>       su -
>       pkill inetd
>       /usr/sbin/inetd -s

Nope.  You'll change the USER, but it will still exist...

> (or just reboot) and then make sure the person who restarted it knows

> they should almost never need to do that on Solaris - kill -HUP will
> make it re-read the inetd.conf file.

Great advice.  Don't kill inetd unless extremely necessary.  

To fix without rebooting though, start it like this...

/usr/bin/env -i PATH=/usr/sbin:/usr/bin TZ=US/Pacific /usr/sbin/inetd -s

Replace TZ with your proper timezone, obviously.


-- 
Darren Dunham                                           ddunham@taos.com
Unix System Administrator                    Taos - The SysAdmin Company
Got some Dr Pepper?                           San Francisco, CA bay area
          < How are you gentlemen!! Take off every '.SIG'!! >


 //////////////////////////////////////////////////////////////////////////////


Newsgroups: comp.sys.sun.admin
Message-ID: <3B81A459.4EBC487@stealth-cow.freeserve.co.uk>
Organization: stealth-cow
Date: Tue, 21 Aug 2001 00:59:21 +0100
From: Liz Maidment <liz@stealth-cow.freeserve.co.uk>
Subject: Sunos 4.2.1 install on an IPX with serial console

Hi folks...

I'm trying to install Solaris 1.2.1 from CD onto a Sun IPX workstation.
The console is via ttya and the terminal is linux / minicom, or solaris
intel and tip.

vmunix boots, it sets root usr dump devices, and then my terminal goes
screwy with odd characters, LF with no CR, you know the sort of thing.

It looks like it's asking me for install options, but no way to
understand or respond :-(

It happens identically using minicom or tip or cu.

Any thoughts?

-- 
http://www.stealth-cow.freeserve.co.uk
Liz Maidment


 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.sys.sun.admin
Message-ID: <9ltjkq$1d4$1@news.panix.com>
References: <3B81A459.4EBC487@stealth-cow.freeserve.co.uk>
Organization: I have a map of the United States that's actual size
Date: 21 Aug 2001 12:19:38 GMT
From: Greg Andrews <gerg@panix.com>
Subject: Re: Sunos 4 on an IPX serial


Switch your terminal program to 7 data bits, even parity.

  -Greg
-- 
+++++ Greg Andrews +++ gerg@panix.com +++++

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.sys.sun.admin
Message-ID: <3B82D398.BF302EBA@stealth-cow.freeserve.co.uk>
References: <3B81A459.4EBC487@stealth-cow.freeserve.co.uk>
    <9ltjkq$1d4$1@news.panix.com>
Organization: stealth-cow
Date: Tue, 21 Aug 2001 22:33:12 +0100
From: Liz Maidment <liz@stealth-cow.freeserve.co.uk>
Subject: Re: Sunos 4 on an IPX serial

Well blow me it worked ;-)

Many thanks, but where does that come from?
The IPX defaults to 8N1... I assume this is
a historical artefact? were old Sun terminals
7 bit?

Anyways that got me going so Cheers!

-- 
http://www.stealth-cow.freeserve.co.uk
Liz Maidment


 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.sys.sun.admin
Message-ID: <9lukvb$8mj$1@news.panix.com>
References: <3B81A459.4EBC487@stealth-cow.freeserve.co.uk>
    <9ltjkq$1d4$1@news.panix.com>
    <3B82D398.BF302EBA@stealth-cow.freeserve.co.uk>
Organization: I have a map of the United States that's actual size
Date: 21 Aug 2001 21:48:27 GMT
From: Greg Andrews <gerg@panix.com>
Subject: Re: Sunos 4 on an IPX serial

>The IPX defaults to 8N1... I assume this is
>a historical artefact? were old Sun terminals 7 bit?

No, SunOS 4.x was based on 4.1 BSD Unix, which had a heavy
bias toward using 7E1 on serial ports.

  -Greg
-- 
+++++ Greg Andrews +++ gerg@panix.com +++++


 //////////////////////////////////////////////////////////////////////////////


Newsgroups: comp.terminals
Date: Sun, 23 Sep 2001 11:11:38 GMT
Organization: Guest of ProXad - France
Message-ID: <emfko9.ou3.ln@siffly.nicolas.fr>
From: Nicolas Ecarnot <nico@siffly.nicolas.fr>
Subject: Minix terminals on linux server

Hello,

I'm trying to use an old 286 as a terminal for a recent linux server.
I already succeed in linking them, and they are discussing ;o)
In fact, I'm typing this message with my minix terminal.

My problem is that they are many many programs that don't want to start when
they see that $TERM=minix. They all agree
when $TERM=vt100.


Do thoses programs refuse to start because they don't find the minix entry in
the terminfo database (though it exists in
the termcap one), or because it's hard coded in each program that some
terminals will work, and not the others ?

I have many other questions about this subject, but I'll first wait for the
answer to this question ;o)


 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.terminals
Message-ID: <slrn9qt0ur.15l.mdalene@pinkrose.local.net>
References: <emfko9.ou3.ln@siffly.nicolas.fr>
Date: Mon, 24 Sep 2001 00:52:59 GMT
From: B'ichela <mdalene@pinkrose.local.net>
Subject: Re: Minix terminals on linux server

On Sun, 23 Sep 2001 11:11:38 GMT, Nicolas Ecarnot
<nico@siffly.nicolas.fr> wrote:
>Do thoses programs refuse to start because they don't find the minix entry in
the terminfo database (though it exists in
>the termcap one), or because it's hard coded in each program that some

> terminals will work, and not the others ?


 The first reason. you need to make a minux terminfo defination
file. One fast way is with a command called captoinfo. This takes the
/etc/termcap file and via standard output converts it to a terminfo
file that can be compiled with tic. Heres the steps I would use

captoinfo >raw.ti.file
vi raw.ti.file 

in the above you want to cut out the crap you don't need. Thus you
keep the MInux enteries
tic raw.ti.file
this now compiles the terminfo entries for the minix terminal types.


-- 

                        B'ichela

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.terminals
Message-ID: <9ol40b$e8s$1@news1.Radix.Net>
References: <emfko9.ou3.ln@siffly.nicolas.fr>
    <Pine.LNX.4.33.0109231424520.1270-100000@mayday.local>
Date: 23 Sep 2001 16:52:27 GMT
From: Thomas Dickey <dickey@saltmine.radix.net>
Subject: Re: Minix terminals on linux server

Robert de Bath <robert$1@mayday.cix.co.uk> wrote:
> It's very unliky that any linux program has a minix terminfo compiled in.

it's also unlikely that minix is absent from the terminfo database on
Linux.

> Nowadays it's usual to generate any required termcap entry 'on the fly'
> from the terminfo during login by including the line:

> export TERMCAP="`infocmp -C`"

doesn't work for me with bash 2.05 (perhaps the embedded newlines break it).

-- 
Thomas E. Dickey <dickey@radix.net> <dickey@herndon4.his.com>
http://dickey.his.com
ftp://dickey.his.com

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.terminals
Message-ID: <Pine.LNX.4.33.0109232123440.1270-100000@mayday.local>
References: <emfko9.ou3.ln@siffly.nicolas.fr>
    <Pine.LNX.4.33.0109231424520.1270-100000@mayday.local>
    <9ol40b$e8s$1@news1.Radix.Net>
Date: Sun, 23 Sep 2001 21:42:59 +0100
To: Thomas Dickey <dickey@saltmine.radix.net>
From: Robert de Bath <robert$1@mayday.cix.co.uk>
Subject: Re: Minix terminals on linux server

On 23 Sep 2001, Thomas Dickey wrote:

> Robert de Bath <robert$1@mayday.cix.co.uk> wrote:
> > It's very unliky that any linux program has a minix terminfo compiled in.
>
> it's also unlikely that minix is absent from the terminfo database on
> Linux.

Actually Debian puts it into the 'Additional terminals' package so on a
default install it _is_ absent. (Package ncurses-term is needed.)


> > Nowadays it's usual to generate any required termcap entry 'on the fly'
> > from the terminfo during login by including the line:
>
> > export TERMCAP="`infocmp -C`"
>
> doesn't work for me with bash 2.05 (perhaps the embedded newlines break it).

It or the equlivent:

export TERMCAP ; TERMCAP="`infocmp -C`"

will work with any bourn compatible shell, if it doesn't the shell is
severly broken, it works with bash, perhaps you're using the wrong quotes
or you haven't set the TERM variable first. (I assume _you_ will be using
ncurses :-)

-- 
Rob.                          (Robert de Bath <robert$ @ debath.co.uk>)
                                       <http://www.cix.co.uk/~mayday>


 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.terminals
Message-ID: <Pine.LNX.4.33.0109250713290.22221-100000@mayday.local>
Date: Tue, 25 Sep 2001 07:37:17 +0100
Organization: Mayday Technology Ltd
From: Robert de Bath <robert$1@mayday.cix.co.uk>
Subject: Re: Minix terminals on linux server

On Mon, 24 Sep 2001, Nicolas Ecarnot wrote:

> Dans comp.terminals, vous disiez :
> >
> >Eric Raymond has the master terminfo list at:
> >   http://www.tuxedo.org/terminfo
>
> Ok, I got it from there, I recompiled the minix part, and it's working quite
>  fine, so : THANK YOU guys !
>
> I see your giving me the terminfo description, and I have a question :
> When running a 'vi' under pure minix os, there are some keys that works, like
> the 'delete' key. On minix, the system is
> still based on termcap, and the termcap entry for the delete key is kD=\177
>
> When getting back to my linux server, with minix as a terminal, the delete
> key does not work anymore, and acts as the
> backspace key.
>
> So I added kdch1=\177 in the terminfo.src file, recompiled and tested, but it
> did not work much more.


Linux defaults to using DEL as the erase character; this functionality is
much older than termcap and is normally controlled with stty.  Sometimes
its setup from terminfo in the .profile, in which case you may want/need
just these codes in your terminfo:

    kbs=^H, kdch1=\177,

If not you also need to do a:

    stty erase ^H

in your .profile (.bash_profile, /etc/profile, .cshrc or whatever)
but only for the minix terminal. You could try instead:

  export ERASE
  [ "$ERASE" = "" ] && ERASE="`tput kbs 2>/dev/null | cat -v`"
  [ "$ERASE" = "" ] && ERASE="^H"
  stty intr '^C' erase "$ERASE"
After the terminal type is set.

> As I'm french, I ask the same question for the letters with accents.

This should be setup by default, there are several thing that could be
going wrong though. My first guess would be that you're using kermit
and it's in its default 7-bit mode; put this in your minix .kermrc

  set terminal bytesize 8

If that doesn't work what do you get when you try these:

   stty -a

   echo $LANG

   echo 'é' | od -b

(That's an e-acute between the quotes, just try to type it and don't
 worry if it looks wrong)

-- 
Rob.                          (Robert de Bath <robert$ @ debath.co.uk>)
                                       <http://www.cix.co.uk/~mayday>


 //////////////////////////////////////////////////////////////////////////////


Date: Thu, 2 May 2002 16:37:08 -0400
Message-ID: <15569.41844.18594.629809@gargle.gargle.HOWL>
References: <3CD1A0F6.48CA04A0>
To: Jane
From: James Carlson
Subject: Re: How to set ENV $LANG in Solaris 8?

Jane writes:
> When I directly logon to a Solaris 8 box, $LANG is set to 'C'. 
> However, when I telnet to it from a remote machine, $LANG is 'zh.UTF-8'.

What is in /etc/default/init?

> I wonder where this ENV $LANG is set. According to UNIX manuals, it is set
> in /etc/dt/config/Xconfig file. However, there is no such file in my system
> (no subdir 'dt' under /etc). I only see /usr/dt/config/Xconfig, but I can
> not find where $LANG is set in /usr/dt/config/Xconfig.

Those don't affect telnetd; only the X Window System.

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.terminals
References: <9pa0an$sfm$1@s1.read.news.oleane.net>
Message-ID: <9pa5ha$dqa$1@odin.john-richard.co.uk>
Organization: John Richard & Company (Software) Ltd.
Date: Mon, 01 Oct 2001 16:27:22 GMT
From: Ian Peattie <ian@john-richard.co.uk>
Subject: Re: I need SCO-UNIX codes

In article <9pa0an$sfm$1@s1.read.news.oleane.net>, "Funky29"
<funky__29@hotmail.com> wrote:

>I am trying to write a telnet emulation under windows but i'm not finding
>sco-ansi codes.
>Server is a PC with SCO Openserver V5.
>
>Please can you tell me where can i find it.

On the OS5 system, "man screen".

Or online at http://osr5doc.sco.com:457/cgi-bin/man/man?screen+HW

   Ian.

-- 
Ian Peattie                             ian@john-richard.co.uk
Edinburgh, Scotland.


 //////////////////////////////////////////////////////////////////////////////

A discussion of "mapchan" code translation in SCO Unix appears at:

    http://aplawrence.com/Bofcusm/1435.html

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.terminals
References: <9puter$8jj$1@wanadoo.fr>
Message-ID: <9puu8n$8go$1@pegasus.csx.cam.ac.uk>
Organization: University of Cambridge, England
Date: 9 Oct 2001 13:32:07 GMT
From: Ben Harris <bjh21@cus.cam.ac.uk>
Subject: Re: How can GPM know which character is on the screen ?

In article <9puter$8jj$1@wanadoo.fr>,
Thomas Baruchel <baruchel%libertysurf.fr> wrote:
>
> I wondered some months ago if it was possible to know "what is already
> on the screen" in order to write (as an exercise) a small screen-dump
> program. I was answered that since a terminal is actually
> a "terminal", there was no general way to get back which character
> is (for instance) on the upper left corner on the screen.
> The only way was to look in the video-RAM.
> 
> But I wonder if 'gpm' does that, since it seems to be a "clean"
> program. Could someone tell me how gpm does to know which character
> is on the upper left corner if I select this corner and then do
> a copy/paste ?


It seems to use the TIOCLINUX ioctl.  Look in gpm.c at the functions 
selection_copy() and selection_paste().  TIOCLINUX is documented in 
console_ioctl(4).

-- 
Ben Harris
Unix Support, University of Cambridge Computing Service.
  If I wanted to speak for the University, I'd be in ucam.comp-serv.announce.


 //////////////////////////////////////////////////////////////////////////////


From ratan@cup.hp.com.remove-me Fri Oct 12 17:38:13 2001
Newsgroups: comp.terminals
References: <Pine.LNX.4.33.0110051126540.15083-100000@harmony.arbitrary.org>
Message-ID: <FMsx7.5258$gT6.3519716@news1.rdc1.sfba.home.com>
Organization: x
Date: Fri, 12 Oct 2001 02:42:45 GMT
From: Ratan Nalumasu <ratan@cup.hp.com.remove-me>
Subject: Re: Color in HP-UX?

According to Joseph Santaniello  <someone@_no-spam_arbitrary.org>:
> Hi All,
> 
> Can anyone point me in the right direction for getting color to work when
> I telnet/ssh into my HP-UX box? I generally use gnome-terminal or xterm
> from a Linux box, and I've become addicted to color syntax hilighting in
> vim!

VIM help pages have the following information (and it works).
The sequence '^[' is a real hard escape--entered by control-V, escape
sequence in Vi.
-----------------
if &term == "builtin_gui" || &term=="xterm-rxvt" || exists('$COLORTERM')
    if has("terminfo")
      set t_Co=8
      set t_Sf=^[[3%p1%dm
      set t_Sb=^[[4%p1%dm
    else
      set t_Co=8
      set t_Sf=^[[3%dm
      set t_Sb=^[[4%dm
    endif
    syntax on
endif
-----------------


- ratan
-- 
			  Not speaking for HP.
Rules of programming:
    #1: "Be liberal in what you accept and restrictive in what you create."

 //////////////////////////////////////////////////////////////////////////////


Newsgroups: comp.terminals
References: <9s0cgo$10dmgq$2@ID-1927.news.dfncis.de>
    <9s1ur6$i81$4@dos.canit.se>
Message-ID: <9s2ruk$10kps8$2@ID-1927.news.dfncis.de>
Organization: Me, Myself & I
Date: Sun, 04 Nov 2001 08:49:37 +0100
From: Gunther Schmidt <g.schmidt@bigfoot.com>
Subject: Re: Wyse WY-60 with Linux

Iggy Drougge wrote:

>: When I switch to 19200 or 38400 with the proper line in /etc/inittab
>: and restart init with the -q switch, 'stty -F /dev/ttyS1' tells me
>: "speed 9600 baud".
>
>: What's wrong and how can I fix it?
>
>Have you set the terminal to the correct speed as well?


Yes, the terminal is set to the same speed. - But now I have _serious_
problems: After some further testing the terminal doesn't work even at
9600 anymore :-( The last thing I did was "learning keys" in mc. No
matter what I try, I can't get a login prompt any longer.

But I have noticed that since the last tests I see the message "INIT:
Id "S1" respawning too fast: disabled for 5 minutes" on tty1, and it's
repeated over and over even when I don't press a key on the terminal's
keyboard. This message only stops when I disconnect the terminal.

I'm about to give up, because I've spend so much time already, and
there seems to be no equivalent for this effort.

Regards,

Gunther


 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.terminals
References: <9s0cgo$10dmgq$2@ID-1927.news.dfncis.de>
    <9s1ur6$i81$4@dos.canit.se> <9s2ruk$10kps8$2@ID-1927.news.dfncis.de>
    <3BE50976.799FCB35@tinyworld.co.uk>
Message-ID: <9s340e$10orrp$2@ID-1927.news.dfncis.de>
Organization: Me, Myself & I
Date: Sun, 04 Nov 2001 11:07:10 +0100
From: Gunther Schmidt <g.schmidt@bigfoot.com>
Subject: Re: Wyse WY-60 with Linux

Paul Williams wrote:
>
>Gunther wrote:
>> "INIT: Id "S1" respawning too fast: disabled for 5 minutes" on
>> tty1, and it's repeated over and over even when I don't press a
>> key on the terminal's keyboard. This message only stops when I
>> disconnect the terminal.
>
>This problem is discussed in the Text Terminal HOWTO:
>
>http://www.linuxdoc.org/HOWTO/Text-Terminal-HOWTO-18.html#ss18.6

Thank you very much - this did it! I've wrung the keyboard out ;-) and
now the problem's gone.

Regards,

Gunther



 //////////////////////////////////////////////////////////////////////////////


Newsgroups: comp.unix.solaris
Date: 16 Oct 2001 13:23:56 GMT
Message-ID: <9qhcdc$po9$1@news.panix.com>
References: <e2Vy7.25989$jz1.2535074@amsnews03.chello.com>
From: Greg Andrews <gerg@panix.com>
Subject: Re: Stop-A key when using tip hardwire

"Feisal Gaffar" <fgaffar@a2000.nl> writes:
>
>How can I get the Stop-A option when I connected remotely to another machine
>with tip hardwire
>


If the other machine is a Sun SPARC computer, AND that computer is
using its serial port as its console, then there are two options:

  1)  In your tip window, press Return, then Tilde (~), then period (.).
      This makes tip send an RS232 break signal, which has traditionally
      been the equivalent of the Stop-A keystroke when the console is
      a serial port.

  2)  In your tip window, press Return, then Tilde (~), then Control-B.
      This is the "alternate" abort sequence which can be selected on
      machines with up-to-date serial driver patches.


      [Sun calls this the "Alternate Break" sequence; see "man kbd".]


There are a number of reasons why a machine might not respond to a
break signal from tip:

  o Perhaps tip didn't send the break.  Be sure to press Return once
    or twice before pressing the Tilde.  This ensures tip will see the
    tilde keystroke as the start of a command, so it can obey your
    desire to send a break.

  o The other machine is not using its serial port as the console.
    Sending a break signal will only halt a machine if you're on the
    machine's console serial port.  If the machine has a Sun keyboard
    and monitor attached, the console is probably on the keyboard, not
    on the serial port.  You can send breaks into an ordinary serial
    port all day long, but they won't halt the machine.

  o The other machine is using a serial port as its console, but your
    cable is not plugged into that port.  Many Sparc machines have two
    serial ports.

  o The other machine is one of the server class machines, with a key
    switch, and the key switch is in the "locked" position.  You can do
    everything correctly, but when the key switch is locked, the machine
    will not halt when it receives a break signal.



  -Greg
-- 
+++++ Greg Andrews +++ gerg@panix.com +++++

 ..............................................................................

   [The E220R/E420R differ from most Sun Enterprise-class machines;
    a Break will be accepted even if the switch is set to "Locked".]

 ..............................................................................


Newsgroups: comp.unix.solaris
NNTP-Posting-Host: 2001:410:a010:2:203:baff:fe3a:98d
NNTP-Posting-Date: Thu, 14 Jan 2010 23:40:41 +0000 (UTC)
References:
    <9c2c1f56-56ee-4469-bf3a-90616a5275a3@c3g2000yqd.googlegroups.com>
    <hij6rl$dcb$1@reader1.panix.com>
    <6d333d83-af08-48ad-9f16-091b29f56d93@a32g2000yqm.googlegroups.com>
Message-ID: <hioa1p$fvv$1@Kil-nws-1.UCIS.Dal.Ca>
Organization: ISINet, Nova Scotia
Date: Thu, 14 Jan 2010 23:40:41 +0000 (UTC)
From: hume.spamfilter@bofh.ca
Subject: Re: send break via SSH and tip.

David Kirkby <drkirkby@gmail.com> wrote:
>
> ...get to a command line. The installer would have swallowed up any
> presses of enter. I think it accepts ESC-2, ESC-4 and perhaps ESC-5


That doesn't matter; tip sees the return go by and "perks up" looking
for a tilde.  If one doesn't come, it just drives on.

-- 
Brandon Hume    - hume -> BOFH.Ca, http://WWW.BOFH.Ca/



 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.terminals
References: <9s12es$7br$1@news5.svr.pol.co.uk>
Message-ID: <cb4ae19657c715cb@mayday.cix.co.uk>
Organization: Mayday Technology Ltd
Date: Wed, 7 Nov 2001 07:28:05 +0000
From: Robert de Bath <rd104097@mayday.cix.co.uk>
Subject: Re: Wyse WY185 Questions

On Sat, 3 Nov 2001, Trevor Wright wrote:

> I have a system which uses a Wyse Wy185 Terminal, I am looking for some
> terminal emulation software so that a PC can be connected to capture some
> reports.
>
> It has a different delete sequence.  ie "hello<olleh>hello" would be the
> result of typing hello, deleting it and then typing it again.


That is not a terminal emulation problem, it's the fallback that some UNIX
tty drivers use if the echo flags aren't setup properly with stty.

I _think_ you want
   stty echo


If that doesn't work you'll have to read up on 'man stty' on that machine.


> Could anyone tell me (or tell me how to find out), Port settings, baud rate
> etc. and anything else i may need to know.  Any links for instructions for
> this terminal would also be useful.
>
> Also any recommendations for reliable terminal emulation software preferably
> that can handle the delete sequence above, DOS based would be fine.


-- 
Rob.                          (Robert de Bath <robert$ @ debath.co.uk>)
                                       <http://www.cix.co.uk/~mayday>

 //////////////////////////////////////////////////////////////////////////////


Newsgroups: comp.terminals
References: <9s0cgp$10dmgq$4@ID-1927.news.dfncis.de>
Message-ID: <e15f68fcec1e5aa4@mayday.cix.co.uk>
Organization: Mayday Technology Ltd
Date: Wed, 7 Nov 2001 07:39:43 +0000
From: Robert de Bath <rd104097@mayday.cix.co.uk>
Subject: Re: Wyse WY-60, Linux and the return key

On Sat, 3 Nov 2001, Gunther Schmidt wrote:

> Hi!
>
> I have a Wyse WY-60 attached to a PC running SuSE Linux 6.3, and apart
> from the fact that I can't connect with speeds over 9600 it's running
> quite well. But I have some problems with the return key - it's not
> always recognized as such. For example in mc the return key brings a
> 'M' onto the screen, so I have to type Ctrl-M instead.
>
> How can I solve this problem?


This is a terminfo/termcap problem.

The host is putting the keypad into application mode, a very silly idea
from when terminals didn't have function keys. Application mode is
just a PITA on a unix system.

You'll probably want to start by removing the smkx and rmkx strings
   rmkx=\E[?1l\E>, smkx=\E[?1h\E=,

and adjusting the arrow key strings to ...
   kcub1=\E[D, kcud1=\E[B, kcuf1=\E[C, kcuu1=\E[A,

-- 
Rob.                          (Robert de Bath <robert$ @ debath.co.uk>)
http://www.cix.co.uk/~mayday


 //////////////////////////////////////////////////////////////////////////////


Newsgroups: comp.terminals
References: <9s0cgp$10dmgq$4@ID-1927.news.dfncis.de>
    <e15f68fcec1e5aa4@mayday.cix.co.uk>
Message-ID: <9sgpeh$319$4@news1.Radix.Net>
Organization: RadixNet Internet Services
Date: 9 Nov 2001 14:32:49 GMT
From: Thomas Dickey <dickey@saltmine.radix.net>
Subject: Re: Wyse WY-60, Linux and the return key

Robert de Bath <rd104097@mayday.cix.co.uk> wrote:
> On Sat, 3 Nov 2001, Gunther Schmidt wrote:

>> I have a Wyse WY-60 attached to a PC running SuSE Linux 6.3, and apart
>> from the fact that I can't connect with speeds over 9600 it's running
>> quite well. But I have some problems with the return key - it's not
>> always recognized as such. For example in mc the return key brings a
>> 'M' onto the screen, so I have to type Ctrl-M instead.
>>
>> How can I solve this problem?

> This is a terminfo/termcap problem.
> The host is putting the keypad into application mode, a very silly idea
> from when terminals didn't have function keys. Application mode is
> just a PITA on a unix system.
>
> You'll probably want to start by removing the smkx and rmkx strings
>    rmkx=\E[?1l\E>, smkx=\E[?1h\E=,
>
> and adjusting the arrow key strings to ...
>    kcub1=\E[D, kcud1=\E[B, kcuf1=\E[C, kcuu1=\E[A,

I don't see in his posting any indication that the terminal was set to run
in vt100 mode.  (You seem to be assuming that he's confusing the numeric
keypad's "Enter" key with the return key).  The wy60 terminfo entry doesn't
contain smkx/rmkx.

-- 
Thomas E. Dickey <dickey@radix.net> <dickey@herndon4.his.com>
http://dickey.his.com
ftp://dickey.his.com


 //////////////////////////////////////////////////////////////////////////////

Date: Wed, 11 Sep 2002 08:22:24 -0400
Organization: Sun Microsystems, Inc., Chelmsford, MA.
Newsgroups: comp.unix.solaris
Message-ID: <3D7F3580.6C4B2C19@sun.com>
References: <b500ea69.0209101642.68bd008b@posting.google.com>
From: Martha Starkey <martha.starkey@sun.com>
Subject: Re: Sun Fire 280R boot problems

Charles Fivaz wrote:
> 
> My Sun Fire 280R would not boot when the UPS signal cable was
> connected to the Serial Port.
> 
> I have had 3 field engineers look at this problem without solution.
> 
> I finally tried putting the UPS signal cable into SerialPortB instead
> of PortA and bingo!
> 
> Apparently serial Port A is reserved for monitors.


Perhaps, but often times that happens because the OpenBoot PROM 
'ttya-ignore-cd' parameter is set to false which means that ttya
waits forever for the Carrier Detect signal when none is offered.


 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.unix.solaris
NNTP-Posting-Host: panix2.panix.com
NNTP-Posting-Date: Sat, 20 Aug 2005 07:49:32 +0000 (UTC)
References: <pan.2005.08.19.23.36.22.104382@dcs.nac.uci.edu>
Message-ID: <de6nac$5i1$1@reader2.panix.com>
Organization: I have a map of the United States that's actual size
Date: Sat, 20 Aug 2005 07:49:32 +0000 (UTC)
From: Greg Andrews <gerg@panix.com>
Subject: Re: turning off hardware flow control on a serial port?

Dan Stromberg <strombrg@dcs.nac.uci.edu> writes:
>
> !crtscts ixon ixany
>
> ...in a config file for a "conserver" serial console concentrator, but
> transmission is still getting wedged after a short while into the boot
> of the Sun box.


Right idea, wrong control signal.  You need to tell the Sun
to ignore the DCD control signal on the console port, not the
CTS control signal (which is ignored by default).

To do that from the Open Boot Prom's "ok" prompt:

  setenv ttya-ignore-cd on       (if the "A" port is the console port)
  setenv ttyb-ignore-cd on       (if the "A" port is the console port)

  reset     (restarts the machine to make the change take effect)

To do it while Solaris is running:

  eeprom ttya-ignore-cd=on
  eeprom ttya-ignore-cd=on

  Then reboot the machine with something like "init 6" to make the
  change take effect.

  -Greg
-- 
Do NOT reply via e-mail.  Reply in the newsgroup.

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.terminals
Message-ID: <ebcd475a.0112012240.70f322a9@posting.google.com>
Organization: http://groups.google.com/
Date: 1 Dec 2001 22:40:13 -0800
From: +I <incognit@unifiedmind.com>
Subject: Garbled terminal in emacs, but have updated terminfo & termcap

When I ssh into a particular linux system from my IRIX workstation,
and run emacs in no-windows mode, then the terminal becomes garbled.

Specifically, the contents of the file appear above the cursor, and
the cursor appears below the emacs info line. When I hit RET, then
numbers appear in the middle of the screen, starting with one and
continuing in sequence, about every eight lines. Control-C does not
usually get me out, and I have to close the terminal to exit.

I tried to fix this by downloading the most recent termtypes.master
file from tuxedo.org, but the problems persisted after using tic on
the termtypes.master file to create a .terminfo directory and .termcap
file in my home directory (I set env vars TERMCAP=$HOME/.termcap  and
TERMINFO=$HOME/.terminfo).

I then tried to fix it by copying the iris-* entries from my IRIX
workstation's terminfo/i directory and putting them in my
$HOME/.terminfo directory on the Linux system, but this had no effect.

What else would cause the terminal to behave this way? How can I fix
it?

Thanks.


 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.terminals
References: <ebcd475a.0112012240.70f322a9@posting.google.com>
Message-ID: <9ufrq8$adk$1@news1.Radix.Net>
Organization: RadixNet Internet Services
Date: 3 Dec 2001 12:39:36 GMT
From: Thomas Dickey <dickey@saltmine.radix.net>
Subject: Re: Garbled terminal in emacs, but have updated terminfo & termcap

+I <incognit@unifiedmind.com> wrote:
> When I ssh into a particular linux system from my IRIX workstation,
> and run emacs in no-windows mode, then the terminal becomes garbled.

what is $TERM set to? (ssh has a bias toward vt100, which is not compatible
with iris-ansi, for instance: see the discussion of msgr and xenl in the
terminfo manpage)

-- 
Thomas E. Dickey <dickey@radix.net> <dickey@herndon4.his.com>
http://dickey.his.com
ftp://dickey.his.com


 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.sys.hp.hpux
References: <9t6si1$g4j6@kcweb01.netnews.att.com>
    <9t8stn$7a3$1@web1.cup.hp.com> <9tb27h$p2m1@kcweb01.netnews.att.com>
    <9tf69j$cje$1@web1.cup.hp.com> <9tg81r$p2m10@kcweb01.netnews.att.com>
    <9thua2$b7f$2@web1.cup.hp.com> <n6bshuq5ul.fsf@ogion.it.jyu.fi>
Message-ID: <9tusma$6sn$2@web1.cup.hp.com>
Organization: SSO-IT, Hewlett-Packard Co.
Date: 27 Nov 2001 02:10:18 GMT
From: blh@atl.hp.com
Subject: Re: Terminal - Rows/Columns = 0??

Tapani Tarvainen <tt@it.jyu.fi> wrote:
>
> blh@atl.hp.com writes:
>>   (real terminals are made out of glass and and have no disks or
>>   mice).  Unix assumes real terminals, not emulators (some say: cheap
>>   imitations of the real thing) and a real terminal doesn't suddenly
>>   change from 80x24 to 96x50.

> But they can change from 80x50 to 132x24 and vice versa!

  Not many.  HP smart terminals like the 700/9x can change
  the width but not the height.  Most terminals like the
  classic Beehive, Wyse, Hazeltine, LearSiegler (I know, I'm
  reaching back more than 15 years) were simply glass teletypes
  with an 80x24 or 132 character width.

  Now the Tektronix 401x series (4010, 4012, etc) were unique as
  storage tubes where the characters were stroke-generated and
  therefore had many more possibilities (including two columns
  of 80 characters or one row = 160 characters).  That era (early
  1980's) was when terminals started answering to status requests.
  HP terminals responded to status requests in 1979 with the 2640A

> We have somewhere in the basement a couple of real terminals
> where the display can be rotated 90 degrees with that effect
> (well I'm not 100% sure of the exact sizes in each orientation
> but you get the idea).

  Correct, but most likely these are oldtimers and very difficult
  to identify via a program query.  Remember that these weren't
  on a LAN but a serial RS-232 line.

> Even more terminals can be switched between 80x24 and 132x24
> simply by changing font in some setup screen.

  Many terminal emulators (not Xwindows) can change rows and
  columns and some offer fully scalable fonts (Reflection
  for HP offers this capability).  I have seen SIGWINCH
  generated by this program when used in a telnet session,
  so a quick trip into the world of RFC's (telnet is RFC 854
  and the special window size stuff is RFC 1073) shows that
  this is a telnet feature.

  So a plain vanilla serial terminal hooked to an RS-232
  line won't be able to notify the server about a window
  size change, but a well-written telnet terminal emulator
  can use telnet protocol option code 31 to send the
  current/new window size, thus generating a SIGWINCH.

-- 

             ?
           /'^'\
          ( o o ) 
*====oOOO===(_)===OOOo======*=====================================*
|   Bill Hassell            |  Hewlett-Packard Response Center    |
|   SysAdmin   Oooo.        |  blh@atl.hp.com  /  Atlanta, GA.    |
*======.oooO===(   )========*=====================================* 
       (   )    ) /   "There are two types of computer users in the
        \ (    (_/     world...those that have lost data, and those
         \_)           that are going to."        (blh, circa 1972)


 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.terminals, comp.sys.hp.hardware, comp.sys.hp.hpux
NNTP-Posting-Host: ns.hiscom.nl
References: <e80d7c5f.0410151312.16640210@posting.google.com>
Message-ID: <41861a70$0$19066$4d4ebb8e@read.news.nl.uu.net>
Date: Mon, 01 Nov 2004 12:15:41 +0100
From: CBee <I.Dont@want.your.spam>
Subject: Re: 700/96 terminal and K260 server

Carlos Y??ez S. wrote:
>
> Hi to everyone,
>
> This message is not a temporal lapsus or the last part of "Back to the
> Future" :-) :
>
> I'm trying to resucitate an HP K260 server, which has been stored for
> a couple of years. This beatiful machine is not alone: with it I have
> a 700/96 terminal.
>
> When I started the machine, it perfoms all the initial routine and
> ends with a "RUN FXXF" message on the display. So, it seems it's all
> O.K. but I cannot see a thing at the console.
>
> I've tried all the possible combinations I figured and read (in this
> group and websites) but i'haven't achieve the goal: i put the remote
> mode on and off and also tried with the Console and External Modem
> connectors.
>
> The cable I've used is null-modem kind (electrical and pin layout
> tests perfomed).


For the Hewlett-Packard 700/96, you need a *straight* cable, not the
null-modem one.  My set came with the original one.

You can use your null-modem to connect the HP-UX box to your PC and use
Hyperterm (or better).

By head, I recall the settings should be 9600 baud, 8 bits, no parity,
no stop bit.

>
> I guess i should be able to access via telnet but unfortunately i
> don't the machine's IP (it's static).
>
> There's someone who has an idea and brings me hope? :-)

If there are any pointers (mice and such) or keyboards connected, it
most likely defaults to 'workstation'-mode and tries to use a (graphical?)
display for console.

btw: my root for info:

    http://www.openpa.net/

Your machine is at:

    http://www.openpa.net/systems/hawk.html.

CBee

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.unix.solaris
Message-ID: <ybtad7ak3iy.fsf@isis.visi.com>
References: <ddf392ea.0311050944.d0eb9a0@posting.google.com>
Organization: VISI.com
Date: Wed, 05 Nov 2003 13:40:21 -0600
To: Shiva MahaDeva <contracer11@uol.com.br>
From: Anton Rang <rang%visi.com>
Subject: Re: Setting 132 columns in Solaris

contracer11%uol.com.br (Shiva MahaDeva) writes:
>
> How could I setting a terminal emulator to 132 columns in Solaris, 
> like I issue "SET TERMINAL/WIDTH=132" in OpenVMS ?

The command

  $ stty columns 132

will change it on the host side.  There isn't a standard way to send
the command sequence to request that the terminal automatically switch
as well, though.

Anton

 ..............................................................................

Newsgroups: comp.unix.solaris, comp.terminals, comp.os.linux.questions
NNTP-Posting-Host: list.stratagy.com
References: <ddf392ea.0311050944.d0eb9a0@posting.google.com>
Message-ID: <rshu_20031107_050607@stratagy.com>
Organization: The Late, Great Stratagy Users Group
Date: Fri, 7 Nov 2003 05:06:07 -0500
From: Richard S. Shuford <shuford%list.stratagy.com>
Subject: Re: setting 132 columns in Solaris (screen width)

Shiva MahaDeva <contracer11%uol.com.br> wrote:
| 
| How could I setting a terminal emulator to 132 columns in Solaris,
| like I issue "set terminal/width=132" in OpenVMS ?

Anton Rang <rang%visi.com> replied:
> 
> The command
>  $ stty columns 132
> will change it on the host side.  There isn't a standard way to send  
> the command sequence to request that the terminal automatically switch
> as well, though.


The VMS DCL command  "SET TERMINAL/WIDTH=132" does two things:

 (1) set the operating system's opinion of the terminal's width to 132 columns

 (2) send an Escape sequence that causes a DEC VTx00 terminal to configure its
     screen buffer to actually display 132 characters horizontally

The above Unix command "stty columns 132" performs only (1).

For thing (2), while there is no "de jure" ANSI standard for switching the   
visible screen width, there is yet a widely implemented mechanism, based    
on the control codes implemented  in the DEC VT220 video terminal (and in
later DEC terminal products).

If "xterm" is being used, then the "Allow 132/80 Column Switching" option must
be enabled from the "VT Options" menu.  (This screen menu is accessed by holding
down the Control key and pressing the middle mouse button.)  Then some software
running on the Unix host can cause (2) to happen by sending the DECCOLM Escape
sequence:

    Esc [ ? 3 h

In Solaris, the "some software" may consist of this simple shell command:

    $ printf "\033[?3h"

The control sequence to reset/clear the screen size back to 80 columns is:

    Esc [ ? 3 l

so the 80-column shell command is:

    $ printf "\033[?3l"

(where 'l' is a lowercase 'L').

Finally, you must reset the operating system's opinion to 80 columns like this:
 
    $ stty columns 80

 ..RSS

 ..............................................................................

Newsgroups: comp.unix.solaris, comp.terminals, comp.os.linux.questions
Message-ID: <bohd9e$hl4$2@news1.radix.net>
References: <ddf392ea.0311050944.d0eb9a0@posting.google.com>
    <rshu_20031107_050607@stratagy.com>
Date: 8 Nov 2003 00:27:26 GMT
From: Thomas Dickey <dickey@saltmine.radix.net>
Subject: Re: setting 132 columns in Solaris (screen width)

In comp.unix.solaris Richard S. Shuford wrote:
>
> For thing (2), while there is no "de jure" ANSI standard for switching the
> visible screen width, there is yet a widely implemented mechanism, based
> on the control codes implemented  in the DEC VT220 video terminal (and in
> later DEC terminal products).

But on Solaris, the supported terminal program (so I'm told) is dtterm.
That recognizes also a different escape sequence.  Oddly Solaris' xterm
doesn't seem to recognize this (though some of Solaris' manpages haven't
been updated since Solaris 2.3 - I noticed several instances today ;-).

"man resize" mentions this feature:

     -s [rows columns]
             This  option  indicates  that  Sun  console   escape
             sequences  will be used instead of the special xterm
             escape code.  If rows and columns are given,  resize
             will  ask  the xterm to resize itself.  However, the
             window manager may choose to disallow the change.

I added that feature to XFree86 xterm a while back.
It's very convenient for resizing the terminal, e.g.,

    $ resize -s 45 80

to get 45 rows by 80 columns.

-- 
Thomas E. Dickey
http://invisible-island.net
 ftp://invisible-island.net

 ..............................................................................

Newsgroups: comp.unix.solaris, comp.terminals, comp.os.linux.questions
NNTP-Posting-Host: list.stratagy.com
References: <ddf392ea.0311050944.d0eb9a0@posting.google.com>
    <rshu_20031107_050607@stratagy.com> <bohd9e$hl4$2@news1.radix.net>
Message-ID: <rshu_20031108_151515@stratagy.com>
Organization: The Late, Great Stratagy Users Group
Date: Sat, 8 Nov 2003 15:15:15 -0500
From: Richard S. Shuford <shuford%list.stratagy.com>
Subject: Re: setting 132 columns in Solaris (screen width)

Shiva MahaDeva <contracer11%uol.com.br> wrote:
|
| How could I setting a terminal emulator to 132 columns in Solaris,
| like I issue "set terminal/width=132" in OpenVMS ?

Then Richard S. Shuford wrote:
> 
> For thing (2), while there is no "de jure" ANSI standard for switching the
> visible screen width, there is yet a widely implemented mechanism, based
> on the control codes implemented  in the DEC VT220 video terminal (and in
> later DEC terminal products).

And then Thomas Dickey <dickey%saltmine.radix.net> wrote:
+ 
+ But on Solaris, the supported terminal program (so I'm told) is dtterm.
+ That recognizes also a different escape sequence.  Oddly Solaris' xterm
+ doesn't seem to recognize this....
    

Recent releases of Solaris have included Sun-supported versions of  
both "xterm" and "dtterm".  However, with Sun moving away from the
committee-compromise "Common Desktop Environment" and toward the 
Gnome windowing environment, the CDE "dtterm" program is becoming   
less important.  (And "cmdtool" is even further out of mind, whereas
Gnome Terminal is becoming more important.)

Noting that Shiva said merely "a terminal emulator", it is not clear
what software is being used.  Possibly it could be some program
running under Windows and not any of the above Unix/Linux packages.
(I picked "xterm" because it is fairly typical of a decent VT100
emulator.)

But, you do raise an issue that I forgot.  By default, the Solaris  
"dtterm" program will ignore the DECCOLM control sequence.  However,
there is an invocation option to make "dtterm" honor DECCOLM, which
the user can choose like this:
    
    $ /usr/dt/bin/dtterm -132

(In Solaris 8 and 9, this is documented in the dtterm man page.)

Another variant control sequence was developed by Digital Equipment   
Corporation for its real DEC VT330 terminals (and is used in later DEC
and/or Boundless terminal models and faithful emulators of them).  To
support multiple screen-page memory in the terminal, DEC invented a      
more generalized screen-sizing feature: the command sequence is called
DECSCPP (DEC Set Columns Per Page).

For switching to 132 columns, the DECSCPP sequence (without the
intervening spaces) would be:
    
    Esc [ 1 3 2 $ |

(Using a Unix shell command to emit the '$' dollar and '|' pipe  
characters, without interpreting them, can require tricky quoting.) 

To reset/clear the VT330 to the default of 80 columns, any of these
work:

    Esc [ $ |
    Esc [ 0 $ |
    Esc [ 8 0 $ |

According to the documentation, the VT330 also supports an analogous
DECSLPP (DEC Set Lines Per Page) control sequence, to allow screen  
pages containing 24, 36, 72, or 144 (!?) lines.

    Esc [ 2 4 t
    Esc [ 3 6 t
    Esc [ 7 2 t
    Esc [ 1 4 4 t

 ...RSS

 ..............................................................................
 ..............................................................................

The special "dtterm" control sequence to set a CDE dtterm window to
24 lines and 132 columns would be

    Esc [ 8 ; 2 4 ; 1 3 2 t

or as a Solaris shell one-liner:

    $ printf "\033[8;24;132t"

(as tested using Solaris 8.)

 ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
 ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::

    [Shiva tries a different tack...definitely in a Microsoft flow.]

Newsgroups: comp.unix.solaris
Message-ID: <ddf392ea.0311100557.7d18aa1c@posting.google.com>
Date: 10 Nov 2003 05:57:56 -0800
From: Shiva MahaDeva <contracer11@uol.com.br>
Subject: Setting 132 columns in Putty emulator...

How could I set 132 columns in Putty emulator ? 
Thanks in advance...

 ..............................................................................

Message-ID: <20031110185642.GA12646@saltmine.radix.net>
Date: Mon, 10 Nov 2003 13:56:42 -0500
From: Thomas E. Dickey
Subject: Re: Setting 132 columns in Putty emulator...

PuTTY also responds to "resize -s" (Sun console/dtterm control codes).

PuTTY also allows the mouse to resize, and the SIGWINCH signal is
detected properly.

I connected with PuTTY and just checked that.

 ..............................................................................

Newsgroups: comp.unix.solaris
NNTP-Posting-Host: saltmine.radix.net
References: <ddf392ea.0311100557.7d18aa1c@posting.google.com>
Message-ID: <booq65$fs9$3@news1.radix.net>
Date: 10 Nov 2003 19:50:29 GMT
From: Thomas Dickey <dickey%saltmine.radix.net>
Subject: Re: Setting 132 columns in Putty emulator...

Shiva MahaDeva <contracer11%uol.com.br> wrote:
> How could I set 132 columns in Putty emulator ? 
> Thanks in advance...

Several ways:

        the window size is settable with the session settings,

        you can use
                resize -s 24 132
        at the command-line in Solaris (e.g., for 24-lines),

        and you can use the mouse.

(it probably also responds to the DECCOLM escape sequence mentioned by Richard
Shuford in a separate thread).

-- 
Thomas E. Dickey
http://invisible-island.net
 ftp://invisible-island.net

 ..............................................................................

    [source of PuTTY]

    http://www.chiark.greenend.org.uk/~sgtatham/putty.html
 
 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.unix.solaris, comp.terminals, comp.os.linux.questions
NNTP-Posting-Host: saltmine.radix.net
References: <ddf392ea.0311050944.d0eb9a0@posting.google.com>
    <bohd9e$hl4$2@news1.radix.net> <rshu_20031108_151515@stratagy.com>
    <boljeu$1ki$1@news1.radix.net> <bomlre$20ss$2@agate.berkeley.edu>
Message-ID: <bomq20$7vn$1@news1.radix.net>
Date: 10 Nov 2003 01:36:00 GMT
From: Thomas Dickey <dickey@saltmine.radix.net>
Subject: Re: setting 132 columns in Solaris (screen width)

In comp.unix.solaris Richard S. Shuford wrote:
> |>
> |> Recent releases of Solaris have included Sun-supported versions of  
> |> both "xterm" and "dtterm".  However, with Sun moving away from the
> |> committee-compromise "Common Desktop Environment" and toward the 
> |> Gnome windowing environment, the CDE "dtterm" program is becoming   
> |> less important.  (And "cmdtool" is even further out of mind, whereas
> |> Gnome Terminal is becoming more important.)

Thomas Dickey writes in comp.unix.solaris:
> |
> |I was more/less aware of that.  There was a comment in this newsgroup
> |a year or two ago regarding a Solaris-specific performance improvement
> |which was in xterm.  (Not detailed enough for me to make the same change,
> |but enough to see that Sun was making changes that aren't in the X/Open
> |version).

In comp.unix.solaris Alan Coopersmith wrote:
>
> For Solaris 2.6 through 8, xterm is basically the X11R6 version.  For
> Solaris 9 it was upgraded to the l18nux.org (now openi18n.org) version,
> with yours/XFree86 supplied on the unsupported freeware companion CD.
> I'm not sure what comment or fix you're referring to, but if there's


Alan:

I was recalling one of your postings - but checking now, I'm misquoting it. 
The posting commented that "dtterm" had been modified to use a SolarisIA
extension (makes subprocesses get a priority boost), but went on to say that
"xterm" was not modified.  This was in April 2002.

-- 
Thomas E. Dickey
http://invisible-island.net
 ftp://invisible-island.net

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.terminals
References: <a27diu$76u$1@news.ox.ac.uk>
Message-ID: <99435a116cd3f551@mayday.cix.co.uk>
Organization: Mayday Technology Ltd
Date: Thu, 17 Jan 2002 23:29:08 +0000
From: Robert de Bath <rd104106@mayday.cix.co.uk>
Subject: Re: Changing controlling terminal of process

On Thu, 17 Jan 2002, MJ wrote:
>
> I would like to solve the following problem under Linux: Suppose I start a
> programme remotely from a another computer in the network like I start in
> the example below a Matlab programme from client80 in pts/3:
>>
> USER     TTY      FROM              LOGIN@   IDLE   JCPU   PCPU   WHAT
> max      :0       console           7:19pm   ?      0.00s   ?     -
> max      pts/3    client80          11:06am  7:37m  8:05m  0.01s  matlab
> max      pts/2    :0.0              8:16pm   0.00s  0.07s  0.02s  w
>
> At later time I would like to access the application from the local machine
> (possibly by assigning the local terminal pts/2 to it ?) to continue my
> work. Does anybody know how one can do that ?


Only the process itself can change its controlling terminal so this
cannot be done. However you can use "GNU screen" to sit between the
programs and your terminal and _it_ will change it's controlling terminal
allowing you to 'detach' and 'reattach' to these jobs from different
terminals as you wish.

BTW: It also allows you to leave the job running without running the
     security risk of staying logged in while away from the terminal.

Check your local GNU mirror or Linux distribution packages.

-- 
Rob.                          (Robert de Bath <robert$ @ debath.co.uk>)
                                       <http://www.cix.co.uk/~mayday>


 //////////////////////////////////////////////////////////////////////////////


Newsgroups: comp.sys.sun.hardware, comp.unix.solaris
References: <ZHv79.2865$yt3.1133538@newssrv26.news.prodigy.com>
	<ajo7l3$kkc$1@agate.berkeley.edu>
Message-ID: <ajmq8s$bm1$1@agate.berkeley.edu>
Organization: University of California, Berkeley
Date: Sun, 18 Aug 2002 00:37:48 +0000 (UTC)
From: Akop Pogosian <akopps+usenet@ocf.berkeley.edu>
Subject: Re: SunBlade 100 second serial port cabling ?

In comp.sys.sun.hardware J.D. Bronson <no.spam@for.me.com> wrote:
>
> I have found the J13 IDC-10ping connector on the riser board and found a
> cable to extend it to a DB9 on the I/O slots.
> Trouble is, it doesnt seem to work at all!
> I can open a tip session to that port, but cannot receive/send anything. The
> other TTYa port works fine.
> So...do I need a special cable for this (internal)?
> If so what and where from?
> Thanks in advance..

I remember someone from Sun (probably Casper Dik) mentioned on this
group a year ago that the second serial port in Blade 100 might be
disabled in Solaris drivers in future so that people stop asking
questions about it. That could be your problem. At this point a second
serial port does seem to be much more useful than those extra Firewire
and USB ports..


> Well...I am hopeful I can get it to work. Or some sort of USB->Serial
> adapter (Shudder...)
> I need a serial console AND another com port......I really think that
> all I need is a cable that is pinned out correctly...but there MUST be
> a way to verify this....

As a last resort, consider getting a serial PCI card. I know
Solaris/SPARC cards do exist (I don't really know how much they cost)

Akop Pogosian

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.sys.sun.hardware, comp.unix.solaris
References: <ZHv79.2865$yt3.1133538@newssrv26.news.prodigy.com>
Message-ID: <Odg89.42279$8aG1.29267@news01.bloor.is.net.cable.rogers.com>
Date: Tue, 20 Aug 2002 00:40:14 GMT
From: jantheunis@thegeekcave.com
Subject: Re: Blade 100 second serial port cabling ?

In comp.sys.sun.hardware J.D. Bronson <no.spam@for.me.com> wrote:
>
> I have found the J13 IDC-10pin connector on the riser board and found a
> cable to extend it to a DB9 on the I/O slots.

I am using a standard serial port connector from an old PC, and it works
great. I currently have a Belkin UPS running off it. 

FWIW: I am using Solaris 9

Jason

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.terminals
References: <ur38a8dadi3ac0@corp.supernews.com>
    <aou9dj$mta$1@news1.radix.net>
Message-ID: <ur5hpip3ltel30@corp.supernews.com>
Organization: Posted via Supernews, http://www.supernews.com
Date: Sun, 20 Oct 2002 11:10:58 -0400
From: mikethomas <mikethomas@veryfast.biz>
Subject: Re: ESC[17;18H  -  how do I write an ESC within vi (on Linux) ?

"Thomas Dickey" <dickey@saltmine.radix.net> wrote in message
news:aou9dj$mta$1@news1.radix.net...
>
> mike thomas <mikethomas@veryfast.biz> wrote:
> >
> > Does anyone know how to type in an ESC within vi - what characters do I use.
>
> ESC is usually control/[
> Control/V usually is set to literal-next (lnext - see "stty")
>
> To enter a single ESC in vi
> i control/V control/[ ESC
>
> --
> Thomas E. Dickey <dickey@radix.net> <dickey@herndon4.his.com>
> http://dickey.his.com/
>  ftp://dickey.his.com/


Thomas,

Thanks for responding. Your solution worked great. I will check out stty next.

Mike

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.unix.solaris, comp.unix.cde, de.alt.comp.kde
References: <713b0e7b.0211141120.4664de6d@posting.google.com>
    <e817ca4d.0211181149.5f6533b3@posting.google.com>
Message-ID: <_HhC9.41195$Yb.1358383@twister.austin.rr.com>
Date: Tue, 19 Nov 2002 02:52:42 GMT
From: Logan Shaw <lshaw-usenet@austin.rr.com>
Subject: Re: Dtterm and KDE

In article <e817ca4d.0211181149.5f6533b3@posting.google.com>, bad_knee wrote:
>
> try this in your .bashrc (may work in .cshrc) I had the same 
> problem with icewm.
>  
>    stty intr \^C
>    stty erase \^H
>    stty susp \^Z
>    stty eof \^D
>    stty kill \^U


It might be a little more efficient to invoke stty only once instead
of 5 times:

    stty intr ^C erase ^H susp ^Z eof ^D kill ^U

I've left out the backslashes because they're not needed when you
put a command in a .bashrc or .cshrc file.  The reason for this is that
the backslashes serve to protect the special "^" command history character,
and that character is only recognized when you're working interactively
with the shell (not when it's reading a file of commands).

  - Logan

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.terminals
References: <3DAFFC39.5070905@mail.com> <3DB00ED0.6090105@mail.com>
Message-ID: <slrnar6717.vrb.hugo_villeneuve@jwales.EINTR.net>
Date: Sun, 20 Oct 2002 21:12:08 GMT
From: Hugo Villeneuve <hugo_villeneuve@no_private_reply_at_yahoo.com>
Subject: Re: terminal size

> (originally) Pankaj Kr Rathore wrote:
>> 
>> Hi,
>> Can somebody tell how to know if a window has been resized.
>> ie.
>> I have written a simple shell when gets executed when a
>> user logs in either through serial port or telnet by
>> modifying /etc/passwd suitably.
>> There are times, when depending on the number of rows in
>> the terminal I have to do some special processing.
>> 
>> The problem is that when I log in through telnet connection
>> and resize my window(using mouse), I get the new size terminal
>> size and things work fine.
>> Also stty -a before and after resize give correct vaulues.
>> 
>> But when I log in through the serial port, and then resize my
>> window, I dont get the new terminal size.
>> I tried catching SIGWINCH but nothing happens.
>> When I do stty -a first time, rows and cols are set to 0. Then
>> I use stty to set the values manually. When I resize, the old
>> values are retained.
>> 
>> I do all this in xwindows.
>> 
>> Can somebody help please....


Then, in article <3DB00ED0.6090105@mail.com>, Pankaj Kr Rathore wrote:
>
> Afer some more investigation,
> looks like a process will get SIGWINCH if somebody
> else in the same process group sets the termsize.
> 
> SO my question is..
> DO xterm/konsole/gnome-terminal set the terminal size
> when we resize a terminal ? I am curious to know
> who discovers that a term resize has happened ?

What happens:

1. Xterm is resized.
2. Xterm changes termios rows and cols values for the tty
3. Xterm send SIGWINCH to foreground process
   telnet client receive SIGWINCH, read new termios rows and cols
   values, send a telnet command to the connected host
4. telnet server receive command to resize, change termios rows and
   cols value, send SIGWINCH to foreground process
5. application receive SIGWINCH, reads new termios rows and cols values,
   make changes to internal structures, redraw screen.


> How come telnet is able to figure out while a serial
> connection is not ?

Because there is no provision for sending resize command between
the client and server software that make serial communication
possible. But there is one in the telnet and ssh protocol. [Some
telnetd on old or odd Unix flavor don't support resize also.]

In your case, the resize could make it to the cisco box, but not
from the cisco to the machine on the serial port.

You should also note that many Unix set rows and cols to 0 on serial
ports to remind people that a serial port is a sizeless tty.
Applications defaults to 24 rows and 80 cols by themself.

Just learn to live with it. Don't resize while using full screen
applications and after resizing the window, enter a command
"stty rows X cols Y".

-- 
Hugo

 //////////////////////////////////////////////////////////////////////////////


Newsgroups: comp.sys.sun.admin, comp.sys.sun.misc
Message-ID: <bpgugi$40c$1@reader2.panix.com>
References: <TpOub.40240$Ng3.16219@charlie.risq.qc.ca>
    <YZOub.10463$lm1.74485@wards.force9.net>
    <Pine.WNT.4.58.0311192143390.672@holodeck3.holosys.wlan>
Organization: I have a map of the United States that's actual size
Date: Wed, 19 Nov 2003 23:31:30 +0000 (UTC)
From: Greg Andrews <gerg@panix.com>
X-Warning: Do NOT reply via e-mail. Reply in the newsgroup.
Subject: Re: Strange console problem (tty?)

Chris Lawrence <news03@holosys.co.uk.invalid> writes:
>On Wed, 19 Nov 2003, Beardy wrote:
>
>> This may be of no help whatsoever (in which case, apols), but when the
>> screen is misbehaving, try "tput reset" - you will need your $TERM
>> variable set correctly beforehand, though.
>
>There's also 'stty sane' which resets the terminal if you accidentally
>screw it up by viewing a binary file.  Not sure if this can be used to
>sort out the OP's problem.
>

Do NOT use "stty sane" on a Solaris serial port unless you know
exactly what you are doing.  It changes the settings to 7 bits
and even parity, which are not the correct settings on Solaris
machines except in very rare cases.  Even on a frame buffer
(video card) in text mode, the improper parity setting can cause
trouble for displaying parts of the ISO 8859-1 character set.

  -Greg

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.terminals
References: <3DAFFC39.5070905@mail.com> <3DB00ED0.6090105@mail.com>
    <slrnar6717.vrb.hugo_villeneuve@jwales.EINTR.net>
Message-ID: <ap0r7q$7d6$3@news1.radix.net>
Organization: RadixNet Internet Services
Date: 21 Oct 2002 12:16:58 GMT
From: Thomas Dickey <dickey@saltmine.radix.net>
Subject: Re: terminal size

Hugo Villeneuve <hugo_villeneuve@no_private_reply_at_yahoo.com> wrote:
>
> Just learn to live with it. Don't resize while using full screen
> applications and after resizing the window, enter an "stty rows X
> cols Y" command.

or simpler - than the stty command - for xterm and other applications that
emulate vt100's, type "resize", which is a utility that comes with xterm.
That almost always works.

(probably doesn't work for Microsoft's telnet, but I did say "emulate vt100's").

-- 
Thomas E. Dickey <dickey@radix.net> <dickey@herndon4.his.com>
http://dickey.his.com/
 ftp://dickey.his.com/

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.terminals
References: <CMwB9.19759$%m4.6633@rwcrnsc52.ops.asp.att.net>
	<YUy*oaFDp@news.chiark.greenend.org.uk>
Message-ID: <arafmp$e9p$3@news1.radix.net>
Date: Mon, 18 Nov 2002 10:34:01 GMT
From: Thomas Dickey <dickey@saltmine.radix.net>
Subject: Re: man pages in PuTTY ver.53b - strange characters (UTF-8 charset)

In comp.terminals Jacob Nevins <jacobn@chiark.greenend.org.uk> wrote:
> (note Followup-To)

> KS <k_shepard@hotmail.com> writes:
>>
>>When I do a man page from PuTTY (from an XP Professional system
>>connecting to Redhat 8.0) I get a lot of random "áº­" characters. Only
>>without the period underneath. Is there setting that will eliminate this
>>or is it just a small but that probably will not get fixed? 
>>
>>When I do these man pages directly on my Linux box, I do not have the
>>same problem. Thanks in advance!


> Have you tried using UTF-8 translation in PuTTY? See my recent posting 
> http://groups.google.com/groups?q=msgid%3AXtD%2ARtLCp%40news.chiark.greenend.org.uk

    [ Literal message ID is: XtD*RtLCp@news.chiark.greenend.org.uk ]

    [2009 link]
    http://groups.google.com/group/comp.security.ssh/browse_thread/thread/8b90a95064f2ed2d/d896a3246958211e?q=#d896a3246958211e


> This is turning into an FAQ for us, so please reply or mail
> "putty@projects.tartarus.org" if you resolve this issue.

> If RH8 has switched to expecting a UTF-8 terminal by default, I'm not
> sure what the right solution is -- for the RH system to send an
> appropriate escape code at some point, or to expect users to switch
> PuTTY into UTF-8 mode, or what.


Apparently they added the UTF-8 locale environment settings globally.

(No surprise--it's Redhat!)

-- 
Thomas E. Dickey <dickey@radix.net> <dickey@herndon4.his.com>
http://dickey.his.com/
 ftp://dickey.his.com/

 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

                                                                                                                                                                                                                                                                
Path: archiver1.google.com!news1.google.com!newsfeed.stanford.edu!logbridge.uoregon.edu!kibo.news.demon.net!news.demon.co.uk!demon!not-for-mail
From: "lance" <lancetek * hotmail.com>
Newsgroups: comp.security.ssh
Subject: strange characters in PuTTy
Date: Tue, 5 Nov 2002 21:40:18 -0000
Message-ID: <aq9dsh$3t4$1$8302bc10@news.demon.co.uk>
NNTP-Posting-Host: computerguy.demon.co.uk
X-Trace: news.demon.co.uk 1036532433 4004 62.49.59.60 (5 Nov 2002 21:40:34 GMT)
NNTP-Posting-Date: Tue, 5 Nov 2002 21:40:33 +0000 (UTC)
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4920.2300
X-Newsreader: Microsoft Outlook Express 5.50.4920.2300
X-MSMail-Priority: Normal

Hi,

I'm SSHing into my RedHat8.0 box from a W2K box running PuTTy.  It works
fine, but some of the characters in the terminal window, ( eg the hyphen
character ) are being replaced with incorrect ones.

For example, the hyphen is replaced by a lower-case 'a' with a caret '^'
above it.

I have tried altering the 'translation' from PuTTy to different character
sets, with similar results.  The characters are only replaced incorrectly
in text shown from the terminal, not text I input - if I type 'man -a rpm'
the '-a' part comes out fine, but the return manpage has every hyphen
replaced.

I use the ISO 8859-1 character set  ( Western Europe )

How do I check the current character set for a session in RedHat?
Does SSH have it's own character settings?  How can I check those?

I am not certain if it is a PuTTy issue, a RedHat issue or a SSH issue!
Any suggestions?


 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

                                                                                                                                                                                                                                                                
Path: archiver1.google.com!news1.google.com!newsfeed.stanford.edu!logbridge.uoregon.edu!snoopy.risq.qc.ca!newsfeed.news2me.com!border1.nntp.aus1.giganews.com!nntp.giganews.com!nntp3.aus1.giganews.com!nntp.clear.net.nz!news.clear.net.nz.POSTED!not-for-mail
Newsgroups: comp.security.ssh
NNTP-Posting-Date: Tue, 05 Nov 2002 22:34:53 -0600
Organization: GPV Enterprises Limited
User-Agent: Pan/0.13.1 (It's always funny until somebody immanentizes the eschaton)
Message-ID: <pan.2002.11.06.04.31.15.463913@gpv.co.nz>
References: <aq9dsh$3t4$1$8302bc10@news.demon.co.uk>
X-Original-NNTP-Posting-Host: 203-167-152-228.dialup.clear.net.nz
X-Postfilter: 1.1
Date: Wed, 06 Nov 2002 17:31:19 +1300
From: "Graham Vincent"  <graham * gpv.co.nz>
Subject: Re: strange characters in PuTTy

On Tue, 05 Nov 2002 21:40:18 +0000, lance wrote:

> Hi,
> 
> I'm SSHing into my RedHat8.0 box from a W2K box running PuTTy.  It works
> fine, but some of the charactrers in the terminal window, ( eg the hyphen
> character ) are being replaced with incorrect ones.  For example, the hyphen
> is replaced by a lower-case 'a' with a caret '^' above it.  I have tried
> altering the 'translation' from PuTTy to different character sets, with
> similar results.  The characters are only replaced incorrectly in text shown
> from the terminal, not text I input - if I type 'man -a rpm' the '-a' part
> comes out fine, but the return manpage has every hyphen replaced.
> 
> I use the ISO 8859-1 character set  ( Western Europe )
> 
> How do I check the current character set for a session in RedHat?
> Does SSH have it's own character settings?  How can I check those?
> 
> I am not certain if it is a PuTTy issue, a RedHat issue or a SSH issue!
> Any suggestions?


Hello Lance.

I was seeing similar things in a konsole window on my RH 8.0 box.

The only way I could get it to show the correct characters was to
give up on "English_NZ" as my character set, and to edit the file

    /etc/sysconfig/i18n

to show

    LANG="en_US"

and restart xfs.

Not sure if will fix your problem -- good luck.

Regards,

Graham

 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

                                                                                                                                                                                                                                                                
Path: archiver1.google.com!news1.google.com!newsfeed.stanford.edu!newsfeed.gamma.ru!Gamma.RU!kibo.news.demon.net!demon!easynet-monga!easynet.net!easynet-post1!not-for-mail
Newsgroups: comp.security.ssh
References: <aq9dsh$3t4$1$8302bc10@news.demon.co.uk>
Organization: WOMUMP
X-Newsreader: trn 4.0-test70 (17 January 1999)
Originator: jac...@chiark.greenend.org.uk ([193.201.200.170])
Message-ID: <XtD*RtLCp@news.chiark.greenend.org.uk>
Lines: 41
NNTP-Posting-Host: 193.201.200.170
X-Trace: DXC=kcIeIoO][;ahWYXIji\GShC:3:I]XOl0dJl0i8e2XJ0`Gd@W2nGf1Gl
Date: 06 Nov 2002 17:38:53 +0000 (GMT)
From: Jacob Nevins <jacobn * chiark.greenend.org.uk>
Subject: Re: strange characters in PuTTy


lance <lance...@hotmail.com> writes:
>
>I'm SSHing into my RedHat8.0 box from a W2K box running PuTTy.  It works
>fine, but some of the charactrers in the terminal window, ( eg the hyphen
>character ) are being replaced with incorrect ones.  For example, the hyphen
>is replaced by a lower-case 'a' with a caret '^' above it.  I have tried
>altering the 'translation' from PuTTy to different character sets, with
>similar results.

Have you tried UTF-8 translation in PuTTY? Just a hunch.

groff tends to use a soft hyphen character if one's available -- it
uses the ISO8859-1 0xAD "SOFT HYPHEN" on my (Debian potato) system.

> I use the ISO 8859-1 character set  ( Western Europe )

Latin small a with circumflex indicates U+2XXX in UTF-8 interpreted
as latin1; there are some plausible dashes and hyphens at the start of
that range.

If groff were trying to use U+00AD I would expect to see C2 AD in an
8859-1 terminal (i.e. upper-case A circumflex plus the expected
hyphen).

> The characters are only replaced incorrectly in text shown
> from the terminal, not text I input - if I type 'man -a rpm' the '-a' part
> comes out fine, but the return manpage has every hyphen replaced.

That's not surprising, as you're typing a normal ASCII hyphen. I would
expect that any in-line hyphens in the man page (e.g. "(C) 1989-1999")
would come out OK also.

> How do I check the current character set for a session in RedHat?

This isn't a complete answer, but it's possible you may have to muck
around with LESSCHARSET (assuming man uses less for browsing).


> Does SSH have it's own character settings?  How can I check those?

The SSH protocol doesn't, but the terminal emulator does -- in PuTTY,
you set the default state, but this can be changed via escape
sequences. I don't know whether anything in RH8 attempts to do this.


 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

                                                                                                                                                                                                                                                                
Path: archiver1.google.com!news1.google.com!newsfeed.stanford.edu!news.tele.dk!news.tele.dk!small.news.tele.dk!peer1.news.newnet.co.uk!kibo.news.demon.net!news.demon.co.uk!demon!not-for-mail
Newsgroups: comp.security.ssh
Message-ID: <aqbop9$rev$1$8302bc10@news.demon.co.uk>
References: <aq9dsh$3t4$1$8302bc10@news.demon.co.uk> <pan.2002.11.06.04.31.15.463913@gpv.co.nz>
NNTP-Posting-Host: computerguy.demon.co.uk
X-Trace: news.demon.co.uk 1036609129 28127 62.49.59.60 (6 Nov 2002 18:58:49 GMT)
NNTP-Posting-Date: Wed, 6 Nov 2002 18:58:49 +0000 (UTC)
Date: Wed, 6 Nov 2002 18:58:35 -0000
From: "lance" <lancetek * hotmail.com>
Subject: Re: strange characters in PuTTy


Thanks Graham,

Your fix did seem to work.  dunno why, though, as I tried both western and
UTF-8 in PuTTy with no luck.  For reference here is what my i18n file
contained:

    LANG="en_US.UTF-8"
    SUPPORTED="en_US.UTF-8:en_US:en"
    SYSFONT="latarcyrheb-sun16"


I took *out* all references to UTF-8 and
now PuTTy shows everything all peachy-keen!

Happy hyphens!

It makes reading the man pages much easier!


 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.terminals
NNTP-Posting-Date: Tue, 27 Oct 2009 13:41:51 -0500
References: <cc95f109-464b-40ec-8d19-5c6229def8ae@k19g2000yqc.googlegroups.com>
Message-ID: <ksadnbP1e9pyo3rXnZ2dnUVZ8kednZ2d@brightview.co.uk>
Date: Tue, 27 Oct 2009 18:41:44 +0000
From: Jonathan Casiot <jonathan * pueblo.co.uk>
Subject: Re: VT terminals in a UTF-8 world

Vebjorn Ljosa wrote:
>
> I finally have a VT320 connected to my Linux box again after many
> years.  One thing that has changed in those years is that UTF-8 has
> become common, both for filenames and for the contents of text files.
> And the terminal doesn't understand UTF-8, of course.
>
> The best solution I have found is to have screen translate between
> UTF-8 and ISO 8859-1.  What do others do?
>
> Vebjorn


I have LANG="en_GB.iso88591" in /etc/sysconfig/i18n for my VT420s.

-- 
Jonathan



 / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / /
 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.os.linux.misc
Message-ID: <6h8gb5$6vm$1@wagner.fe.msk.ru>#1/1
References: <35359905.5BD0@mindspring.com> <3535A40B.D6F@mindspring.com>
Organization: Wagner's home
Date: 1998-04-18
From: vitus@wagner.fe.msk.ru (Victor Wagner)
Subject: Re: Problem Username/Password

John Carroll (pp001356 * mindspring.com) wrote:
:
: Well, I answered at least part of my question.  Went over to my old computer 
: running 1.2.13 and added a couple of users.  The first user was farleys, with 
: a nice password of abcdefgh (since changed, of course).  No problem.  farleys 
: was able to login.  Then I added the user BOOGER, with the same password.  
: And poor BOOGER couldn't login, but he (she?) did manage to turn the prompt 
: and the keyboard to all caps.  So I guess Linux doesn't accept all caps 
: usernames, or at least doesn't know what to do with them once they've been 
: added.  One question remains?  Is this true of all Unices?  If so, then my 
: user's service provider will be having fits, too.  And one extra question -- 
: Why?


Because in very old days there was terminals which simply don't have 
small letters - capital only. So, if getty sees username of all caps
it turns console in some strange capital-only mode. It is done BEFORE
login goes into game to read password and check it against /etc/passwd.
It is purely getty (mis)feature. 

But no need to reboot machine. Just enter any bogus username of all small
after login failed. Getty should be respawned and reinit console.

At least it works such way when I've last time forgot Caps Lock turned
on. Really, never allow any capital letters in username. This is a Unix
tradition.


: John Carroll
: pp001356@mindspring.com
 
: John Carroll wrote:
: > 
: > For years I've been the only user of my computer, so I set the passwords
: > and forgot about them.  However, today I had to add a second user (a third
: > if you count root.  The adduser command seemed to work fine, but when it
: > came time for the new user to log in, things got strange.  I suspect the
: > problem is the odd username/password combination this user insisted on.  The
: > username is all caps.  The password is one cap followed by four digits.
: > Here's what happened.
: > 
: > First login attempt, I got an "incorrect login" message, so I did it again,
: > very carefully and got logged in.  At that point I reflexively typed "ls"
: > and realized that what I'd typed was "LS".  Ooops.  Checked, and the caps
: > weren't locked, but no matter what I typed, it was all caps.  I switched to
: > another virtual terminal where I was logged in under my own
: > username/password, and everything was okay.  Eventually rebooted the machine
: > to get rid of the all upper case problem, and tried to log in again under the
: > new username.  No luck, no matter how many times I try it -- but the prompt
: > does turn from lowercase to upper case.  Then the login attempt times out and
: > I try again.
: > 
: > I'm using Slackware with the 2.0.33 kernel (but also got the same results
: > with the 2.0.0 kernel.  Any ideas what's happening?  If I purposely type an
: > incorrect password, I don't get logged in, but the prompt doesn't turn to
: > upper case letters, either.
: > 
: > Thanks for any help.
: > 
: > John Carroll
: > pp001356@mindspring.com
 
-- 
--------------------------------------------------------
I have tin news and pine mail...
Victor Wagner @ home       =          vitus @ orc . ru

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.unix.solaris
References: <NKKba.209$E57.226199@news3.news.adelphia.net>
Message-ID: <b4ok7b$1rrt$1@agate.berkeley.edu>
Organization: University of California, Berkeley
Date: Thu, 13 Mar 2003 00:43:23 +0000 (UTC)
From: Alan Coopersmith <alanc * alum.calberkeley.org>
Subject: Re: setenv not function in .cshrc

"dd2003" <dd2003@21rf.com> writes in comp.unix.solaris:
|
|Under cshell, I type "echo $PATH" and found $PATH is
|/usr/bin::/usr/dt/bin:usr/openwin/bin:bin:/usr/ucb.
|
|I don't know where those path come from? Who assign them to my path?


CDE helpfully adds things to your PATH for you when you login via CDE.

See /usr/dt/bin/Xsession near the end.

-- 
________________________________________________________________________
Alan Coopersmith                              alanc@alum.calberkeley.org
http://www.CSUA.Berkeley.EDU/~alanc/       aka: Alan.Coopersmith@Sun.COM
  Working for, but definitely not speaking for, Sun Microsystems, Inc.


 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.terminals,comp.os.linux.questions,comp.unix.aix,comp.emulators.misc
Organization: The Late Great Stratagy Users Group
Message-ID: <rshu_20030314181818@stratagy.com>   
References: <9c190f90.0303141019.ea56382@posting.google.com> <b4tbsb$eu3$1@watsol.cc.columbia.edu>
Date: Fri, 14 Mar 2003 18:18:18 -0500
From: "Richard S. Shuford" <shuford%list.stratagy.com>
Subject: Re: ibm3151 emulator for linux?

John <ops_mgr(at)eluxury.com> wrote...
>
>  I am switching my desktop from NT to Linux....
>  We have a legacy application that requires we use an
>  IBM 3151 terminal to connect to it.  Does anyone know
>  of a good way to emulate a 3151 terminal from Linux? 

Frank da Cruz wrote:
|
|  ...Your choices are pretty much limited to Linux console,
|  DEC VT220 (via Xfree86), and and Xterm.
|
|  Explanation:  http://www.columbia.edu/kermit/ckfaq.html#term
|
|  ...There might be proprietary X-based emulators
|  for specific terminals, but they won't come cheap.


Hi, Frank:

One other relatively recent direction, in which persons could look
for emulation of some lesser-known terminal types from Linux, is a
terminal emulator that is embedded in a Web browser applet or runs
in a Java runtime environment, either with or without a browser.  

There are several such commercial products listed on my web page:

    http://www.cs.utk.edu/~shuford/terminal/pc_emulation.html#java_emul_vendors

There is also the GPL Java Telnet/SSH client:

    http://javassh.org/

However, as far as I can tell, the ASCII asynchronous IBM 3151 is not
among the terminal emulations offered by any of these products, whereas
emulations of the EBCDIC bisynchronous IBM 3270 and 5250 terminals are 
offered by several.

On the other hand, if the application John must use was bought from a
third party vendor, perhaps John should investigate the possibility
that the application really could work with some other terminal type--
but nobody in his organization knows how to invoke the option.
However, without knowing more about it, it is impossible to say.  

 ...Richard S. Shuford
    shuford(at)list.stratagy.com

 ..............................................................................

Newsgroups: comp.terminals,comp.os.linux.questions,comp.unix.aix,comp.emulators.misc,comp.unix.programmer
Organization: The Late Great Stratagy Users Group
Message-ID: <rshu_20030317181919@stratagy.com>
References: <9c190f90.0303141019.ea56382@posting.google.com> <b55cm5$2uo3$1@starbase.starbaseunix.org>
Date: Mon, 17 Mar 2003 18:19:19 -0500
From: "Richard S. Shuford" <shuford%list.stratagy.com>
Subject: Re: ibm3151 emulator for linux?

John (ops_mgr%eluxury.com) wrote...
>
> I am switching my desktop from NT to Linux and I am down to the last
> application I need to migrate.  We have a legacy application that   
> requires we use an ibm3151 terminal to connect to it.  Does anyone
> know of a good way to emulate a 3151 terminal from linux?

Timothy J. Bogart wrote...
|
| I must be missing something, but there are several IBM terminals,
| including 3151 in /etc/termcap.
|
| You have tried
| export TERM=ibm3151
| in a window and have problems? 

Timothy:

I'm afraid you are missing something, namely, clear understanding
of how character-cell terminals (or emulations) interact with the
Unix or Linux user shell and with application programs.

The TERM variable is input to the *application* program, intended to
notify it which terminal type to generate a datastream for, or how
to interpret incoming Escape sequences as known function keystrokes.  

A portably written Unix/Linux application program will call functions 
of the curses or ncurses library to perform these actions; the library
functions are what look up data in the termcap or terminfo database,  
using the TERM variable's value as key.  A program written by somebody
who didn't care about portability will probably not call curses
functions; it will have hard-coded control codes for whatever terminal
type the programmer wanted to use.  (Some non-Unix-like operating 
systems have equivalents to curses/terminfo.)

The "xterm" program (the thing typically employed in X to create a
terminal window) is built to emulate a DEC VT100.  The value of the
TERM environment setting has zero effect on how xterm renders an  
arbitrary datastream of characters on the screen, or what ASCII   
character codes it sends when a key is struck.  On the contrary,
xterm *sets* the TERM variable to be "xterm", because that is what
it is.  (But because xterm emulates a VT100, it is often perfectly
satisfactory to set TERM to "vt100" when using xterm.  There do
exist alternative terminal emulators for X/Gnome/etc., but none
appear to emulate the IBM 3151.)

The IBM 3151 is a different animal from a DEC VT100.  If xterm
is fed an IBM 3151 datastream, its screen will display garbage, and
none of the function keys will act as expected.

There are two immediate questions to ask:

(1) Was the program written portably or not?  If it is portable,
    then perhaps it can use one of the available emulations.

    However, if it is not portable (as the original poster believes),
    then the issue becomes...
    
(2) How can the Linux machine emulate the IBM 3151 terminal,
    to properly render the IBM 3151 datastream on the screen
    and generate IBM 3151 function keystrokes?

Alas, there appears to be no quick solution to (2).
    
See also section 9.2 of David Lawyer's introduction to the subject:

    http://www.tldp.org/HOWTO/Text-Terminal-HOWTO.html


      [2007-03-16: the above URL is still good; the page was revised 2006-12]

    
See also:

    http://www.aplawrence.com/Unixart/termcap.html
    http://publib16.boulder.ibm.com/pseries/en_US/aixasync/asycomgd/Term3151_AsynComm.htm
    ftp://ftp.gnu.org/gnu/ncurses/
    http://invisible-island.net/xterm/xterm.html
    http://www.cs.utk.edu/~shuford/terminal_index.html
    
If I were the original poster, and if I had some money to spend,
then I'd call Ericom Software...
    
    http://www.ericom.com/

...and ask if that vendor would consider adding IBM 3151 or 3153
emulation to its PowerTerm InterConnect emulation product, which is
available for several platforms, including Linux and Solaris.

 ...Richard S. Shuford
    shuford(at)list.stratagy.com

 ..............................................................................

 [Later clarification: the original "xterm" program was designed to emulate
  a DEC VT100, but the XFree86 distribution includes a version of xterm that
  Thomas Dickey has enhanced to emulate, very nearly, a DEC VT220.]

 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 

2007-03-27

  On Ericom's website at http://www.ericom.com/termemulation.asp
  the PowerTerm description now lists the IBM 3151 as a supported
  emulation type (among many).

  Ericom says that PowerTerm is supported as a user-side client under
  Windows, Mac OSX, Solaris Unix, and--yes--Linux.

 ..............................................................................


Newsgroups: comp.terminals, comp.os.linux.questions, comp.unix.aix,
    comp.emulators.misc, comp.unix.programmer
References: <9c190f90.0303141019.ea56382@posting.google.com>
    <b55cm5$2uo3$1@starbase.starbaseunix.org> <rshu_20030317181919@stratagy.com>
Message-ID: <b571fu$270$1@news1.radix.net>
Organization: RadixNet Internet Services
Date: 18 Mar 2003 11:55:42 GMT
From: Thomas Dickey <dickey@saltmine.radix.net>
Subject: Re: ibm3151 emulator for linux?

In comp.os.linux.questions Richard S. Shuford wrote:
>
> The "xterm" program (the thing typically employed in X to create a
> terminal window) is built to emulate a DEC VT100.  The value of the
> TERM environment setting has zero effect on how xterm renders an...

that's true: xterm is a machine.

adding to the overall confusion, there is a faction which insists that
the terminal emulator should render data differently when the locale is
changed.


> The IBM 3151  is a different animal from a DEC VT100.  If xterm
> is fed an IBM 3151 datastream, its screen will display garbage, and
> none of the function keys will act as expected.

indeed - a quick look at ibm3151 shows little commonality with ANSI terminals.


> If I were the original poster, and if I had some money to spend,
> then I'd call Ericom Software...
>    http://www.ericom.com/

I wouldn't give money to Ericom (a matter of taste: having noticed that he
writes his own fanmail).

-- 
Thomas E. Dickey <dickey@radix.net> <dickey@herndon4.his.com>
http://dickey.his.com/
 ftp://dickey.his.com/

 ..............................................................................


Newsgroups: comp.os.linux.questions, comp.unix.aix, comp.emulators.misc,
    comp.terminals
References: <9c190f90.0303141019.ea56382@posting.google.com>
    <16616D68729B2C93.66C9D22D8503C8B9.E2A2E62DAC40CF95@lp.airnews.net>
Message-ID: <pan.2003.03.18.13.14.20.819410@cs.helsinki.fi>
Organization: The ones who help to set the Sun
Date: Tue, 18 Mar 2003 15:14:28 +0200
From: Harri Haataja <harri.haataja@cs.helsinki.fi>
Subject: Re: ibm3151 emulator for linux?

Chris Cox wrote:
> John wrote:
>> I am switching my desktop from NT to Linux and I am down to the last
>> application I need to migrate.  We have a legacy application that
>> requires we use an ibm3151 terminal to connect to it.  Does anyone know
>> of a good way to emulate a 3151 terminal from linux?  Any help would be
>> greatly appreciated.

You could also try running the emulator you use in NT under WINE first and
if it works, you can migrate and look for better alternatives later.

-- 
As the Euclideans would have it, irrationality is the square root of all evil.

 ..............................................................................

Newsgroups: comp.os.linux.questions, comp.unix.aix, comp.emulators.misc,
    comp.terminals
References: <9c190f90.0303141019.ea56382@posting.google.com>
Message-ID: <16616D68729B2C93.66C9D22D8503C8B9.E2A2E62DAC40CF95@lp.airnews.net>
Organization: Airnews.net! at Internet America
Date: Mon, 17 Mar 2003 10:38:31 -0600
From: Chris Cox <ccox_nopenotthis@airmail.net>
Subject: Re: ibm3151 emulator for linux?

John wrote:
> I am switching my desktop from NT to Linux and I am down to the last
> application I need to migrate.  We have a legacy application that
> requires we use an ibm3151 terminal to connect to it.  Does anyone
> know of a good way to emulate a 3151 terminal from linux?  Any help
> would be greatly appreciated.

I don't suppose you know if the app is written using termcap and/or
terminfo or not?  If the terminal escapes are hard-coded, you'll
have to get a commerical emulator.. like FacetTerm.

    http://www.facetcorp.com/ft_terminals.html

If it is using a terminal capabilities database, there might be a workaround.

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.terminals
Message-ID: <a9500ccf.0303172300.389078c2@posting.google.com>
Organization: http://groups.google.com/
Date: 17 Mar 2003 23:00:54 -0800
From: rulitz <sc@mtxnet.com>
Subject: Linux/ckermit/wyse60 --> SuperDos

This may not be the appropriate place to post this, but I am at a
loss for an answer here, and thought that maybe someone on this group
may have done something similar.

I need to connect my Linux box (Debian distro) to an application
running on SuperDos. The only emulation the app does is wyse60.

I am trying to do this with cKermit. Before starting kermit i invoke
"export term=wy60". From what I have read about cKermit, it is
supposed to use the underlying emulation.

Unfortunately it doesn't seem to matter what the environment term
variable is set to. The end result is the same....A garbled mis-drawn
app screen.

I know all of the hardware is set up OK because I downloaded an
evaluation of a commercial app that displayed perfectly when set up to
do wyse60 emulation.

Any help would be greatly appreciated.

thanks.

 ..............................................................................

Newsgroups: comp.terminals
References: <a9500ccf.0303172300.389078c2@posting.google.com>
Message-ID: <b57kuo$p78$1@newsmaster.cc.columbia.edu>
Organization: Columbia University
Date: 18 Mar 2003 17:27:52 GMT
From: Jeffrey Altman <jaltman@watsun.cc.columbia.edu>
Subject: Re: Linux/ckermit/wyse60 --> SuperDos

In article <a9500ccf.0303172300.389078c2@posting.google.com>,
rulitz <sc@mtxnet.com> wrote:
:
: I am trying to do this with cKermit. Before starting kermit i invoke
: "export term=wy60". From what I have read about cKermit, it is
: supposed to use the underlying emulation.

The problem is that C-Kermit is not a terminal emulator.  

C-Kermit only acts as a pipe between the remote host and your local
session.  The terminal that you are using on Linux is an Xterm.
Xterm's are not compatible with the wy60 escape sequences.

 ..............................................................................

Newsgroups: comp.terminals
References: <a9500ccf.0303172300.389078c2@posting.google.com>
    <b57kuo$p78$1@newsmaster.cc.columbia.edu>
Message-ID: <b57ui6$k1l$1@watsol.cc.columbia.edu>
Organization: Columbia University
Date: 18 Mar 2003 15:11:50 -0500
From: Frank da Cruz <fdc@columbia.edu>
Subject: Re: Linux/ckermit/wyse60 --> SuperDos

In article <b57kuo$p78$1@newsmaster.cc.columbia.edu>,
Jeffrey Altman <jaltman@watsun.cc.columbia.edu> wrote:
: 
: The problem is that C-Kermit is not a terminal emulator.  
: C-Kermit only acts as a pipe between the remote host and your local
: session.  The terminal that you are using on Linux is an Xterm.
: Xterm's are not compatible with the wy60 escape sequences.


This topic comes up with increasing frequency.  Richard Shuford just
posted an good overview of it on the "ibm3151 emulator for linux?"
thread.  Again, I invite everybody to read and understand:

  http://www.columbia.edu/kermit/ckfaq.html#term

which says essentially the same things but in a bit more detail.

In a different world, where programmers have secure jobs and can work
on projects that benefit the world at large without having to worry
about generating enough revenue month after month, year after year,
not to be laid off, a nice project might be to adapt Kermit 95:

  http://www.columbia.edu/kermit/k95.html

(which has 40-some terminal emulations built in, including Wyse60
and IBM3151) to X, and poof, suddenly you have an xterm can emulate
anything you want.

- Frank

 ..............................................................................

Newsgroups: comp.terminals
References: <a9500ccf.0303172300.389078c2@posting.google.com>
    <b57kuo$p78$1@newsmaster.cc.columbia.edu>
    <a9500ccf.0303190039.1e5686cb@posting.google.com>
Message-ID: <b59me1$sta$1@pegasus.csx.cam.ac.uk>
Organization: University of Cambridge, England
Date: 19 Mar 2003 12:05:21 GMT
From: Ben Harris <bjh21@cus.cam.ac.uk>
Subject: Re: Linux/ckermit/wyse60 --> SuperDos

In article <a9500ccf.0303190039.1e5686cb@posting.google.com>,
rulitz <sc@mtxnet.com> wrote:
|
| Actually I'm using a console tty. Not that different though?  I
| understand that kermit doesn't do the emulation, and I read the FAQ on
| the kermit site regarding the misconceptions about kermit and terminal
| emulation. I guess what I don't understand is why, if the SuperDos
| program is sending characters in wyse60 mode, can't Linux decode them
| with its wyse60  termcap/terminfo database entry?  What is the point
| of the terminfo/termcap db. Is it only so it can "send" in those
| emulations?

Indeed.  terminfo doesn't completely describe the terminal -- it just 
describes how to ask it to do certain things.

| What do you think will happen if I use a terminal emulator on a
| windows pc in wyse60 mode, telnet to the linuxbox, then start kermit
| in a shell session that connects via serial to the SuperDos machine.

That should work, yes.

-- 
Ben Harris
Unix Support, University of Cambridge Computing Service.
  If I wanted to speak for the University, I'd be in ucam.comp-serv.announce.

 ..............................................................................

Newsgroups: comp.terminals, comp.os.linux.questions, comp.unix.aix,
    comp.emulators.misc, comp.unix.programmer
References: <9c190f90.0303141019.ea56382@posting.google.com>
    <b55cm5$2uo3$1@starbase.starbaseunix.org> <rshu_20030317181919@stratagy.com>
Message-ID: <b5g1rt$rvh$1@starbase.starbaseunix.org>
Date: 21 Mar 2003 15:57:17 -0600
From: Timothy J. Bogart <tjb@starbase.starbaseunix.org>
Subject: Re: ibm3151 emulator for linux?

Richard S. Shuford wrote:
>
>John (ops_mgr%eluxury.com) wrote...
>>
>> I am switching my desktop from NT to Linux and I am down to the last
>> application I need to migrate.  We have a legacy application that
>> requires we use an ibm3151 terminal to connect to it.  Does anyone
>> know of a good way to emulate a 3151 terminal from linux?
>    
>Timothy J. Bogart wrote...
>|
>| I must be missing something, but there are several IBM terminals,
>| including 3151 in /etc/termcap.
>|
>| You have tried
>| export TERM=ibm3151
>| in a window and have problems?
>
> Timothy:

<snip>

> using the TERM variable's value as key.  A program written by somebody
> who didn't care about portability will probably not call curses
> functions; it will have hard-coded control codes for whatever terminal
> type the programmer wanted to use.  (Some non-Unix-like operating  
> systems have equivalents to curses/terminfo.)

<snip>

And having seen programmers who claimed 20 years experience hard coding
paths to files in their home directory--how could I miss that one?!

Thanks for the reminder.

<snip>


>    http://www.tldp.org/HOWTO/Text-Terminal-HOWTO.html
>
> See also:
>
>    http://www.aplawrence.com/Unixart/termcap.html
>    http://publib16.boulder.ibm.com/pseries/en_US/aixasync/asycomgd/Term3151_AsynComm.htm
>    ftp://ftp.gnu.org/gnu/ncurses/
>    http://invisible-island.net/xterm/xterm.html
>    http://www.cs.utk.edu/~shuford/terminal_index.html

Thanks, I shall avail myself

<snip>

-- 
"I'm a big fan of ignorance based techniques, because humans 
have a lot of ignorance, and we want to play our strong suit."
  Eric Lander  New Scientist

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.terminals
NNTP-Posting-Host: p24d1bfbfff000000914c5a400e31410f36e11b306d4a02d7120eacc9082193e1.newsdawg.com
Message-ID: <eu33hu01ifc@enews2.newsguy.com>
Date: Sat, 24 Mar 2007 07:58:11 -0400
From: Peter <psantoro@bluefrog.com>
Subject: dorio 10 passthru printing and ncurses

I've recently been given the job of maintaining some old C programs
(first written around 1984) which used to use termcap and/or terminfo.
Prior to picking up this work, the code was ported to use ncurses.
The OS is Linux (2.4 and 2.6 kernels).

The configuration I'm trying to get to work is a Dorio 10 terminal
connected to a receipt printer (Ithaca Pos50?) and display pole.  Other
supported hardware configurations are supposedly working fine.  Prior to
the ncurses port, this configuration supposedly worked fine, too.

The actual code that talks to the display pole and printer (via stdout
in this configuration) was not changed when ported to ncurses; however,
the underlying i/o calls were changed to use the higher level c i/o
calls (fwrite/fflush) instead of the lower level os write calls.

The symptoms of the problem are as follows:

When data is written to the display pole, it does not appear.  The
application continues to the point where it should be displaying a new
menu and accepting keystrokes.  The application does indeed accept
keystrokes, but the new menu is not displayed.  If you type invalid
keys, the application logic beeps the console (also calls fflush on
stdout).  With each invalid keystroke, 0 or 1 character appears on the
display pole.  If you type enough invalid keys, all the data that was
previously sent to the display pole appears and the new menu appears on
the terminal.  This configuration works fine without the display pole.
I tried inserting additional fflush(stdout) calls after writing the data
to the display pole and I was able to get 2 or 3 characters output to
the display pole per each invalid keystroke.  Additional calls to
fflush(stdout) did not appear to help any more.

I'm guessing that the problem is related to one or more of the following:

1) stdout is being buffered even though calls to fflush are being used
2) an interaction between ncurses and the application with respect to
   its use of stdout (perhaps newterm/set_term/endwin should be used
   instead of initscr?)
3) non-blocking i/o
4) terminal firmware and/or timing issues

What's really confusing here is that the ncurses version of this code
supposedly works fine using other terminal/display pole/printer combos
and the pre-ncurses version supposedly works fine with the Dorio.  I
will do further testing next week to verify these assertions.

Any tips and pointers you can give me would be appreciated.

Thank you,
-- 
Peter

 ..............................................................................

Newsgroups: comp.terminals
NNTP-Posting-Host: p24d1bfbfff000000914c5a400e31410f36e11b306d4a02d7120eacc9082193e1.newsdawg.com
References: <eu33hu01ifc@enews2.newsguy.com>
Message-ID: <eu3jd902hrk@enews5.newsguy.com>
Organization: NewsGuy - Unlimited Usenet $19.95
Date: Sat, 24 Mar 2007 12:29:10 -0400
From: Peter <psantoro@bluefrog.com>
Subject: Re: dorio 10 passthru printing and ncurses

Ok, I think I may have figured this problem out.  The pre-ncurses
programs owned stdout and were free to write to stdout as they pleased.
 In the ncurses port, stdout is owned by ncurses.  I believe the problem
I'm seeing is because portions of the program (that deal with display
poles and aux port printing) still write directly to stdout (ie. mixing
curses i/o with stdio).

If correct, is the best solution simply to open another file descriptor
to the appropriate tty or STDOUT_FILENO and write to it instead of the
ncurses' owned stdout?

Peter

 ..............................................................................

Newsgroups: comp.terminals
References: <eu33hu01ifc@enews2.newsguy.com> <eu3jd902hrk@enews5.newsguy.com>
Message-ID: <130b0an22unth4c@corp.supernews.com>
Date: Sat, 24 Mar 2007 19:51:51 -0000
From: Thomas Dickey <dickey@saltmine.radix.net>
Subject: Re: dorio 10 passthru printing and ncurses

Peter <psantoro@bluefrog.com> wrote:
> Ok, I think I may have figured this problem out.  The pre-ncurses
> programs owned stdout and were free to write to stdout as they pleased.
>  In the ncurses port, stdout is owned by ncurses.  I believe the problem
> I'm seeing is because portions of the program (that deal with display
> poles and aux port printing) still write directly to stdout (ie. mixing
> curses i/o with stdio).

A refresh() or doupdate() call should flush stdout (for ncurses at least).
That might be enough to make your application work.

But you can also use newterm() to open the curses input/output on
different streams than stdin/stdout.

> If correct, is the best solution simply to open another file descriptor
> to the appropriate tty or STDOUT_FILENO and write to it instead of the
> ncurses' owned stdout?

-- 
Thomas E. Dickey
http://invisible-island.net/
 ftp://invisible-island.net/

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.sys.sun.admin, comp.unix.solaris
Message-ID: <1054160674.457346@irys.nyx.net>
References: <1054054276.401568@irys.nyx.net>
    <bb141u$67h$1@reader1.panix.com> <1054142429.842153@irys.nyx.net>
    <Xm6Ba.17$pS.263@paloalto-snr1.gtei.net>
Date: 28 May 2003 16:24:34 -0600
From: arthur wouk <awouk@blackhole.nyx.net>
Subject: Re: sending escape sequences via telnet in a lan? (newbie)

In article <Xm6Ba.17$pS.263@paloalto-snr1.gtei.net>,
Barry Margolin  <barry.margolin@level3.com> wrote:
:
:In article <1054142429.842153@irys.nyx.net>,
:arthur wouk <awouk@blackhole.nyx.net> wrote:
:>on each machine, if i telnet to the other and hit the esc key, the
:>the screen shows ^[, and k does not cycle back through the history
:>record on either machine.
:>
:>i have read man stty,  and it is not stty - there is no esc mode.
:>i have read man history, and it fails to discuss the connection of the
:>esc key  with this feature. but since such a feature is present in
:>both csh and ksh, it might be in man ksh for me. i will look.
:>
:>i checked man telnet and it does not discuss any particular features
:>which might apply.
:
:
:This sounds like telnet's "line mode", where the telnet client processes
:input a line at a time rather than sending each character immediately as
:it's typed.
:

thanks.

i just did man telnet and searched on line mode. that must be it.

now i have to figure out how to put all my machines into character
mode! hint?

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.unix.solaris
NNTP-Posting-Host: lanka.uk.sun.com
NNTP-Posting-Date: 18 Sep 2003 13:27:12 GMT
References: <bkca9o$fjb$1@news.x-echo.com>
Message-ID: <3F69B2AF.5090901@s-u-n.com>
Organization: Sun Microsystems
Date: Thu, 18 Sep 2003 14:27:11 +0100
From: Tony Walton <tony.walton@s-u-n.com>
Subject: Re: csdata in stty

bhp wrote:
 > Hello
 >
 > Do you know the meaning of csdata in stty -a < /dev/ttyb ? Is it cs
 > for checksum or cs for character size.

Neither - it's "cs" for codeset.

This is concerned with multibyte character sets using
EUC (Extended Unix Code) characters.

See   $ man -s 3c cset
among others.

-- 
Tony

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.unix.solaris
References: <3f43748d_1@news.vo.lu>
Message-ID: <3F438797.1000606@sun.com>
Organization: Sun Microsystems Corporation
Date: Wed, 20 Aug 2003 10:37:11 -0400
From: ML Starkey <martha.starkey%sun.com>
Subject: Re: configure Serial port

mika wrote:
>
> Hello,
> 
> We have some problem when we try to access terminal concentrator
> from Sun V480. We have configure the /etc/remote file like this way:
> 
> hardwire:\
>         :dv=/dev/term/a:br#9600:el=^C^S^Q^U^D:ie=%$:oe=^D:
> 
> When we enter the command tip hardwire we always get this messages:
>
> tip: /dev/term/a: Permission denied
> all ports busy
> 
> We also try also to change the configure of serial ports with admintool,
> but it says configuration change failed.
> 
> Any idea
> Thanks

OK, so you are trying to access the terminal concentrator from the Sun 
V480 serial port?  Is that so you can connect to the t/c console port 
for configuration purposes?

The error message you are getting means that something else is using the 
serial port (all ports busy) and that the devices don't have the proper 
permissions (permission denied)

The V480 should be using serial port "a" as its console, which probably 
explains the "all ports busy" i.e. the console process has the port and 
tip can't use it. (if you have configured the RSC card as the console, 
this wouldn't apply.)

Also, when using the "hardwire" line in the /etc/remote file, change 
/dev/term/a to /dev/cua/a.  Also, the character device files that the 
links in /dev/term and /dev/cua are pointing to should be owned by tty 
and uucp respectively.  [* see below]

You shouldn't have any service running on port a in admintool.  If you 
do, remove it so it says "no service".  Also, if your serial port a IS 
the console, you can't use it for anything else.  You may want to use 
another machine to configure the t/c, if that is what you are doing.  If 
you are just trying to connect the v480 serial port a console to the 
t/c, you don't have to use tip for anything.  Just make sure you have 
the proper cabling and plug it in..

 ..............................................................................

Newsgroups: comp.unix.solaris
References: <3f43748d_1@news.vo.lu> <3F4387D6.4080301@sun.com>
Message-ID: <bi04h2$pp6$1@reader2.panix.com>
Organization: I have a map of the United States that's actual size
Date: Wed, 20 Aug 2003 15:36:02 +0000 (UTC)
From: Greg Andrews <gerg%panix.com>
Subject: Re: configure Serial port

ML Starkey <martha.starkey@sun.com> writes:
>correction:
>
>both sets of character device files for the cua and term devices should 
>be owned by uucp.
>

No, the term devices are owned by root.  Ttymon will change the ownership
if it's run on the devices and finds them owned by someone else.  Ttymon
runs as root, so it can open the root owned device files in /dev/term.
Only the cua devices are owned by uucp, so uucp utilities (uucico, cu) can
open them for dial-out purposes.  Tip and kermit are suid uucp, just like
cu, so they also can open the device files in /dev/cua for dial-out purposes.

  -Greg
-- 
Do NOT reply via e-mail.
Reply in the newsgroup.

 ..............................................................................

Newsgroups: comp.unix.solaris
References: <3f43748d_1@news.vo.lu>
Message-ID: <3F4387D6.4080301@sun.com>
Organization: Sun Microsystems Corporation
Date: Wed, 20 Aug 2003 10:38:14 -0400
From: ML Starkey <martha.starkey%sun.com>
Subject: Re: configure Serial port

correction:

Both sets of character device files for the cua and term devices
should  be owned by uucp.


 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.unix.solaris
Message-ID: <38bff51c.0309042101.3017b84@posting.google.com>
References: <38bff51c.0309031628.2f0503de@posting.google.com>
    <m3smnd9cb4.fsf@redhat-9.home.lunanbay.com>
Date: 4 Sep 2003 22:01:12 -0700
From: Nicole Harvey <nicole_learning_solaris@yahoo.com>
Subject: Re: dual booting Solaris 8 and Solaris 9

> > How do I send a STOP+A signal to a host If I am connected via a
> > terminal server and the host doesnt have a Key board. Does having 2
> 
>  Send a BREAK through your terminal server, that is, assuming you have
>  reset the system's console to the serial port.


Yeah! My systems console is connected via a serial port to a terminal
server and I log on to the terminal server(runs some Linux) using my
Sun Blade. I tried sending in a break signal from my blade but it
didnt help. In fact I tried ctrl+pause.

Is ctrl+pause==break??

 ..............................................................................

Newsgroups: comp.unix.solaris
Message-ID: <f882b5f2.0309050202.44de5b24@posting.google.com>
References: <38bff51c.0309031628.2f0503de@posting.google.com>
    <m3smnd9cb4.fsf@redhat-9.home.lunanbay.com>
    <38bff51c.0309042101.3017b84@posting.google.com>
Date: 5 Sep 2003 03:02:29 -0700
From: Igor Alyoshin <finist@gib.ru>
Subject: Re: dual booting Solaris 8 and Solaris 9

> Is ctrl+pause==break??

It depends on your terminal emulator program (look for docs).

If you use tip, it's a ~# sequence.

If HyperTerminal (Windows prog, you know), Ctrl-Break...

If telnet to some terminal concentrator - ^], "send brk", and so on ...

 ..............................................................................

Newsgroups: comp.unix.solaris
Message-ID: <m3brtz7b10.fsf@redhat-9.home.lunanbay.com>
References: <38bff51c.0309031628.2f0503de@posting.google.com>
    <m3smnd9cb4.fsf@redhat-9.home.lunanbay.com>
    <38bff51c.0309042101.3017b84@posting.google.com>
Date: Fri, 05 Sep 2003 12:03:07 +0100
From: Ian Fitchet <idf@lunanbay.LESS-SPAM.com>
Subject: Re: dual booting Solaris 8 and Solaris 9

 As Igor says in his follow-up it really does rather depend on your
 terminal server.  For example, the default character sequence for
 sending BREAK on a Lightwave Console is

ESC B

 but on a Lightwave you can configure it to something of your own
 choosing.  You're not sending the BREAK directly from your keyboard,
 by typing a peculiar character sequence on your keyboard you're
 trying to convince the terminal server to send a BREAK to the
 console.  Time to RTFM!  :-)

Cheers,

        Ian

 ..............................................................................

Newsgroups: comp.unix.solaris
References: <96c02c80.0409170856.41fddbf6@posting.google.com>
Message-ID: <pan.2004.09.17.18.06.32.422910@yahoo.com>
Date: Fri, 17 Sep 2004 13:06:32 -0500
From: Dave Uhring <daveuhring*yahoo.com>
Subject: Re: Help : Solaris 8 does not boot

On Fri, 17 Sep 2004 09:56:15 -0700, Damadomu wrote:
>
> Is there a way to reach the "ok" prompt using a key-sequence
> (CTRL-ALT-A or... I don't know..) or another way to boot the
> system in single user mode ?

The exact key sequence depends on your terminal.

With "minicom" on Linux it is  Ctrl-A F.

Once you do get the "ok" prompt, then

ok  boot disk -r


 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.unix.solaris
References: <brag9s$7c9$1@agate.berkeley.edu>   
    <slrnbtits9.2fu.dave@fly.srk.fer.hr>
Message-ID: <vtjg6thava7536@corp.supernews.com>
Organization: Timetravellers Anonymous
Date: Fri, 12 Dec 2003 13:21:33 -0000
From: Richard L. Hamilton <Richard.L.Hamilton@mindwarp.smart.net>
Subject: Re: Solaris 9 gnome-terminal source code

In article <slrnbtits9.2fu.dave@fly.srk.fer.hr>,
        Drazen Kacar <dave@fly.srk.fer.hr> writes:
>
> Akop Pogosian wrote:
>>
>>  Does anyone know where to find Sun's modifications to gnome-terminal
>>  in Solaris 9?
> 
> All Sun's modifications used to be in Gnome's CVS. I don't remember the
> module name any more, but it was something unmistakable, like "sun" or
> "solaris".


One of the things that stinks is (at least AFAIK) there's no -C option
(like with xterm, dtterm, and cmdtool) to cause console output to appear in
that window.  Ditto for the KDE terminal.

Something separate, such as xconsole or better;  mxconsole

    http://www.muquit.com/muquit/software/mxconsole/mxconsole.html

is better than nothing, but sometimes still not as good as a plain old
terminal emulator that can also show console output.

-- 
mailto:rlhamil@smart.net  http://www.smart.net/~rlhamil

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.unix.solaris
References: <db9aecfd.0401301645.174dfd54@posting.google.com>
Message-ID: <401b9eaf$0$328$e4fe514c@news.xs4all.nl>
Organization: Sun Microsystems, Netherlands
Date: 31 Jan 2004 12:25:19 GMT
From: Casper H.S. Dik <Casper.Dik@Sun.COM>
Subject: Re: pseudo terminal(grantpt) problems

sanjvkoz@yahoo.com (Sanjeev) writes:
>
> I am using pseudo terminals to drive an executable (sftp) from my code.
> I open a pseudo terminal(using grantpt) and fork. In the child the
> slave pty is opened and the sftp program is exec'd. The parent reads
> and writes to sftp by using the master file descriptor. Please see the
> program below.

> The problem is, sometimes when the parent writes to the master fd and
> tries to read the output from the child using the same fd, it gets
> whatever it just wrote. Apparently, the child did not get a chance to
> read it.

Actually, the child does get to read it but the pseudo tty
echos the input.

It's just like typing to a pseudo terminal; I'm not typing this in an
xterm; each character that the xterm reads is send to the pseudo tty
and then xterm reads back my output; when typing, the output is typically
the echoed characters.

> The only way I was able to avoid this is by putting a sleep between
> the parent's write and select statements.

You should still see all your output; it is possible that your code
sends the password before sftp has switched off echo; but normally
the password should not be echoed.

> Is there any other way that it can be avoided? Am I not setting any
> relevant terminal options/modules?

Unset echo on the tty in the child.

Some other small remarks:


> #include <stdio.h>
> #include <unistd.h>
> #include <errno.h>
> #include <fcntl.h>
> #include <sys/ioctl.h>
> #include <sys/time.h>
> #include <sys/filio.h>
> #include <stropts.h> 


Missing: #include <stdlib.h>


>      slave = (char *) ptsname(fdm);

This case is wrong also; it the compiler from warning you that you
forgot to include <stdlib.h>; not that the above code would not work
as 64 bit program.

>      fds = open(slave, O_RDWR);  

>      if (fds <=0){

Wrong check: should be fds < 0

Casper

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.unix.solaris
NNTP-Posting-Host: zu-bas02.csfb.ch [198.240.129.48]
NNTP-Posting-Date: Fri, 8 Oct 2004 15:38:39 +0000 (UTC)
References: <8-adnReh-fYvP_ncRVn-hQ@comcast.com>
Message-ID: <7ca75749.0410080738.4961346b@posting.google.com>
Date: 8 Oct 2004 08:38:39 -0700
From: aryzhov <aryzhov@my-deja.com>
Subject: Re: xterm wrapper and the -e option

Just an idea. Yes, yes, there are hundreds of better ways! :-)
CMD='
  ptree $$
  echo About to kill `ps -o ppid -p $$ | tail -1`
  echo Press Return
  read a
  sleep 1
'
xterm -e /bin/sh -c "$CMD"';kill `ps -o ppid -p $$ | tail -1`'

I'd strongly recommend to use the same mechanism for CMD=/bin/login
to make sure that xterm gets securely destroyed afterwards.

Regards,
Andrei

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.unix.solaris, comp.unix.programmer, comp.terminals
NNTP-Posting-Host: asie.ens-lyon.fr
NNTP-Posting-Date: 1 Sep 2005 22:46:28 GMT
References: <1125362705.805440.53770@f14g2000cwb.googlegroups.com>
Message-ID: <Pine.LNX.4.58.0509020043090.606@asie.ens-lyon.fr>
Organization: Ecole Normale Superieure de Lyon, France
Date: Fri, 2 Sep 2005 00:46:26 +0200
From: Samuel Thibault <Samuel.Thibault@ens-lyon.fr>
Subject: Re: how to start new term at runtime

Hi,

On Tue, 29 Aug 2005, BM Sundar wrote:
>
> I want to redirect the debug statements of my programme
> running in one window to another new window at runtime.
> but I couldnt find a way for opening a window at runtime.
>
> Is that possible to do that ?
> If its a system call then it would be better..
> Also it need to support xterm, vt100..

You may create a socketpair, fork, set the socket as stdin/stdout/stderr,
and then exec

    xterm -S//0

for letting xterm read its output from stdin and send key presses to
stdout (hence you can send to and get data from the other end of the
socketpair).

Regards,
Samuel

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.terminals
NNTP-Posting-Host: rrz.allgaeu.org
References: <Pine.OS4.4.58.0411041152400.2834@rrz.allgaeu.org>
    <cmdbue$dk5$03$1@news.t-online.com>
Message-ID: <cmllt3$man$1@rrz.allgaeu.org>
Date: 7 Nov 2004 17:26:59 GMT
From: Volker Englisch <v.englisch@quantentunnel.de>
Subject: Re: VT510 Austrian/German keyboard

Jens Schmidt schrieb:
> Volker Englisch wrote:
>
>> I have a Austrian/Germany layout keyboard attached to my VT510
>> terminal (Model LK412-AG). With the key "Gruppenumsch" I can access
>> the chars labeled in the lower right corner of the keys. But how to
>> access the characters in the lower left or the upper right corner of
>> the keys, like the Pound sign of the 3 key? I tried lots of possible
>> combinations but can't figure it out. Does any of you have the same
>> keyboard and knows how to solve? TIA.
>
> Lower left??? That is just the key itself.

Hmm, wasn't my day, eh? Sorry...

> Upper right: Use "Gruppenumsch" as a prefix, not a modifier. Then
> press Shift together with the key.

Thanks a lot for your explanation.

Volker

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.unix.solaris
Message-ID: <pan.2005.05.15.20.19.07.895370@tel.fer.hr>
Organization: IskonInternet d.d.
Date: Sun, 15 May 2005 22:19:08 +0200
From: Josip Gracin <gracin@tel.fer.hr>
Subject: Solaris console has no scroll capability (Solaris 10/x86)?

Hi!

After a command line login, we get a prompt at console.  However, as soon
as the cursor reaches 25th line, the screen gets cleared and new prompt is
placed on the top of screen, i.e. in the first line.  Needless to say,
this makes it nearly impossible to do any work.

How do I make console behave as a normal terminal?  I've tryed setting
TERM to all sorts of values such as sun-color, dumb, vt100, vt52, dtterm,
xterm.  I've tryed using 'stty rows 24' just to try, but this doesn't
change the number of rows, it remains on 25.

 ..............................................................................

Newsgroups: comp.unix.solaris
References: <pan.2005.05.15.20.19.07.895370@tel.fer.hr>
    <3t3ie.18012$J12.9865@newssvr14.news.prodigy.com>
    <pan.2005.05.16.16.16.39.650748@tel.fer.hr>
    <4288d442$0$64738$e4fe514c@news.xs4all.nl>
    <pan.2005.05.16.20.03.13.286677@tel.fer.hr>
Message-ID: <118jcfphuc73g09@corp.supernews.com>
Organization: RadixNet Internet Services
Date: Tue, 17 May 2005 08:57:29 -0000
From: Thomas Dickey <dickey@saltmine.radix.net>
Subject: Re: Solaris console has no scroll capability (Solaris 10/x86)?

Josip Gracin <gracin@tel.fer.hr> wrote:
>
> On Mon, 16 May 2005 17:11:30 +0000, Casper H. S. Dik wrote:
>>
>> This looks like the behaviour of a Sun console when it's
>> gotten a standard vt100 init sequence.  So check your
>> login scripts and tty settings.

> It seems you are right.  It is caused when TERM is set to dtterm and 'vim'
> is started.  Vim somehow screws up the terminal.

> Is there any way to reinitialize it back to normal?  I've tryed 'reset'
> and 'tput -Tterm init' with various terms and it didn't work.


The console's terminal entry is 'sun' (set TERM to 'sun' and reset).
According to the wscons manpage, that should work (see the discussion
of "ESC[r" and "ESC[s").

-- 
Thomas E. Dickey
http://invisible-island.net/
 ftp://invisible-island.net/

 ..............................................................................

Newsgroups: comp.unix.solaris
NNTP-Posting-Host: vr.tel.fer.hr
NNTP-Posting-Date: Tue, 17 May 2005 10:06:19 +0000 (UTC)
References: <pan.2005.05.15.20.19.07.895370@tel.fer.hr>
    <3t3ie.18012$J12.9865@newssvr14.news.prodigy.com>
    <pan.2005.05.16.16.16.39.650748@tel.fer.hr>
    <4288d442$0$64738$e4fe514c@news.xs4all.nl>
    <pan.2005.05.16.20.03.13.286677@tel.fer.hr>
    <118jcfphuc73g09@corp.supernews.com>
Message-ID: <pan.2005.05.17.10.06.14.854282@tel.fer.hr>
Organization: CARNet, CROATIA
Date: Tue, 17 May 2005 12:06:14 +0200
From: Josip Gracin <gracin@tel.fer.hr>
Subject: Re: Solaris console has no scroll capability (Solaris 10/x86)?

On Tue, 17 May 2005 08:57:29 +0000, Thomas Dickey wrote:
>
> The console's terminal entry is 'sun' (set TERM to 'sun' and reset).

If I don't set anything in my login scripts, TERM gets set to sun-color.

> According to the wscons manpage that should work ( see the discussion
> of ESC[r and ESC[s ).

Yes, that's it!  Echoing '^[[1r' restores the normal scrolling.

Thanks everybody!

 ..............................................................................

Newsgroups: comp.unix.solaris
NNTP-Posting-Host: 62-177-151-68.dyn.bbeyond.nl
References: <pan.2005.05.15.20.19.07.895370@tel.fer.hr>
    <3t3ie.18012$J12.9865@newssvr14.news.prodigy.com>
    <pan.2005.05.16.16.16.39.650748@tel.fer.hr>
    <4288d442$0$64738$e4fe514c@news.xs4all.nl>
    <pan.2005.05.16.20.03.13.286677@tel.fer.hr>
Message-ID: <4289d100$0$64599$e4fe514c@news.xs4all.nl>
Organization: Sun Microsystems, Netherlands
Date: 17 May 2005 11:09:52 GMT
From: Casper H.S. Dik <Casper.Dik@Sun.COM>
Subject: Re: Solaris console has no scroll capability (Solaris 10/x86)?

Josip Gracin <gracin@tel.fer.hr> writes:

>On Mon, 16 May 2005 17:11:30 +0000, Casper H. S. Dik wrote:
>
> > This looks like the behaviour of a Sun console when it's
> > gotten a standard vt100 init sequence.  So check your
> > login scripts and tty settings.

>It seems you are right.  It is caused when TERM is set to dtterm and 'vim'
>is started.  Vim somehow screws up the terminal.

>Is there any way to reinitialize it back to normal?  I've tryed 'reset'
>and 'tput -Tterm init' with various terms and it didn't work.

echo ESC[1r

(Set Scrolling 1 line)

For some reason, ESC[s has no effect.


Casper
-- 
Expressed in this posting are my opinions.  They are in no way
related to opinions held by my employer, Sun Microsystems.
Statements on Sun products included here are not gospel and may
be fiction rather than truth.

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.unix.solaris
NNTP-Posting-Host: host-65-121-79-248.skisolitude.com [65.121.79.248]
NNTP-Posting-Date: Mon, 30 May 2005 17:37:27 +0000 (UTC)
References: <3fb4qrF6stbvU3@individual.net>  
    <Y12ke.43$jU5.146080@twister.nyc.rr.com>   <3fc4qmF73nmpU1@individual.net> 
     <1116866258.853325.207410@g44g2000cwa.googlegroups.com>  
    <42982831.9090000@gmail.com>
Message-ID: <1117474642.128165.133980@g44g2000cwa.googlegroups.com>
Date: 30 May 2005 10:37:22 -0700
From: Peter Hunt <peter.hunt@opengear.com>
Subject: Re: Serial Console

Cesare <cesare.tensi@gmail.com> wrote:
>
> The main criteria is manageability.
>
> I mean: easy to install and configure, security of connections estabilished
> from the apparatus to remote user, no-send break command in serial line
> (prevent to halt the machine, solution also is to key-lock the machine).


Most of the console servers I have looked at provide web interfaces
(which vary widely in usability) for simplifying configuration of a
single unit, and some even have (expensive) management software for
controlling multiple units globally. We are currently writing
documentation for better integration with conserver...

    http://conserver.com/

...which is a promising open-source solution which can be used for
managing multiple arbitrary console/terminal servers.

Just FYI there is a page at the conserver site which lists servers that
are "accidental break" safe:

    http://conserver.com/consoles/BREAK-off/breakinfo.html

I am currently trying to contact the Conserver people to donate some
hardware their way.

I myself have worked on the web UI for our console server line, and a
large proponent of ease of use and setup. Like most other Console
Servers we provide a command line accessible via SSH or Telnet, which
essentially gives you a Linux bash prompt with access to some custom
tools for configuration / user management.

I would like to know what your preference is  for setting up  the
console servers you have used so far?


> And also the price. I discovered that Cyclades is cheaper and very easy to
> install/deploy on datacenter. It'm my opinion.
>
> And you?

One of the reasons my company was founded is that they don't agree with
the current pricing of the serial console market. The leaders such as
Cyclades / Avocent-Equinox and Raritan are building products from
technologies that have been around for a long time and in my opinion
are over-pricing what is essentially a simple product. One of our hopes
is to lower the bar to enter server management with console servers.

-- 
Peter.Hunt@opengear.com


 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.unix.solaris
References: <1124216779.135401.48520@z14g2000cwz.googlegroups.com> <Pine.SOL.4.58.0508161302500.22887@zen.rite-group.com> <ddvugf$nll$1@neuromancer.cse.psu.edu>
Message-ID: <Pine.SOL.4.58.0508171432170.24733@zen.rite-group.com>
Date: Wed, 17 Aug 2005 21:36:25 GMT
From: Rich Teer <rich.teer@rite-group.com>
Subject: Re: console server choice

On Wed, 17 Aug 2005, John D Groenveld wrote:

> You'll still want some sort of low power, high availability console
> server device to connect to the private management network?

Possibly, but ALOM and RSC can be configured to use an Ethernet device
for the console (rather than a serial connector), so one needn't invest
in a separate serial console "network".  Althougfh it might be desirable
to spearate the two for a number of reasons, it's possible to have the
ALOM Ethernet ports and the server's regular network connection share
the same switch/network infrastructure.  That said, here we have several
hundred SUn servers, so for logistical reasons the ALOM network and the
regular network are separate (the latter is GBE, the former is only 100
base T).

-- 
Rich Teer, SCNA, SCSA, OpenSolaris CAB member

President,
Rite Online Inc.

Voice: +1 (250) 979-1638
URL: http://www.rite-group.com/rich

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.unix.solaris
NNTP-Posting-Host: 62.195.77.111
References: <11limab1j2ei679@corp.supernews.com>
Message-ID: <43596156$0$11065$e4fe514c@news.xs4all.nl>
Organization: Sun Microsystems, Netherlands
Date: 21 Oct 2005 21:44:54 GMT
From: Casper H.S. Dik <Casper.Dik@Sun.COM>
Subject: Re: Solaris 8,9,10 serial consoles via serial port how to raise speed?

Chris Cox <ccox_nopenotthis@airmail.net> writes:
>
> I'm at a loss.  I have several machines already running with 9600 baud
> (default) speeds to their serial consoles.  From what I read, you can't use
> smc to modify the speed if the ports are used as consoles... but I cannot
> figure out how to change the speed and reset the line so the rate
> changes to the console.
>
> I know it may be different in Solaris 10.. I've got a mix of Sol 8,9,10
> plaforms.  How can I raise the rate to the maximum.  Also, even new
> hardware seems to indicate that 38400 is as high as it can go...
> anyone else know different and can tell me what I need to do to
> enable for 115200 (or if it's possible)?


The maximum a serial console can do during boot is 38400; that's the
maximum OBP can deal with.

Here's what you need to do to set the console speed of a SPARC:

        eeprom ttya-mode=38400,8,n,1,-

change the console line in /etc/ttydefs to read:

        console:38400 hupcl opost onlcr:38400::console

change /kernel/drv/options.conf:

ttymodes="2502:1805:bf:8a3b:3:1c:7f:15:4:0:0:0:11:13:1a:19:12:f:17:16";

(change the third field from "bd" to "bf")(

It's sightly simpler on Solaris/x86.  And yes, it's a bug it's this hard.

Casper
-- 
Expressed in this posting are my opinions.  They are in no way related
to opinions held by my employer, Sun Microsystems.
Statements on Sun products included here are not gospel and may
be fiction rather than truth.

 ..............................................................................

Newsgroups: comp.unix.solaris
NNTP-Posting-Host: 62.195.77.111
References: <11limab1j2ei679@corp.supernews.com>
    <43596156$0$11065$e4fe514c@news.xs4all.nl> <djboc8$17ob$1@server.rock.net>
Message-ID: <4359fffa$0$11074$e4fe514c@news.xs4all.nl>
Organization: Sun Microsystems, Netherlands
Date: 22 Oct 2005 09:01:46 GMT
From: Casper H.S. Dik <Casper.Dik@Sun.COM>
Subject: Re: Solaris 8,9,10 serial consoles via serial port how to raise speed?

"Daniel Rock" <abuse@deadcafe.de> writes:
>
> Casper H.S. Dik <Casper.Dik@sun.com> wrote:
> [...]
>> change /kernel/drv/options.conf:
>> 
>> ttymodes="2502:1805:bf:8a3b:3:1c:7f:15:4:0:0:0:11:13:1a:19:12:f:17:16";
>> 
>> (change the third field from "bd" to "bf")(


>What about /etc/ioctl.syscon?


No need; it's written by init itself (it seems to be working with just this
in S10)

Casper

 ..............................................................................

Newsgroups: comp.unix.solaris
NNTP-Posting-Host: i77111.upc-i.chello.nl [62.195.77.111]
References: <11limab1j2ei679@corp.supernews.com>
    <43596156$0$11065$e4fe514c@news.xs4all.nl>
    <11liu6oqfmjbraf@corp.supernews.com>
Message-ID: <435a003c$0$11074$e4fe514c@news.xs4all.nl>
Organization: Sun Microsystems, Netherlands
Date: 22 Oct 2005 09:02:52 GMT
From: Casper H.S. Dik <Casper.Dik@Sun.COM>
Subject: Re: Solaris 8,9,10 serial consoles via serial port how to raise speed?

Chris Cox <ccox_nopenotthis@airmail.net> writes:

>On a Sol 10 box I changed the ttydefs for console and zapped
>the ttymon and after awhile it seemed to come back at 38400.
>Is that ok?  Seemed to work.  Thanks for the info though.

>Maybe it won't survive boot or do the right thing without
>the eeprom change.. I'll do that too.  I didn't adjust
>ttymodes... do I have to do that?

You need the eeprom setting for boot and the options.conf (for SPARC).

Casper

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.unix.solaris
NNTP-Posting-Host: panix2.panix.com
NNTP-Posting-Date: Sun, 12 Oct 2008 23:42:00 +0000 (UTC)
References: <53fd6fbf-04fa-4efa-bb97-5f1b481cf6bd@z11g2000prl.googlegroups.com>
            <1222268672.797309@news1nwk>
Message-ID: <gcu207$njb$4@reader1.panix.com>
Date: Sun, 12 Oct 2008 23:42:00 +0000 (UTC)
From: David Combs <dkcombs@panix.com>
Subject: Re: To setup serial port access to sparc system at baud rates greater/higher than 9600

In article <1222268672.797309@news1nwk>,
Martha Starkey  <martha.starkey@sun.com> wrote:
>
>On 09/23/08 21:32, Asif wrote:
>>
>> Setting console to 38400,8,n,1 on Sun Blade 1500 with Solaris 10:
>>
>> Change console speed using the eeprom cmd to set it in OBP:
>> $ eeprom ttya-mode=38400,8,n,1,-
>>
>> Set the ttymon console baud rate:
>> $ vi /etc/ttydefs
>> console:38400 hupcl opost onlcr:38400::console
>>
>>
>> Replace the entry in /kernel/drv/options.conf with the following:
>> # 38400 :be:ttymodes="2502:1805:be:8a3b:3:1c:7f:15:4:0:0:0:11:13:1a:19:12:f:17:16";
>> 
>>
>> NOTE: The POST output will be illegible.
>
>
>How are you viewing the console? attached keyboard and monitor? serial
>port?  if serial port, I'd say make sure your terminal em is also set to
>38400,8,n,1

Please, what's one's terminal "em"?

Thanks,

David


 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

Newsgroups: comp.unix.solaris
Path: g2news1.google.com!news1.google.com!border1.nntp.dca.giganews.com
      !nntp.giganews.com!nx02.iad.newshosting.com!newshosting.com
      !198.186.194.250.MISMATCH!news-xxxfer.readnews.com!transit4.readnews.com
      !news-out.readnews.com!transit3.readnews.com!panix!not-for-mail
Message-ID: <gd7sd7$r7c$1@reader1.panix.com>
References: <53fd6fbf-04fa-4efa-bb97-5f1b481cf6bd@z11g2000prl.googlegroups.com> <1222268672.797309@news1nwk> <gcu207$njb$4@reader1.panix.com>
NNTP-Posting-Date: Thu, 16 Oct 2008 17:07:51 +0000 (UTC)
Organization: I have a map of the United States that's actual size
Date: Thu, 16 Oct 2008 17:07:51 +0000 (UTC)
From: gerg@panix.com (Greg Andrews)
Subject: Re: To setup serial port access to sparc system at baud rates greater/higher than 9600

dkcombs@panix.com (David Combs) writes:
>
>In article <1222268672.797309@news1nwk>,
>Martha Starkey  <martha.starkey@sun.com> wrote:
>>
>>how are you viewing the console? attached keyboard and monitor? serial 
>>port?  if serial port, I'd say make sure your terminal em is also set to 
>>38400,8,n,1
>
>
>Please, what's one's terminal "em"?


I think Martha abbreviated the word "emulator".

Make sure the  terminal emulator you're using to view the output
of the other machine's console is set to

  38400 bps, 8 data bits, no parity, and 1 stop bit.

-Greg

--  
Do NOT reply via e-mail.
Reply in the newsgroup.

 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

Newsgroups: comp.unix.solaris
NNTP-Posting-Date: Tue, 18 Nov 2008 10:43:19 -0600
References: <120faa6f-a308-441f-86ca-7bc91e4ca06f@i24g2000prf.googlegroups.com>
Message-ID: <1227026599.94018@news1nwk>
Organization: Sun Microsystems
Date: Tue, 18 Nov 2008 11:43:18 -0500
From: Martha Starkey <martha.starkey@sun.com>
Subject: Re: halt OS to OBP prompt

On 11/17/08 14:37, victorfeng1973@yahoo.com wrote:
>
> I have a Dell Latitude D505 connecting to the serial port of V480.
> During OS (Solaris8/9) booting, I try to halt the system back to
> OBP prompt by holding both Fn and Break keys, but the system keeps
> booting. Any idea?
>
> Thanks
> Victor


I'd recommend Tera Term over Hyper Term. Tera Term has a real honest to
goodness break sequence (in one of the drop down menus, can't recall if
it's control-b, but it's something like that).

-- 
Martha

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.unix.solaris
NNTP-Posting-Host: 212.71.111.20
NNTP-Posting-Date: Thu, 14 Aug 2008 09:29:05 MET DST
References: <48a31fbe$1@ews20> <48a3254c$0$630$5a6aecb4@news.aaisp.net.uk>
Message-ID: <48a3debc$1@ews20>
Organization: COLT Telecom AG, Switzerland
Date: Thu, 14 Aug 2008 07:29:05 GMT
From: Rainer Duffner <rainer@ultra-secure.de>
Subject: Re: Solaris x86 insists on serial console

Andrew Gabriel schrieb:
> In article <48a31fbe$1@ews20>,
>       Rainer Duffner <rainer@ultra-secure.de> writes:
>> Hi,
>>
>> to debug some problems, I installed Solaris via serial console on a DL380G4.
>> Now, I want to get rid of it. I removed the relevant entries from the
>> /boot/grub/menu.lst and unplugged the cable.
>> But it still wants to use the serial console!
>> Solaris 10U5 on x86.
>> Is there some other place I need to look?
>>
>>
>> All the tutorials deal with enabling the serial console...
>
>
> eeprom console=text
>
> (rather than eeprom console=ttya)



Yeah!  This works.


Thanks a lot.

Best Regards,
-- 
Rainer

 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.unix.solaris
NNTP-Posting-Host: 81.187.162.106
References: <1178345966.590434.135290@p77g2000hsh.googlegroups.com>
    <slrnf3o9dm.26t.postmaster@andor.dropbear.id.au>
Message-ID: <463c2ceb$0$637$5a6aecb4@news.aaisp.net.uk>
Date: 05 May 2007 07:06:20 GMT
From: Andrew Gabriel <andrew@cucumber.demon.co.uk>
Subject: Re: How to re-login to the session that used before in UNIX?


In article <slrnf3o9dm.26t.postmaster@andor.dropbear.id.au>,
        Paul Colquhoun <postmaster@andor.dropbear.id.au> writes:
> On 4 May 2007 23:19:26 -0700, standardhk@gmail.com <standardhk@gmail.com> wrote:
>| Hi all,
>|
>| For example i have already login as pts/3, then I was disconnect the
>| telnet client (without exit the session)
>| then how can i relogin to the session pts/3 ???
>|
>| also I really want to know UNIX can support multi-login to the same
>| session or not??? and how?
>
> Standard behaviour is to kill all the pts/3 processes when you log out
> of the session.


Although it can take the underlying network protocols some time
to notice you've gone, if you simply vanished off the net without
going through the connection closedown procedure.


> Look into a program called 'screen' if you want to be able to login,
> start some programs running, logout, and then later login again and
> re-connect to the programs you started earlier.
>
> I'm not sure what you mean by "multi-login to the same session".
>
> You can login to the same server multiple times as a single user, but
> they will be assigned separate pts/? numbers, so they probably count as
> separate sessions.


I guess he might have seen Sunray sessions where you can log back
in to an existing session.

-- 
Andrew Gabriel
[email address is not usable -- followup in the newsgroup]


 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.unix.solaris
NNTP-Posting-Host: 89.100.148.17
NNTP-Posting-Date: Fri, 31 Jul 2009 17:48:09 +0000 (UTC)
References: <6e985070-1e6e-4630-bd0d-b8a866dd88fa@12g2000pri.googlegroups.com>
    <7dd30bF2bmiohU1@mid.individual.net>
    <4a716fff$0$31033$5a6aecb4@news.aaisp.net.uk>
    <7ddahkF2bmiohU2@mid.individual.net>
    <a49ecd88-b63a-4e70-9523-8a56e688fcc2@c1g2000yqi.googlegroups.com>
Message-ID: <3627eb98-fe1d-4c64-b2c4-74f81e45dd69@g31g2000yqc.googlegroups.com>
Date: Fri, 31 Jul 2009 10:48:09 -0700 (PDT)
From: Zfs.. <cian.scripter@gmail.com>
Subject: Re: Serial console started. To stop, type ESC ( in x4140

On Jul 31, 4:54 pm, "Zfs.." <cian.scrip...@gmail.com> wrote:
> On Jul 30, 11:21 am, Ian Collins <ian-n...@hotmail.com> wrote:
>
>
> > Andrew Gabriel wrote:
> > >
> > > In article <7dd30bF2bmio...@mid.individual.net>,
> > >    Ian Collins <ian-n...@hotmail.com> writes:
> > >> varun wrote:
> > >>> Guys,
>
> > >>> I've been running into this problem multiple times. Few of x4140
> > >>> machines in my setup doesn't allow me to get console from Net mgmt or
> > >>> serial console.
>
> > >>> I login into the Net mgmt and do :
>
> > >>> cd /SP/Console
> > >>>  start
> > >>>  and it gives me
> > >>> Serial console started. To stop, type ESC (
>
> > >>> Then I dont get the login prompt for OS.
>
> > >>> Any one got a fix for this??
> > >> I don't know the correct fix, but when this happens I've ended up using
> > >> the web console instead.
>
> > > Is the system configured with the console on the serial port?
>
> > Good point, I haven't checked.
>
> > --
> > Ian Collins
>
> Did you get the console to start as I am having the same issue !


    http://forums.sun.com/thread.jspa?threadID=5225553 kinda sorted it..

Worst SP I have ever used..


 //////////////////////////////////////////////////////////////////////////////

Newsgroups: comp.terminals
NNTP-Posting-Host: 88-121-16-91.rev.libertysurf.net
NNTP-Posting-Date: Sun, 24 Aug 2008 14:29:23 +0000 (UTC)
Message-ID: <1im6qs5.13codna1yzkqf7N%unbewusst.sein@weltanschauung.com.invalid>
Date: Sun, 24 Aug 2008 16:28:35 +0200
From: Une Bévue <unbewusst.sein@weltanschauung.com.invalid>
Subject: term emulation detecting the end of remote send

i need to implement a (pseudo) terminal emulation.
for the time being, to exercicize me, i'm working with telnet.

basically what i don't understand is the way to detect the remote host
(thru telnet) has finished sending something.

for the time being i'm using the prompt:
when i get the prompt (something like "/path/to/pwd #") at the beginning
of a transmitted line (then after a \n) i assume i have hand to transmit
another command.

is there a special control sequence saying telnet has finished sennding
and is ready to accept a new command ?

-- 
Une Bévue

 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

Newsgroups: comp.terminals
NNTP-Posting-Host: 12.219.246.17
NNTP-Posting-Date: Sun, 24 Aug 2008 21:35:21 GMT
References: <1im6qs5.13codna1yzkqf7N%unbewusst.sein@weltanschauung.com.invalid>
Message-ID: <slrngb3l0p.nqc.rivie@stench.no.domain>
Organization: AT&T ASP.att.net
Date: Sun, 24 Aug 2008 21:35:21 GMT
From: Roger Ivie <rivie@ridgenet.net>
Subject: Re: term emulation detecting the end of remote send

On 2008-08-24, Une Bévue <unbewusst.sein@weltanschauung.com.invalid> wrote:
>
> is there a special control sequence saying telnet has finished sending
> and is ready to accept a new command ?

No. There isn't one for terminals, either.

-- 
roger ivie
rivie@ridgenet.net

 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 

NNTP-Posting-Host: 88-121-16-91.rev.libertysurf.net
NNTP-Posting-Date: Mon, 25 Aug 2008 13:56:05 +0000 (UTC)
References: <1im6qs5.13codna1yzkqf7N%unbewusst.sein@weltanschauung.com.invalid>
    <slrngb3l0p.nqc.rivie@stench.no.domain>
Message-ID: <1im8h5t.etgtz97fnruoN%unbewusst.sein@weltanschauung.com.invalid>
Organization: Service de news de lacave.net
Date: Mon, 25 Aug 2008 15:55:26 +0200
From: Une Bévue <unbewusst.sein@weltanschauung.com.invalid>
Subject: Re: term emulation detecting the end of remote send

Roger Ivie <rivie@ridgenet.net> wrote:
>
> No. There isn't one for terminals, either.


fine, thanks, then, the only way to know telnet has finished is using
a timeout...

but, how to avoid hanging after the last getc ?

because i think i need to "kil"" last getc in order being able to putc
???

-- 
Une Bévue


 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

Newsgroups: comp.terminals
NNTP-Posting-Host: 12.219.246.17
NNTP-Posting-Date: Mon, 25 Aug 2008 15:13:08 GMT
References: <1im6qs5.13codna1yzkqf7N%unbewusst.sein@weltanschauung.com.invalid>
    <slrngb3l0p.nqc.rivie@stench.no.domain>
    <1im8h5t.etgtz97fnruoN%unbewusst.sein@weltanschauung.com.invalid>
Message-ID: <slrngb5j04.kna.rivie@stench.no.domain>
Date: Mon, 25 Aug 2008 15:13:08 GMT
From: Roger Ivie <rivie@ridgenet.net>
Subject: Re: term emulation detecting the end of remote send


I wouldn't know; I'm not much of a Unix guy.

I suspect this is the sort of thing folks use threads and/or
select(2) for.

-- 
roger ivie
rivie@ridgenet.net

 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

	[Archiver's note:
	 Also, certain 3270-style terminals might behave otherwise, but nobody
	 would want to use a 3270-style terminal with Linux or Unix.]

 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .


Newsgroups: comp.terminals
NNTP-Posting-Host: 88-121-16-91.rev.libertysurf.net
NNTP-Posting-Date: Tue, 26 Aug 2008 11:42:53 +0000 (UTC)
References: <1im6qs5.13codna1yzkqf7N%unbewusst.sein@weltanschauung.com.invalid>
    <kjsco5-q6m.ln1@main.anatron.com.au>
Message-ID: <1ima7zm.1snphc6aii26sN%unbewusst.sein@weltanschauung.com.invalid>
Date: Tue, 26 Aug 2008 13:42:23 +0200
From: Une Bévue <unbewusst.sein@weltanschauung.com.invalid>
Subject: Re: term emulation detecting the end of remote send

Russell Shaw <rjshawN_o@s_pam.netspace.net.au> wrote:

>
> I think all that happens is that when the application
> sends a NL, then the applications' kernel tty buffer
> is flushed with a CR substituted for the NL,
> as determined by the kernel's line discipline.

I don't think so because, if using telnet, outputting, for example :

    ls -AL

telnet will answer with the content of the directory followed by the
prompt, like that :

/ # cd /mnt/fat/4tt
/mnt/fat/4tt # ls -Al
-rwxr-xr-x    1 root     root          305 Aug 12 11:39 check_db_md5.sh
-rwxr-xr-x    1 root     root          341 Aug  8 09:11
remove_file_mtime.ash
-rwxr-xr-x    1 root     root          409 Aug 13 18:37 write_db_md5.sh
/mnt/fat/4tt #

ending with "/mnt/fat/4tt # "

then, with a spacen no NL

it sounds strange to me there is no sequence saying "end of
transmission"...

finally i get it working with a timeout...

-- 
Une Bévue

 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

Newsgroups: comp.terminals
NNTP-Posting-Host: rapun.sel.cam.ac.uk
References: <1im6qs5.13codna1yzkqf7N%unbewusst.sein@weltanschauung.com.invalid>
    <kjsco5-q6m.ln1@main.anatron.com.au>
    <1ima7zm.1snphc6aii26sN%unbewusst.sein@weltanschauung.com.invalid>
Message-ID: <gTy*b3pls@news.chiark.greenend.org.uk>
Organization: Tartarus.Org
Date: 26 Aug 2008 13:28:54 +0100 (BST)
From: Simon Tatham <anakin@pobox.com>
Subject: Re: term emulation detecting the end of remote send

Une Bév ue <unbewusst.sein@weltanschauung.com.invalid> wrote:
>
> it sounds strange to me there is no sequence saying "end of
> transmission"...

It's because shell sessions of this type are not really intended to
be processed by machines. The command prompt is displayed for a
human to read, and a human knows when they've seen the prompt partly
by timeout, partly by knowing what the prompt is supposed to look
like, and partly by context (allowing them to disambiguate, say, a
"$ " at what ought to be the end of their previous command's output
from a "$ " half way through it).

If you're trying to set up an automated means of issuing shell
commands to a remote machine, then you should probably be doing it
using a mechanism actually designed for the job. For instance, the
SSH protocol has a robust mechanism for sending a single command,
having it executed, and sending back notification when it terminates
so that you can check its error code and send another command. No
timeout would be required in this case, and also there would be no
need to parse a prompt out of the incoming data in the first place.
However, Telnet in particular is not well equipped with mechanisms
of this type.

(As a minor point of interest, there is a Telnet "End Of Record"
code which _is_ used in some circumstances to delimit the end of a
prompt. However, it's generally only used in MUDs and talkers, where
it permits a dedicated MUD client to tell the difference between a
line of output which should be displayed in an output window, and a
prompt which should be displayed in an input window. I don't know of
any kind of Telnet server which uses the same mechanism for a
general command shell, although in principle an operating system
could provide a means to do so if it really wanted to.)

-- 
Simon Tatham         "That all men should be brothers is a
<anakin@pobox.com>    dream of people who have no brothers."



 //////////////////////////////////////////////////////////////////////////////

http://www.linuxfromscratch.org/pipermail/lfs-dev/2002-May/025501.html

From: Amir Hardon <a_hardon * netvision.net.il>
Date: Sat May 18 07:10:21 MDT 2002
Subject Console i18n(fonts).

Hello all,

I want to suggest a little change to the lfs bootscripts.

I think the bootscripts should set a font for all tty's. for users who use not 
only English.

On my sysytem, I created a script called i18n which is a replacement for the 
loadkeys script, with some additional commands for loading fonts.

Here are the files:

/etc/sysconfig/i18n:

# Begin /etc/sysconfig/i18n

LAYOUT=/usr/share/kbd/keymaps/i386/qwerty/il.map.gz
FONT=LatArCyrHeb-16 # The default English one will be latin1-16
CONSOLEMAP=8859-8 # Default for English will be trivial (Am I wrong?)

# End /etc/sysconfig/i18n

/etc/rc.d/init.d/i18n:

#!/bin/sh
# Begin $rc_base/init.d/loadkeys - Loadkeys Script

# Based on loadkeys script from LFS-3.1 and earlier.
# Rewritten by Gerard Beekmans  - gerard at linuxfromscratch.org
# Added font settings by Amir Hardon - a_hardon at netvision.net.il

source /etc/sysconfig/rc
source $rc_functions
source /etc/sysconfig/i18n

echo -n "Loading keymap..."
loadkeys $LAYOUT
evaluate_retval
echo

for tty in /dev/tty[1-6]
do
    setmetamode metabit < $tty > /dev/null
done

echo -n "Setting font..."
setfont $FONT -m $CONSOLEMAP
evaluate_retval
echo
for tty in /dev/tty[1-6]
do
    echo -ne "\\033(K" > $tty
done

# End $rc_base/init.d/loadkeys


 //////////////////////////////////////////////////////////////////////////////

